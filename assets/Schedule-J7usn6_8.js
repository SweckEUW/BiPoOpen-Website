import{M as Ot}from"./MatchElement-BhzTbX-7.js";import{d as Ze,r as Zt,c as I,b as _,a as ge,t as M,u as q,F as ae,l as _e,o as E,E as Ct,A as Qt,j as Pt,e as lt,k as At,s as Jt,_ as en}from"./index-C8Sc0seR.js";import{d as tn,f as nn,h as on,i as rn}from"./tournamentPlayerFunctions-DqJbdPWr.js";import{S as kt,P as Nt}from"./pagination-BggEmHhs.js";/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bt(Object(n),!0).forEach(function(i){an(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function $e(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$e=function(e){return typeof e}:$e=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(t)}function an(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J(){return J=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},J.apply(this,arguments)}function sn(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,r;for(r=0;r<i.length;r++)o=i[r],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function ln(t,e){if(t==null)return{};var n=sn(t,e),i,o;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}var un="1.15.2";function Q(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var ee=Q(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Me=Q(/Edge/i),_t=Q(/firefox/i),Pe=Q(/safari/i)&&!Q(/chrome/i)&&!Q(/android/i),xt=Q(/iP(ad|od|hone)/i),Mt=Q(/chrome/i)&&Q(/android/i),Ft={capture:!1,passive:!1};function w(t,e,n){t.addEventListener(e,n,!ee&&Ft)}function b(t,e,n){t.removeEventListener(e,n,!ee&&Ft)}function Le(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function cn(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function z(t,e,n,i){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Le(t,e):Le(t,e))||i&&t===n)return t;if(t===n)break}while(t=cn(t))}return null}var wt=/\s+/g;function R(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(wt," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(wt," ")}}function h(t,e,n){var i=t&&t.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=n+(typeof n=="string"?"":"px")}}function be(t,e){var n="";if(typeof t=="string")n=t;else do{var i=h(t,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Gt(t,e,n){if(t){var i=t.getElementsByTagName(e),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function K(){var t=document.scrollingElement;return t||document.documentElement}function P(t,e,n,i,o){if(!(!t.getBoundingClientRect&&t!==window)){var r,a,s,l,u,f,d;if(t!==window&&t.parentNode&&t!==K()?(r=t.getBoundingClientRect(),a=r.top,s=r.left,l=r.bottom,u=r.right,f=r.height,d=r.width):(a=0,s=0,l=window.innerHeight,u=window.innerWidth,f=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(o=o||t.parentNode,!ee))do if(o&&o.getBoundingClientRect&&(h(o,"transform")!=="none"||n&&h(o,"position")!=="static")){var g=o.getBoundingClientRect();a-=g.top+parseInt(h(o,"border-top-width")),s-=g.left+parseInt(h(o,"border-left-width")),l=a+r.height,u=s+r.width;break}while(o=o.parentNode);if(i&&t!==window){var D=be(o||t),v=D&&D.a,y=D&&D.d;D&&(a/=y,s/=v,d/=v,f/=y,l=a+f,u=s+d)}return{top:a,left:s,bottom:l,right:u,width:d,height:f}}}function yt(t,e,n){for(var i=re(t,!0),o=P(t)[e];i;){var r=P(i)[n],a=void 0;if(a=o>=r,!a)return i;if(i===K())break;i=re(i,!1)}return!1}function we(t,e,n,i){for(var o=0,r=0,a=t.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==p.ghost&&(i||a[r]!==p.dragged)&&z(a[r],n.draggable,t,!1)){if(o===e)return a[r];o++}r++}return null}function pt(t,e){for(var n=t.lastElementChild;n&&(n===p.ghost||h(n,"display")==="none"||e&&!Le(n,e));)n=n.previousElementSibling;return n||null}function $(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==p.clone&&(!e||Le(t,e))&&n++;return n}function Dt(t){var e=0,n=0,i=K();if(t)do{var o=be(t),r=o.a,a=o.d;e+=t.scrollLeft*r,n+=t.scrollTop*a}while(t!==i&&(t=t.parentNode));return[e,n]}function dn(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n)}return-1}function re(t,e){if(!t||!t.getBoundingClientRect)return K();var n=t,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=h(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return K();if(i||e)return n;i=!0}}while(n=n.parentNode);return K()}function fn(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Je(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Ae;function Bt(t,e){return function(){if(!Ae){var n=arguments,i=this;n.length===1?t.call(i,n[0]):t.apply(i,n),Ae=setTimeout(function(){Ae=void 0},e)}}}function hn(){clearTimeout(Ae),Ae=void 0}function Rt(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Xt(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function Yt(t,e,n){var i={};return Array.from(t.children).forEach(function(o){var r,a,s,l;if(!(!z(o,e.draggable,t,!1)||o.animated||o===n)){var u=P(o);i.left=Math.min((r=i.left)!==null&&r!==void 0?r:1/0,u.left),i.top=Math.min((a=i.top)!==null&&a!==void 0?a:1/0,u.top),i.right=Math.max((s=i.right)!==null&&s!==void 0?s:-1/0,u.right),i.bottom=Math.max((l=i.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var Y="Sortable"+new Date().getTime();function pn(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(o){if(!(h(o,"display")==="none"||o===p.ghost)){t.push({target:o,rect:P(o)});var r=V({},t[t.length-1].rect);if(o.thisAnimationDuration){var a=be(o,!0);a&&(r.top-=a.f,r.left-=a.e)}o.fromRect=r}})}},addAnimationState:function(i){t.push(i)},removeAnimationState:function(i){t.splice(dn(t,{target:i}),1)},animateAll:function(i){var o=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var r=!1,a=0;t.forEach(function(s){var l=0,u=s.target,f=u.fromRect,d=P(u),g=u.prevFromRect,D=u.prevToRect,v=s.rect,y=be(u,!0);y&&(d.top-=y.f,d.left-=y.e),u.toRect=d,u.thisAnimationDuration&&Je(g,d)&&!Je(f,d)&&(v.top-d.top)/(v.left-d.left)===(f.top-d.top)/(f.left-d.left)&&(l=gn(v,g,D,o.options)),Je(d,f)||(u.prevFromRect=f,u.prevToRect=d,l||(l=o.options.animation),o.animate(u,v,d,l)),l&&(r=!0,a=Math.max(a,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(e),r?e=setTimeout(function(){typeof i=="function"&&i()},a):typeof i=="function"&&i(),t=[]},animate:function(i,o,r,a){if(a){h(i,"transition",""),h(i,"transform","");var s=be(this.el),l=s&&s.a,u=s&&s.d,f=(o.left-r.left)/(l||1),d=(o.top-r.top)/(u||1);i.animatingX=!!f,i.animatingY=!!d,h(i,"transform","translate3d("+f+"px,"+d+"px,0)"),this.forRepaintDummy=mn(i),h(i,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),h(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){h(i,"transition",""),h(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},a)}}}}function mn(t){return t.offsetWidth}function gn(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}var he=[],et={initializeByDefault:!0},Fe={mount:function(e){for(var n in et)et.hasOwnProperty(n)&&!(n in e)&&(e[n]=et[n]);he.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),he.push(e)},pluginEvent:function(e,n,i){var o=this;this.eventCanceled=!1,i.cancel=function(){o.eventCanceled=!0};var r=e+"Global";he.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][r]&&n[a.pluginName][r](V({sortable:n},i)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](V({sortable:n},i)))})},initializePlugins:function(e,n,i,o){he.forEach(function(s){var l=s.pluginName;if(!(!e.options[l]&&!s.initializeByDefault)){var u=new s(e,n,e.options);u.sortable=e,u.options=e.options,e[l]=u,J(i,u.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);typeof a<"u"&&(e.options[r]=a)}},getEventProperties:function(e,n){var i={};return he.forEach(function(o){typeof o.eventProperties=="function"&&J(i,o.eventProperties.call(n[o.pluginName],e))}),i},modifyOption:function(e,n,i){var o;return he.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[n]=="function"&&(o=r.optionListeners[n].call(e[r.pluginName],i))}),o}};function vn(t){var e=t.sortable,n=t.rootEl,i=t.name,o=t.targetEl,r=t.cloneEl,a=t.toEl,s=t.fromEl,l=t.oldIndex,u=t.newIndex,f=t.oldDraggableIndex,d=t.newDraggableIndex,g=t.originalEvent,D=t.putSortable,v=t.extraEventProperties;if(e=e||n&&n[Y],!!e){var y,H=e.options,U="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!ee&&!Me?y=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(i,!0,!0)),y.to=a||n,y.from=s||n,y.item=o||n,y.clone=r,y.oldIndex=l,y.newIndex=u,y.oldDraggableIndex=f,y.newDraggableIndex=d,y.originalEvent=g,y.pullMode=D?D.lastPutMode:void 0;var N=V(V({},v),Fe.getEventProperties(i,e));for(var W in N)y[W]=N[W];n&&n.dispatchEvent(y),H[U]&&H[U].call(e,y)}}var bn=["evt"],F=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.evt,r=ln(i,bn);Fe.pluginEvent.bind(p)(e,n,V({dragEl:c,parentEl:O,ghostEl:m,rootEl:S,nextEl:fe,lastDownEl:He,cloneEl:T,cloneHidden:oe,dragStarted:Ie,putSortable:A,activeSortable:p.active,originalEvent:o,oldIndex:ve,oldDraggableIndex:ke,newIndex:X,newDraggableIndex:ie,hideGhostForTarget:jt,unhideGhostForTarget:zt,cloneNowHidden:function(){oe=!0},cloneNowShown:function(){oe=!1},dispatchSortableEvent:function(s){x({sortable:n,name:s,originalEvent:o})}},r))};function x(t){vn(V({putSortable:A,cloneEl:T,targetEl:c,rootEl:S,oldIndex:ve,oldDraggableIndex:ke,newIndex:X,newDraggableIndex:ie},t))}var c,O,m,S,fe,He,T,oe,ve,X,ke,ie,Be,A,me=!1,qe=!1,Ke=[],ce,j,tt,nt,Et,St,Ie,pe,Ne,xe=!1,Re=!1,We,k,it=[],ut=!1,Ve=[],Qe=typeof document<"u",Xe=xt,Tt=Me||ee?"cssFloat":"float",_n=Qe&&!Mt&&!xt&&"draggable"in document.createElement("div"),$t=function(){if(Qe){if(ee)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Ht=function(e,n){var i=h(e),o=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),r=we(e,0,n),a=we(e,1,n),s=r&&h(r),l=a&&h(a),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+P(r).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+P(a).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&s.float!=="none"){var d=s.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return r&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||u>=o&&i[Tt]==="none"||a&&i[Tt]==="none"&&u+f>o)?"vertical":"horizontal"},wn=function(e,n,i){var o=i?e.left:e.top,r=i?e.right:e.bottom,a=i?e.width:e.height,s=i?n.left:n.top,l=i?n.right:n.bottom,u=i?n.width:n.height;return o===s||r===l||o+a/2===s+u/2},yn=function(e,n){var i;return Ke.some(function(o){var r=o[Y].options.emptyInsertThreshold;if(!(!r||pt(o))){var a=P(o),s=e>=a.left-r&&e<=a.right+r,l=n>=a.top-r&&n<=a.bottom+r;if(s&&l)return i=o}}),i},Wt=function(e){function n(r,a){return function(s,l,u,f){var d=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(r==null&&(a||d))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return n(r(s,l,u,f),a)(s,l,u,f);var g=(a?s:l).options.group.name;return r===!0||typeof r=="string"&&r===g||r.join&&r.indexOf(g)>-1}}var i={},o=e.group;(!o||$e(o)!="object")&&(o={name:o}),i.name=o.name,i.checkPull=n(o.pull,!0),i.checkPut=n(o.put),i.revertClone=o.revertClone,e.group=i},jt=function(){!$t&&m&&h(m,"display","none")},zt=function(){!$t&&m&&h(m,"display","")};Qe&&!Mt&&document.addEventListener("click",function(t){if(qe)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),qe=!1,!1},!0);var de=function(e){if(c){e=e.touches?e.touches[0]:e;var n=yn(e.clientX,e.clientY);if(n){var i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]=e[o]);i.target=i.rootEl=n,i.preventDefault=void 0,i.stopPropagation=void 0,n[Y]._onDragOver(i)}}},Dn=function(e){c&&c.parentNode[Y]._isOutsideThisEl(e.target)};function p(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=J({},e),t[Y]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ht(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&!Pe,emptyInsertThreshold:5};Fe.initializePlugins(this,t,n);for(var i in n)!(i in e)&&(e[i]=n[i]);Wt(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:_n,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?w(t,"pointerdown",this._onTapStart):(w(t,"mousedown",this._onTapStart),w(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(w(t,"dragover",this),w(t,"dragenter",this)),Ke.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),J(this,pn())}p.prototype={constructor:p,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(pe=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,c):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,i=this.el,o=this.options,r=o.preventOnFilter,a=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(s||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,f=o.filter;if(An(i),!c&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||o.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Pe&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=z(l,o.draggable,i,!1),!(l&&l.animated)&&He!==l)){if(ve=$(l),ke=$(l,o.draggable),typeof f=="function"){if(f.call(this,e,l,this)){x({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:i,fromEl:i}),F("filter",n,{evt:e}),r&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(d){if(d=z(u,d.trim(),i,!1),d)return x({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:i,toEl:i}),F("filter",n,{evt:e}),!0}),f)){r&&e.cancelable&&e.preventDefault();return}o.handle&&!z(u,o.handle,i,!1)||this._prepareDragStart(e,s,l)}}},_prepareDragStart:function(e,n,i){var o=this,r=o.el,a=o.options,s=r.ownerDocument,l;if(i&&!c&&i.parentNode===r){var u=P(i);if(S=r,c=i,O=c.parentNode,fe=c.nextSibling,He=i,Be=a.group,p.dragged=c,ce={target:c,clientX:(n||e).clientX,clientY:(n||e).clientY},Et=ce.clientX-u.left,St=ce.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,c.style["will-change"]="all",l=function(){if(F("delayEnded",o,{evt:e}),p.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!_t&&o.nativeDraggable&&(c.draggable=!0),o._triggerDragStart(e,n),x({sortable:o,name:"choose",originalEvent:e}),R(c,a.chosenClass,!0)},a.ignore.split(",").forEach(function(f){Gt(c,f.trim(),ot)}),w(s,"dragover",de),w(s,"mousemove",de),w(s,"touchmove",de),w(s,"mouseup",o._onDrop),w(s,"touchend",o._onDrop),w(s,"touchcancel",o._onDrop),_t&&this.nativeDraggable&&(this.options.touchStartThreshold=4,c.draggable=!0),F("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Me||ee))){if(p.eventCanceled){this._onDrop();return}w(s,"mouseup",o._disableDelayedDrag),w(s,"touchend",o._disableDelayedDrag),w(s,"touchcancel",o._disableDelayedDrag),w(s,"mousemove",o._delayedDragTouchMoveHandler),w(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&w(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){c&&ot(c),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._disableDelayedDrag),b(e,"touchend",this._disableDelayedDrag),b(e,"touchcancel",this._disableDelayedDrag),b(e,"mousemove",this._delayedDragTouchMoveHandler),b(e,"touchmove",this._delayedDragTouchMoveHandler),b(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?w(document,"pointermove",this._onTouchMove):n?w(document,"touchmove",this._onTouchMove):w(document,"mousemove",this._onTouchMove):(w(c,"dragend",this),w(S,"dragstart",this._onDragStart));try{document.selection?je(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(me=!1,S&&c){F("dragStarted",this,{evt:n}),this.nativeDraggable&&w(document,"dragover",Dn);var i=this.options;!e&&R(c,i.dragClass,!1),R(c,i.ghostClass,!0),p.active=this,e&&this._appendGhost(),x({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(j){this._lastX=j.clientX,this._lastY=j.clientY,jt();for(var e=document.elementFromPoint(j.clientX,j.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(j.clientX,j.clientY),e!==n);)n=e;if(c.parentNode[Y]._isOutsideThisEl(e),n)do{if(n[Y]){var i=void 0;if(i=n[Y]._onDragOver({clientX:j.clientX,clientY:j.clientY,target:e,rootEl:n}),i&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);zt()}},_onTouchMove:function(e){if(ce){var n=this.options,i=n.fallbackTolerance,o=n.fallbackOffset,r=e.touches?e.touches[0]:e,a=m&&be(m,!0),s=m&&a&&a.a,l=m&&a&&a.d,u=Xe&&k&&Dt(k),f=(r.clientX-ce.clientX+o.x)/(s||1)+(u?u[0]-it[0]:0)/(s||1),d=(r.clientY-ce.clientY+o.y)/(l||1)+(u?u[1]-it[1]:0)/(l||1);if(!p.active&&!me){if(i&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(m){a?(a.e+=f-(tt||0),a.f+=d-(nt||0)):a={a:1,b:0,c:0,d:1,e:f,f:d};var g="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");h(m,"webkitTransform",g),h(m,"mozTransform",g),h(m,"msTransform",g),h(m,"transform",g),tt=f,nt=d,j=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!m){var e=this.options.fallbackOnBody?document.body:S,n=P(c,!0,Xe,!0,e),i=this.options;if(Xe){for(k=e;h(k,"position")==="static"&&h(k,"transform")==="none"&&k!==document;)k=k.parentNode;k!==document.body&&k!==document.documentElement?(k===document&&(k=K()),n.top+=k.scrollTop,n.left+=k.scrollLeft):k=K(),it=Dt(k)}m=c.cloneNode(!0),R(m,i.ghostClass,!1),R(m,i.fallbackClass,!0),R(m,i.dragClass,!0),h(m,"transition",""),h(m,"transform",""),h(m,"box-sizing","border-box"),h(m,"margin",0),h(m,"top",n.top),h(m,"left",n.left),h(m,"width",n.width),h(m,"height",n.height),h(m,"opacity","0.8"),h(m,"position",Xe?"absolute":"fixed"),h(m,"zIndex","100000"),h(m,"pointerEvents","none"),p.ghost=m,e.appendChild(m),h(m,"transform-origin",Et/parseInt(m.style.width)*100+"% "+St/parseInt(m.style.height)*100+"%")}},_onDragStart:function(e,n){var i=this,o=e.dataTransfer,r=i.options;if(F("dragStart",this,{evt:e}),p.eventCanceled){this._onDrop();return}F("setupClone",this),p.eventCanceled||(T=Xt(c),T.removeAttribute("id"),T.draggable=!1,T.style["will-change"]="",this._hideClone(),R(T,this.options.chosenClass,!1),p.clone=T),i.cloneId=je(function(){F("clone",i),!p.eventCanceled&&(i.options.removeCloneOnHide||S.insertBefore(T,c),i._hideClone(),x({sortable:i,name:"clone"}))}),!n&&R(c,r.dragClass,!0),n?(qe=!0,i._loopId=setInterval(i._emulateDragOver,50)):(b(document,"mouseup",i._onDrop),b(document,"touchend",i._onDrop),b(document,"touchcancel",i._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(i,o,c)),w(document,"drop",i),h(c,"transform","translateZ(0)")),me=!0,i._dragStartId=je(i._dragStarted.bind(i,n,e)),w(document,"selectstart",i),Ie=!0,Pe&&h(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,i=e.target,o,r,a,s=this.options,l=s.group,u=p.active,f=Be===l,d=s.sort,g=A||u,D,v=this,y=!1;if(ut)return;function H(Te,Vt){F(Te,v,V({evt:e,isOwner:f,axis:D?"vertical":"horizontal",revert:a,dragRect:o,targetRect:r,canSort:d,fromSortable:g,target:i,completed:N,onMove:function(vt,Ut){return Ye(S,n,c,o,vt,P(vt),e,Ut)},changed:W},Vt))}function U(){H("dragOverAnimationCapture"),v.captureAnimationState(),v!==g&&g.captureAnimationState()}function N(Te){return H("dragOverCompleted",{insertion:Te}),Te&&(f?u._hideClone():u._showClone(v),v!==g&&(R(c,A?A.options.ghostClass:u.options.ghostClass,!1),R(c,s.ghostClass,!0)),A!==v&&v!==p.active?A=v:v===p.active&&A&&(A=null),g===v&&(v._ignoreWhileAnimating=i),v.animateAll(function(){H("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(i===c&&!c.animated||i===n&&!i.animated)&&(pe=null),!s.dragoverBubble&&!e.rootEl&&i!==document&&(c.parentNode[Y]._isOutsideThisEl(e.target),!Te&&de(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function W(){X=$(c),ie=$(c,s.draggable),x({sortable:v,name:"change",toEl:n,newIndex:X,newDraggableIndex:ie,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=z(i,s.draggable,n,!0),H("dragOver"),p.eventCanceled)return y;if(c.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||v._ignoreWhileAnimating===i)return N(!1);if(qe=!1,u&&!s.disabled&&(f?d||(a=O!==S):A===this||(this.lastPutMode=Be.checkPull(this,u,c,e))&&l.checkPut(this,u,c,e))){if(D=this._getDirection(e,i)==="vertical",o=P(c),H("dragOverValid"),p.eventCanceled)return y;if(a)return O=S,U(),this._hideClone(),H("revert"),p.eventCanceled||(fe?S.insertBefore(c,fe):S.appendChild(c)),N(!0);var G=pt(n,s.draggable);if(!G||In(e,D,this)&&!G.animated){if(G===c)return N(!1);if(G&&n===e.target&&(i=G),i&&(r=P(i)),Ye(S,n,c,o,i,r,e,!!i)!==!1)return U(),G&&G.nextSibling?n.insertBefore(c,G.nextSibling):n.appendChild(c),O=n,W(),N(!0)}else if(G&&Tn(e,D,this)){var se=we(n,0,s,!0);if(se===c)return N(!1);if(i=se,r=P(i),Ye(S,n,c,o,i,r,e,!1)!==!1)return U(),n.insertBefore(c,se),O=n,W(),N(!0)}else if(i.parentNode===n){r=P(i);var L=0,le,ye=c.parentNode!==n,B=!wn(c.animated&&c.toRect||o,i.animated&&i.toRect||r,D),De=D?"top":"left",te=yt(i,"top","top")||yt(c,"top","top"),Ee=te?te.scrollTop:void 0;pe!==i&&(le=r[De],xe=!1,Re=!B&&s.invertSwap||ye),L=On(e,i,r,D,B?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Re,pe===i);var Z;if(L!==0){var ue=$(c);do ue-=L,Z=O.children[ue];while(Z&&(h(Z,"display")==="none"||Z===m))}if(L===0||Z===i)return N(!1);pe=i,Ne=L;var Se=i.nextElementSibling,ne=!1;ne=L===1;var Ge=Ye(S,n,c,o,i,r,e,ne);if(Ge!==!1)return(Ge===1||Ge===-1)&&(ne=Ge===1),ut=!0,setTimeout(Sn,30),U(),ne&&!Se?n.appendChild(c):i.parentNode.insertBefore(c,ne?Se:i),te&&Rt(te,0,Ee-te.scrollTop),O=c.parentNode,le!==void 0&&!Re&&(We=Math.abs(le-P(i)[De])),W(),N(!0)}if(n.contains(c))return N(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){b(document,"mousemove",this._onTouchMove),b(document,"touchmove",this._onTouchMove),b(document,"pointermove",this._onTouchMove),b(document,"dragover",de),b(document,"mousemove",de),b(document,"touchmove",de)},_offUpEvents:function(){var e=this.el.ownerDocument;b(e,"mouseup",this._onDrop),b(e,"touchend",this._onDrop),b(e,"pointerup",this._onDrop),b(e,"touchcancel",this._onDrop),b(document,"selectstart",this)},_onDrop:function(e){var n=this.el,i=this.options;if(X=$(c),ie=$(c,i.draggable),F("drop",this,{evt:e}),O=c&&c.parentNode,X=$(c),ie=$(c,i.draggable),p.eventCanceled){this._nulling();return}me=!1,Re=!1,xe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ct(this.cloneId),ct(this._dragStartId),this.nativeDraggable&&(b(document,"drop",this),b(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Pe&&h(document.body,"user-select",""),h(c,"transform",""),e&&(Ie&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),m&&m.parentNode&&m.parentNode.removeChild(m),(S===O||A&&A.lastPutMode!=="clone")&&T&&T.parentNode&&T.parentNode.removeChild(T),c&&(this.nativeDraggable&&b(c,"dragend",this),ot(c),c.style["will-change"]="",Ie&&!me&&R(c,A?A.options.ghostClass:this.options.ghostClass,!1),R(c,this.options.chosenClass,!1),x({sortable:this,name:"unchoose",toEl:O,newIndex:null,newDraggableIndex:null,originalEvent:e}),S!==O?(X>=0&&(x({rootEl:O,name:"add",toEl:O,fromEl:S,originalEvent:e}),x({sortable:this,name:"remove",toEl:O,originalEvent:e}),x({rootEl:O,name:"sort",toEl:O,fromEl:S,originalEvent:e}),x({sortable:this,name:"sort",toEl:O,originalEvent:e})),A&&A.save()):X!==ve&&X>=0&&(x({sortable:this,name:"update",toEl:O,originalEvent:e}),x({sortable:this,name:"sort",toEl:O,originalEvent:e})),p.active&&((X==null||X===-1)&&(X=ve,ie=ke),x({sortable:this,name:"end",toEl:O,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){F("nulling",this),S=c=O=m=fe=T=He=oe=ce=j=Ie=X=ie=ve=ke=pe=Ne=A=Be=p.dragged=p.ghost=p.clone=p.active=null,Ve.forEach(function(e){e.checked=!0}),Ve.length=tt=nt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":c&&(this._onDragOver(e),En(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,i=this.el.children,o=0,r=i.length,a=this.options;o<r;o++)n=i[o],z(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||Pn(n));return e},sort:function(e,n){var i={},o=this.el;this.toArray().forEach(function(r,a){var s=o.children[a];z(s,this.options.draggable,o,!1)&&(i[r]=s)},this),n&&this.captureAnimationState(),e.forEach(function(r){i[r]&&(o.removeChild(i[r]),o.appendChild(i[r]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return z(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var i=this.options;if(n===void 0)return i[e];var o=Fe.modifyOption(this,e,n);typeof o<"u"?i[e]=o:i[e]=n,e==="group"&&Wt(i)},destroy:function(){F("destroy",this);var e=this.el;e[Y]=null,b(e,"mousedown",this._onTapStart),b(e,"touchstart",this._onTapStart),b(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(b(e,"dragover",this),b(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ke.splice(Ke.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!oe){if(F("hideClone",this),p.eventCanceled)return;h(T,"display","none"),this.options.removeCloneOnHide&&T.parentNode&&T.parentNode.removeChild(T),oe=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(oe){if(F("showClone",this),p.eventCanceled)return;c.parentNode==S&&!this.options.group.revertClone?S.insertBefore(T,c):fe?S.insertBefore(T,fe):S.appendChild(T),this.options.group.revertClone&&this.animate(c,T),h(T,"display",""),oe=!1}}};function En(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Ye(t,e,n,i,o,r,a,s){var l,u=t[Y],f=u.options.onMove,d;return window.CustomEvent&&!ee&&!Me?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=i,l.related=o||e,l.relatedRect=r||P(e),l.willInsertAfter=s,l.originalEvent=a,t.dispatchEvent(l),f&&(d=f.call(u,l,a)),d}function ot(t){t.draggable=!1}function Sn(){ut=!1}function Tn(t,e,n){var i=P(we(n.el,0,n.options,!0)),o=Yt(n.el,n.options,m),r=10;return e?t.clientX<o.left-r||t.clientY<i.top&&t.clientX<i.right:t.clientY<o.top-r||t.clientY<i.bottom&&t.clientX<i.left}function In(t,e,n){var i=P(pt(n.el,n.options.draggable)),o=Yt(n.el,n.options,m),r=10;return e?t.clientX>o.right+r||t.clientY>i.bottom&&t.clientX>i.left:t.clientY>o.bottom+r||t.clientX>i.right&&t.clientY>i.top}function On(t,e,n,i,o,r,a,s){var l=i?t.clientY:t.clientX,u=i?n.height:n.width,f=i?n.top:n.left,d=i?n.bottom:n.right,g=!1;if(!a){if(s&&We<u*o){if(!xe&&(Ne===1?l>f+u*r/2:l<d-u*r/2)&&(xe=!0),xe)g=!0;else if(Ne===1?l<f+We:l>d-We)return-Ne}else if(l>f+u*(1-o)/2&&l<d-u*(1-o)/2)return Cn(e)}return g=g||a,g&&(l<f+u*r/2||l>d-u*r/2)?l>f+u/2?1:-1:0}function Cn(t){return $(c)<$(t)?1:-1}function Pn(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function An(t){Ve.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&Ve.push(i)}}function je(t){return setTimeout(t,0)}function ct(t){return clearTimeout(t)}Qe&&w(document,"touchmove",function(t){(p.active||me)&&t.cancelable&&t.preventDefault()});p.utils={on:w,off:b,css:h,find:Gt,is:function(e,n){return!!z(e,n,e,!1)},extend:fn,throttle:Bt,closest:z,toggleClass:R,clone:Xt,index:$,nextTick:je,cancelNextTick:ct,detectDirection:Ht,getChild:we};p.get=function(t){return t[Y]};p.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(p.utils=V(V({},p.utils),i.utils)),Fe.mount(i)})};p.create=function(t,e){return new p(t,e)};p.version=un;var C=[],Oe,dt,ft=!1,rt,at,Ue,Ce;function kn(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var i=n.originalEvent;this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):this.options.supportPointer?w(document,"pointermove",this._handleFallbackAutoScroll):i.touches?w(document,"touchmove",this._handleFallbackAutoScroll):w(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var i=n.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):(b(document,"pointermove",this._handleFallbackAutoScroll),b(document,"touchmove",this._handleFallbackAutoScroll),b(document,"mousemove",this._handleFallbackAutoScroll)),It(),ze(),hn()},nulling:function(){Ue=dt=Oe=ft=Ce=rt=at=null,C.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,i){var o=this,r=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(r,a);if(Ue=n,i||this.options.forceAutoScrollFallback||Me||ee||Pe){st(n,this.options,s,i);var l=re(s,!0);ft&&(!Ce||r!==rt||a!==at)&&(Ce&&It(),Ce=setInterval(function(){var u=re(document.elementFromPoint(r,a),!0);u!==l&&(l=u,ze()),st(n,o.options,u,i)},10),rt=r,at=a)}else{if(!this.options.bubbleScroll||re(s,!0)===K()){ze();return}st(n,this.options,re(s,!1),!1)}}},J(t,{pluginName:"scroll",initializeByDefault:!0})}function ze(){C.forEach(function(t){clearInterval(t.pid)}),C=[]}function It(){clearInterval(Ce)}var st=Bt(function(t,e,n,i){if(e.scroll){var o=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,s=e.scrollSpeed,l=K(),u=!1,f;dt!==n&&(dt=n,ze(),Oe=e.scroll,f=e.scrollFn,Oe===!0&&(Oe=re(n,!0)));var d=0,g=Oe;do{var D=g,v=P(D),y=v.top,H=v.bottom,U=v.left,N=v.right,W=v.width,G=v.height,se=void 0,L=void 0,le=D.scrollWidth,ye=D.scrollHeight,B=h(D),De=D.scrollLeft,te=D.scrollTop;D===l?(se=W<le&&(B.overflowX==="auto"||B.overflowX==="scroll"||B.overflowX==="visible"),L=G<ye&&(B.overflowY==="auto"||B.overflowY==="scroll"||B.overflowY==="visible")):(se=W<le&&(B.overflowX==="auto"||B.overflowX==="scroll"),L=G<ye&&(B.overflowY==="auto"||B.overflowY==="scroll"));var Ee=se&&(Math.abs(N-o)<=a&&De+W<le)-(Math.abs(U-o)<=a&&!!De),Z=L&&(Math.abs(H-r)<=a&&te+G<ye)-(Math.abs(y-r)<=a&&!!te);if(!C[d])for(var ue=0;ue<=d;ue++)C[ue]||(C[ue]={});(C[d].vx!=Ee||C[d].vy!=Z||C[d].el!==D)&&(C[d].el=D,C[d].vx=Ee,C[d].vy=Z,clearInterval(C[d].pid),(Ee!=0||Z!=0)&&(u=!0,C[d].pid=setInterval((function(){i&&this.layer===0&&p.active._onTouchMove(Ue);var Se=C[this.layer].vy?C[this.layer].vy*s:0,ne=C[this.layer].vx?C[this.layer].vx*s:0;typeof f=="function"&&f.call(p.dragged.parentNode[Y],ne,Se,t,Ue,C[this.layer].el)!=="continue"||Rt(C[this.layer].el,ne,Se)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&g!==l&&(g=re(g,!1)));ft=u}},30),Lt=function(e){var n=e.originalEvent,i=e.putSortable,o=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,s=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var u=i||r;s();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(f.clientX,f.clientY);l(),u&&!u.el.contains(d)&&(a("spill"),this.onSpill({dragEl:o,putSortable:i}))}};function mt(){}mt.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var o=we(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),i&&i.animateAll()},drop:Lt};J(mt,{pluginName:"revertOnSpill"});function gt(){}gt.prototype={onSpill:function(e){var n=e.dragEl,i=e.putSortable,o=i||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:Lt};J(gt,{pluginName:"removeOnSpill"});p.mount(new kn);p.mount(gt,mt);const qt=t=>{for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),i=t[e];t[e]=t[n],t[n]=i}return t},ht=t=>t.toString().split("").map(Number).map(e=>(e||10)+64).map(e=>String.fromCharCode(e)).join(""),Nn={class:"GameStandingsGroups"},xn={class:"table table-hover caption-top"},Mn=_("th",null,"Teamname",-1),Fn=_("th",null,"Spieler",-1),Gn={key:0},Bn={key:1},Rn={key:0},Xn={key:1},Yn=Ze({__name:"StandingsGroups",props:{tournament:{type:Object,required:!0},group:{type:Object,required:!0}},setup(t){let e=Zt(window.screen.width);return window.addEventListener("resize",()=>{e.value=window.screen.width}),(n,i)=>(E(),I("div",Nn,[_("table",xn,[_("thead",null,[_("tr",null,[_("th",null,M(q(e)>900?"Platz":"Pl."),1),Mn,Fn,_("th",null,M(q(e)>900?"Siege":"Sieg."),1),_("th",null,M(q(e)>900?"Spiele":"Spie."),1),t.tournament.settings.trackTeamShots?(E(),I("th",Gn,M(q(e)>900?"Trefferverhältnis":"Trfv."),1)):ge("",!0),t.tournament.settings.trackTeamShots&&q(e)>360?(E(),I("th",Bn,M(q(e)>900?"Trefferdifferenz":"Trfd."),1)):ge("",!0)])]),_("tbody",null,[(E(!0),I(ae,null,_e(t.group.teams,(o,r)=>(E(),I("tr",null,[_("td",null,M(r+1),1),_("td",null,M(o.name),1),_("td",null,[(E(!0),I(ae,null,_e(o.players,a=>(E(),I("span",null,M(a.name),1))),256))]),_("td",null,M(o.wins),1),_("td",null,M(o.games),1),t.tournament.settings.trackTeamShots?(E(),I("td",Rn,M(o.score),1)):ge("",!0),t.tournament.settings.trackTeamShots&&q(e)>360?(E(),I("td",Xn,M(o.scoreDifference),1)):ge("",!0)]))),256))])])]))}}),$n=async(t,e)=>{let n=await Ct.post("/setGroups",{tournamentID:t,groups:e});return console.log(n.data.message),n.data.success},wi=async t=>{let e=[],n=qt(t.teams),i=t.settings.fixedGroupAmmount;for(let o=0;o<i;o++)e.push({teams:[]});for(let o=0;o<n.length;o++)e[o%i].teams.push({teamID:n[o]._id});await $n(t._id,e)},Hn=t=>{let e=[],n=t==null?void 0:t.groupPhase.groups;for(let i=0;i<n.length;i++){e.push({teams:[]});for(let o=0;o<n[i].teams.length;o++){let r=n[i].teams[o].name,a=tn(t,r,!0),s=nn(t,r,!0),l={name:n[i].teams[o].name,players:n[i].teams[o].players,wins:rn(t,r,!0),games:on(t,n[i].teams[o].players[0].name,!0),score:a+" : "+s,scoreDifference:a-s,hits:a};e[i].teams.push(l)}}return e.forEach(i=>{i.teams=i.teams.sort((o,r)=>r.scoreDifference==o.scoreDifference&&o.wins==r.wins?r.hits-o.hits:o.wins==r.wins?r.scoreDifference-o.scoreDifference:r.wins-o.wins)}),e},Kt=async(t,e)=>{let n=await Ct.post("/setMatchesGroupPhase",{tournamentID:t,matches:e});return console.log(n.data.message),n.data.success},yi=async t=>{let e=[],n=t.groupPhase.groups;for(let i=0;i<n.length;i++){let o=[],r=n[i].teams,a=r.length*(r.length-1)/2;if(a==10)o.push({team1ID:r[0]._id,team2ID:r[1]._id,_id:""}),o.push({team1ID:r[2]._id,team2ID:r[3]._id,_id:""}),o.push({team1ID:r[0]._id,team2ID:r[4]._id,_id:""}),o.push({team1ID:r[1]._id,team2ID:r[3]._id,_id:""}),o.push({team1ID:r[2]._id,team2ID:r[4]._id,_id:""}),o.push({team1ID:r[0]._id,team2ID:r[3]._id,_id:""}),o.push({team1ID:r[1]._id,team2ID:r[2]._id,_id:""}),o.push({team1ID:r[3]._id,team2ID:r[4]._id,_id:""}),o.push({team1ID:r[0]._id,team2ID:r[2]._id,_id:""}),o.push({team1ID:r[1]._id,team2ID:r[4]._id,_id:""});else if(a==6)o.push({team1ID:r[2]._id,team2ID:r[3]._id,_id:""}),o.push({team1ID:r[0]._id,team2ID:r[1]._id,_id:""}),o.push({team1ID:r[2]._id,team2ID:r[1]._id,_id:""}),o.push({team1ID:r[0]._id,team2ID:r[3]._id,_id:""}),o.push({team1ID:r[0]._id,team2ID:r[2]._id,_id:""}),o.push({team1ID:r[1]._id,team2ID:r[3]._id,_id:""});else if(a==3)o.push({team1ID:r[0]._id,team2ID:r[1]._id,_id:""}),o.push({team1ID:r[0]._id,team2ID:r[2]._id,_id:""}),o.push({team1ID:r[1]._id,team2ID:r[2]._id,_id:""});else{for(let s=0;s<r.length;s++)for(let l=s+1;l<r.length;l++){let u={team1ID:r[l]._id,team2ID:r[s]._id,_id:""};o.push(u)}o=qt(o)}e.push(o)}await Kt(t._id,e)},Wn=_("div",{class:"swiper-pagination",id:"GameScheduleGroupsSwiper-Pagination"},null,-1),jn={class:"GameScheduleGroups swiper-container",id:"GameScheduleGroupsSwiper"},zn={class:"swiper-wrapper"},Ln=["id"],qn={class:"rt-caption"},Kn=_("div",{class:"rt-caption"},"Spiele",-1),Vn={class:"rt-matches"},Un=Ze({__name:"ScheduleGroups",props:{getTournament:{type:Function,required:!0},tournament:{type:Object,required:!0},isBackend:{type:Boolean,required:!0}},setup(t){const e=t,n=async r=>{let s=r.target.parentElement.getElementsByClassName("rt-caption")[0].innerText.split(" ")[1].toLowerCase().charCodeAt(0)-97,l=e.tournament.groupPhase.matches,u=l[s],f=u.splice(r.oldIndex,1);u.splice(r.newIndex,0,f[0]),await Kt(e.tournament._id,l)&&(await e.getTournament(),i())},i=()=>{setTimeout(()=>{let r=e.tournament.settings.fixedGroupAmmount;for(let a=0;a<r;a++){let s=document.getElementById("Match-Table-"+a).getElementsByClassName("rt-matches")[0];new p(s,{animation:100,group:"_"+a,onEnd:n,filter:".Modal",preventOnFilter:!1,handle:".mt-handle"})}},0)};Qt(()=>e.tournament,()=>{e.tournament.groupPhase.groups&&e.isBackend&&i()}),Pt(()=>{e.tournament&&e.tournament.groupPhase.groups&&e.isBackend&&i(),new kt("#GameScheduleGroupsSwiper",{modules:[Nt],initialSlide:0,allowTouchMove:!e.isBackend,spaceBetween:50,speed:500,pagination:{el:"#GameScheduleGroupsSwiper-Pagination",clickable:!0,renderBullet:(r,a)=>'<span class="'+a+'">'+ht(r+1)+"</span>"}})});const o=()=>{};return(r,a)=>(E(),I(ae,null,[Wn,_("div",jn,[_("div",zn,[(E(!0),I(ae,null,_e(q(Hn)(t.tournament),(s,l)=>(E(),I("div",{class:"rt-table swiper-slide",key:l,id:"Match-Table-"+l},[_("div",qn,M("Gruppe "+q(ht)(l+1)),1),lt(Yn,{tournament:t.tournament,group:s},null,8,["tournament","group"]),Kn,_("div",Vn,[(E(!0),I(ae,null,_e(t.tournament.groupPhase.matches[l],(u,f)=>(E(),At(Ot,{key:u._id,match:u,isBackend:t.isBackend,setGameResult:o},null,8,["match","isBackend"]))),128))])],8,Ln))),128))])])],64))}}),Zn=_("div",{class:"swiper-pagination",id:"GameScheduleKOSwiper-Pagination"},null,-1),Qn={class:"GameScheduleKO swiper-container",id:"GameScheduleKOSwiper"},Jn={class:"swiper-wrapper"},ei={key:0,class:"gsk-match-name"},ti={key:1,class:"gsk-match-table"},ni=Ze({__name:"ScheduleKO",props:{getTournament:{type:Function,required:!0},tournament:{type:Object,required:!0},isBackend:{type:Boolean,required:!0}},setup(t){const e=t,n=o=>{let r=e.tournament.koPhase.matches.length-1;if(r-o==3)return"Achtelfinale";if(r-o==2)return"Viertelfinale";if(r-o==1)return"Halbfinale";if(r-o==0)return"Finale"};Pt(()=>{new kt("#GameScheduleKOSwiper",{modules:[Nt],initialSlide:0,spaceBetween:50,speed:500,pagination:{el:"#GameScheduleKOSwiper-Pagination",clickable:!0,renderBullet:(o,r)=>'<span class="'+r+'">'+n(o)+"</span>"}})});const i=()=>{};return(o,r)=>(E(),I(ae,null,[Zn,_("div",Qn,[_("div",Jn,[(E(!0),I(ae,null,_e(t.tournament.koPhase.matches,(a,s)=>(E(),I("div",{key:s,class:"gsk-stages swiper-slide"},[_("div",{class:Jt(["gsk-stage",{"gsk-stage1":s==0,"gsk-finale":s==t.tournament.koPhase.matches.length-1}])},[(E(!0),I(ae,null,_e(a,(l,u)=>(E(),I("div",{class:"gsk-match",key:u},[s==t.tournament.koPhase.matches.length-1?(E(),I("div",ei,M(u==0?"Finale":"Spiel um Platz 3"),1)):ge("",!0),s!=t.tournament.koPhase.matches.length-1?(E(),I("div",ti,M("Tisch "+q(ht)(u+1)),1)):ge("",!0),(E(),At(Ot,{match:l,key:l._id,isGroupPhase:!1,isBackend:t.isBackend,setGameResult:i},null,8,["match","isBackend"]))]))),128))],2)]))),128))])])],64))}}),ii={class:"Schedule"},oi={key:0,style:{"text-align":"center","font-size":"18px",color:"var(--main-color)"}},ri={key:1},ai={class:"nav nav-tabs justify-content-center"},si={class:"nav-item"},li=["data-bs-target"],ui={class:"nav-item"},ci=["data-bs-target"],di={class:"tab-content"},fi=["id"],hi=["id"],pi=Ze({__name:"Schedule",props:{getTournament:{type:Function,required:!0},tournament:{type:Object,required:!0},isBackend:{type:Boolean,required:!0}},setup(t){return(e,n)=>(E(),I("div",ii,[t.tournament.groupPhase.groups.length==0?(E(),I("div",oi," Der Spielplan ist noch nicht verfügbar ")):(E(),I("div",ri,[_("ul",ai,[_("li",si,[_("button",{class:"nav-link active","data-bs-toggle":"tab","data-bs-target":"#GameScheduleGroups"+t.tournament._id},"Gruppenphase",8,li)]),_("li",ui,[_("button",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#GameScheduleKO"+t.tournament._id},"K.o.Phase",8,ci)])]),_("div",di,[_("div",{class:"tab-pane fade show active",id:"GameScheduleGroups"+t.tournament._id},[lt(Un,{getTournament:t.getTournament,tournament:t.tournament,isBackend:t.isBackend},null,8,["getTournament","tournament","isBackend"])],8,fi),_("div",{class:"tab-pane fade",id:"GameScheduleKO"+t.tournament._id},[lt(ni,{getTournament:t.getTournament,tournament:t.tournament,isBackend:t.isBackend},null,8,["getTournament","tournament","isBackend"])],8,hi)])]))]))}}),Di=en(pi,[["__scopeId","data-v-622c4ff1"]]);export{Di as S,p as a,yi as b,ht as c,wi as g,$n as s};
