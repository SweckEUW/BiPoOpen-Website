import{d as A,r as f,o as d,c as g,a as e,b as w,w as i,T as N,F as M,k as E,u as r,x as D,f as V,j as G,B as C,C as I,l as B,t as b,p as U,g as z,_ as F,q as Q,m as X}from"./index-DAlmGnjG.js";import{m as Y,n as Z,r as ee,s as O,c as te,o as ne,p as ae,q as se,t as W,u as j,v as oe,w as le}from"./tournamentUtilFunctions-Btro2mw9.js";import{M as P}from"./Modal-B80Dn-Nu.js";import{a as re,S as ue}from"./Schedule-CYdwfHGR.js";import"./MatchElement-evNmBqRw.js";import"./pagination-Ck24_KC2.js";const x=s=>(U("data-v-843ae1e2"),s=s(),z(),s),ie={class:"ParticipantsTab"},de=x(()=>e("div",null,"Teamname",-1)),me=x(()=>e("div",null,"Spieler 1",-1)),ce=x(()=>e("div",null,"Spieler 2",-1)),pe=x(()=>e("div",null,"Teamname",-1)),ge=x(()=>e("div",null,"Spieler 1",-1)),ve=x(()=>e("div",null,"Spieler 2",-1)),_e=x(()=>e("p",{style:{"text-align":"center"}},"Sicher das das Team gelöscht werden soll?",-1)),be={class:"table table-hover"},he=x(()=>e("thead",null,[e("tr",null,[e("th",null,"#"),e("th",null,"Teamname"),e("th",null,"Spieler")])],-1)),fe=["onClick"],Te=A({__name:"TeamsTab",props:["getTournament","tournament"],setup(s){const t=s,T=()=>{o.value="",u.value="",l.value=""};let c=f(!1);const p=()=>{c.value=!c.value};let m=f(!1);const y=()=>{m.value||T(),m.value=!m.value};let k=f(!1);const v=_=>{_&&(o.value=_.name,u.value=_.players[0],l.value=_.players[1],$.value=_),k.value=!k.value};let o=f(""),u=f(""),l=f("");const h=async()=>{let _={name:o.value.trim(),players:[u.value.trim(),l.value.trim()]};await Y(t.tournament._id,_)&&(await t.getTournament(),y())};let $=f();const S=async()=>{let _={name:o.value.trim(),players:[u.value.trim(),l.value.trim()],_id:$.value._id};await Z(t.tournament._id,_)&&(await t.getTournament(),v())},K=async()=>{await ee(t.tournament._id,$.value._id)&&(t.getTournament(),v(),p())};return(_,n)=>(d(),g("div",ie,[e("div",{class:"bp-button",onClick:n[0]||(n[0]=a=>y())},"Team hinzufügen"),w(N,{name:"fade"},{default:i(()=>[r(m)?(d(),D(P,{key:0},{title:i(()=>[V("Team hinzufügen")]),template:i(()=>[de,G(e("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=a=>I(o)?o.value=a:o=a)},null,512),[[C,r(o)]]),me,G(e("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=a=>I(u)?u.value=a:u=a)},null,512),[[C,r(u)]]),ce,G(e("input",{type:"text","onUpdate:modelValue":n[3]||(n[3]=a=>I(l)?l.value=a:l=a)},null,512),[[C,r(l)]])]),cancle:i(()=>[e("div",{onClick:n[4]||(n[4]=a=>y())},"Abbrechen")]),confirm:i(()=>[e("div",{onClick:n[5]||(n[5]=a=>h())},"Hinzufügen")]),_:1})):B("",!0)]),_:1}),w(N,{name:"fade"},{default:i(()=>[r(k)?(d(),D(P,{key:0},{title:i(()=>[V("Team Bearbeiten")]),template:i(()=>[pe,G(e("input",{type:"text","onUpdate:modelValue":n[6]||(n[6]=a=>I(o)?o.value=a:o=a)},null,512),[[C,r(o)]]),ge,G(e("input",{type:"text","onUpdate:modelValue":n[7]||(n[7]=a=>I(u)?u.value=a:u=a)},null,512),[[C,r(u)]]),ve,G(e("input",{type:"text","onUpdate:modelValue":n[8]||(n[8]=a=>I(l)?l.value=a:l=a)},null,512),[[C,r(l)]]),e("button",{onClick:n[9]||(n[9]=a=>{p()})},"Team löschen")]),cancle:i(()=>[e("div",{onClick:n[10]||(n[10]=a=>v())},"Abbrechen")]),confirm:i(()=>[e("div",{onClick:n[11]||(n[11]=a=>S())},"Bearbeiten")]),_:1})):B("",!0)]),_:1}),w(N,{name:"fade"},{default:i(()=>[r(c)?(d(),D(P,{key:0},{title:i(()=>[V("Team Löschen")]),template:i(()=>[_e]),cancle:i(()=>[e("div",{onClick:n[12]||(n[12]=a=>{p()})},"Abbrechen")]),confirm:i(()=>[e("div",{onClick:n[13]||(n[13]=a=>K())},"Löschen")]),_:1})):B("",!0)]),_:1}),e("table",be,[he,e("tbody",null,[(d(!0),g(M,null,E(s.tournament.teams,(a,J)=>(d(),g("tr",{onClick:L=>v(a),key:a.name},[e("td",null,b(J+1),1),e("td",null,b(a.name),1),e("td",null,[(d(!0),g(M,null,E(a.players,L=>(d(),g("span",{style:{"margin-right":"15px"},key:L},b(L),1))),128))])],8,fe))),128))])])]))}}),ye=F(Te,[["__scopeId","data-v-843ae1e2"]]),R=s=>(U("data-v-bf13a1ef"),s=s(),z(),s),ke={class:"ScheduleSettings"},we=R(()=>e("h1",null,"Einstellungen",-1)),$e={class:"ss-setting"},Se=R(()=>e("div",{class:"ss-title"},"Würfe einzelner Spieler eintragen?",-1)),xe=["checked"],Ge={class:"ss-setting"},Ce=R(()=>e("div",{class:"ss-title"},"Würfe der Teams eintragen?",-1)),Ie=["checked"],Be=R(()=>e("hr",null,null,-1)),Me=A({__name:"ScheduleSettings",props:["getTournament","tournament"],setup(s){const t=s,T=async p=>{let m=t.tournament.settings;m.trackPlayerShots=p.srcElement.checked,await O(t.tournament._id,m)&&await t.getTournament()},c=async p=>{let m=t.tournament.settings;m.trackTeamShots=p.srcElement.checked,await O(t.tournament._id,m)&&await t.getTournament()};return(p,m)=>(d(),g("div",ke,[we,e("div",$e,[Se,e("input",{type:"checkbox",class:"ss-input",checked:t.tournament.settings.trackPlayerShots,onInput:T},null,40,xe)]),e("div",Ge,[Ce,e("input",{type:"checkbox",class:"ss-input",checked:t.tournament.settings.trackTeamShots,onInput:c},null,40,Ie)]),Be]))}}),Ee=F(Me,[["__scopeId","data-v-bf13a1ef"]]),q=s=>(U("data-v-9488e73b"),s=s(),z(),s),Ae={class:"GroupsSettings"},Ne=q(()=>e("h1",null,"Einstellungen",-1)),De={class:"gs-setting"},Ve=q(()=>e("div",{class:"gs-title"},"Anzahl Gruppen",-1)),Pe=["value"],Ue=q(()=>e("hr",null,null,-1)),ze=A({__name:"GroupsSettings",props:["getTournament","tournament"],setup(s){const t=s,T=async c=>{let p=t.tournament.settings;p.fixedGroupAmmount=c.srcElement.value,await O(t.tournament._id,p)&&await t.getTournament()};return(c,p)=>(d(),g("div",Ae,[Ne,e("div",De,[Ve,e("input",{class:"gs-input",type:"number",value:t.tournament.settings.fixedGroupAmmount,onFocusout:T},null,40,Pe)]),Ue]))}}),Fe=F(ze,[["__scopeId","data-v-9488e73b"]]),H=s=>(U("data-v-4dcf6f00"),s=s(),z(),s),Re={class:"LayoutTab"},Le={style:{"text-align":"center","white-space":"break-spaces"}},Oe=["id"],qe=H(()=>e("thead",null,[e("tr",null,[e("th"),e("th",null,"#"),e("th",null,"Teamname"),e("th",null,"Spieler")])],-1)),We=H(()=>e("td",{class:"lt-handle"},[e("div",{style:{"margin-bottom":"5px","margin-top":"5px"}}),e("div")],-1)),je={key:0},He=A({__name:"GroupsTab",props:["getTournament","tournament"],setup(s){const t=s,T=async()=>{let v=[],o=t.tournament.settings.fixedGroupAmmount;for(let l=0;l<o;l++){let h=[],$=document.getElementById("Group-"+l).getElementsByTagName("tbody")[0].getElementsByTagName("tr");for(let S=0;S<$.length;S++)h.push({teamID:ae(t.tournament,$[S].getElementsByTagName("td")[2].innerText)._id});v.push({teams:h})}await se(t.tournament._id,v)&&(await t.getTournament(),await W(t.tournament),await t.getTournament(),await j(t.tournament),await t.getTournament(),c(),k())},c=()=>{setTimeout(()=>{let v=t.tournament.settings.fixedGroupAmmount;for(let o=0;o<v;o++){let l=document.getElementById("Group-"+o).getElementsByTagName("tbody")[0];new re(l,{animation:150,group:"shared",handle:".lt-handle"})}},0)};Q(()=>{t.tournament.groupPhase.groups&&c()});const p=async()=>{await oe(t.tournament),await t.getTournament(),await W(t.tournament),await t.getTournament(),await j(t.tournament),await t.getTournament(),k()};let m=f(!1),y=f(!1);const k=v=>{y.value=!y.value,v!=null&&(m.value=v)};return(v,o)=>(d(),g("div",Re,[w(N,{name:"fade"},{default:i(()=>[r(y)?(d(),D(P,{key:0},{title:i(()=>[V(b(r(m)?"Gruppen auslosen":"Gruppen umsortieren"),1)]),template:i(()=>[e("p",Le,b(r(m)?`Sicher das die Gruppen ausgelost werden sollen?
Dadurch wird der Spielplan neu generiert und der alte gelöscht!`:`Sicher das die Gruppen umsortiert werden sollen?
Dadurch wird der Spielplan neu generiert und der alte gelöscht!`),1)]),cancle:i(()=>[e("div",{onClick:o[0]||(o[0]=u=>k())},"Abbrechen")]),confirm:i(()=>[e("div",{onClick:o[1]||(o[1]=u=>r(m)?p():T())},b(r(m)?"Auslosen":"Umsortieren"),1)]),_:1})):B("",!0)]),_:1}),w(Fe,{tournament:s.tournament,getTournament:s.getTournament},null,8,["tournament","getTournament"]),e("div",{class:"bp-button",style:{"margin-bottom":"20px"},onClick:o[2]||(o[2]=u=>k(!0))},"Gruppen auslosen"),e("div",{class:"bp-button",onClick:o[3]||(o[3]=u=>k(!1))},"Gruppen umsortieren"),(d(!0),g(M,null,E(r(ne)(s.tournament),(u,l)=>(d(),g("table",{class:"table table-hover caption-top",key:l,id:"Group-"+l},[e("caption",null,b("Gruppe "+r(te)(l+1)),1),qe,e("tbody",null,[(d(!0),g(M,null,E(u.teams,(h,$)=>(d(),g("tr",{key:h},[We,e("td",null,b($+1),1),e("td",null,b(h?h.name:"Team nicht gefunden / wurde gelöscht"),1),h?(d(),g("td",je,[(d(!0),g(M,null,E(h.players,S=>(d(),g("span",{style:{"margin-right":"15px"},key:S},b(S),1))),128))])):B("",!0)]))),128))])],8,Oe))),128))]))}}),Ke=F(He,[["__scopeId","data-v-4dcf6f00"]]),Je={key:0,class:"ManageTournament"},Qe={class:"mt-title"},Xe=e("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home-tab-pane",type:"button",role:"tab","aria-controls":"home-tab-pane","aria-selected":"true"},"Teams")]),e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile-tab-pane",type:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":"false"},"Gruppen")]),e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link",id:"result-tab","data-bs-toggle":"tab","data-bs-target":"#result-tab-pane",type:"button",role:"tab","aria-controls":"result-tab-pane","aria-selected":"false"},"Spielplan")])],-1),Ye={class:"tab-content"},Ze={class:"tab-pane fade show active",id:"home-tab-pane",role:"tabpanel","aria-labelledby":"home-tab",tabindex:"0"},et={class:"tab-pane fade",id:"profile-tab-pane",role:"tabpanel","aria-labelledby":"profile-tab",tabindex:"0"},tt={class:"tab-pane fade",id:"result-tab-pane",role:"tabpanel","aria-labelledby":"result-tab",tabindex:"0"},ut=A({__name:"_ManageSingleTournament",setup(s){let t=f();const T=X(),c=async()=>{let p=T.params.id.replaceAll("-"," ");t.value=await le(p)};return c(),(p,m)=>r(t)?(d(),g("div",Je,[e("h1",Qe,b("Turnier: "+r(t).name),1),Xe,e("div",Ye,[e("div",Ze,[w(ye,{getTournament:c,tournament:r(t)},null,8,["tournament"])]),e("div",et,[w(Ke,{getTournament:c,tournament:r(t)},null,8,["tournament"])]),e("div",tt,[w(Ee,{getTournament:c,tournament:r(t)},null,8,["tournament"]),w(ue,{getTournament:c,tournament:r(t),isBackend:!0},null,8,["tournament"])])])])):B("",!0)}});export{ut as default};
