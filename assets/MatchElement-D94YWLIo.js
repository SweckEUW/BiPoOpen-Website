import{d as B,r as d,v as E,o as h,k as M,w as k,g as I,a as t,c as S,t as r,u as l,y as b,G as f,m as x,b as g,_ as V,q as w,e as T,T as C,A as O,p as R,h as U}from"./index-Dxk_ZO5M.js";import{A as j,B as N}from"./tournamentUtilFunctions-CsJ6Tukn.js";import{M as D}from"./Modal-BKxoPB4n.js";const _={class:"rt-modal-container"},A={key:0,class:"rt-modal-main"},F={class:"rt-modal-team"},K={class:"rt-modal-result"},z={class:"rt-modal-result"},H={class:"rt-modal-team"},L={key:1,class:"rt-modal-main"},J={class:"rt-modal-team"},Q={class:"rt-modal-team"},W={key:2,class:"rt-modal-players"},X={style:{display:"flex","margin-bottom":"10px"}},Y={class:"rt-modal-player",style:{"text-align":"right"}},Z={style:{display:"flex"}},ee={class:"rt-modal-player",style:{"text-align":"right"}},te={style:{display:"flex","margin-bottom":"10px"}},ae={class:"rt-modal-player"},le={style:{display:"flex"}},se={class:"rt-modal-player"},me=B({__name:"ModalSetGameResult",props:{getTournament:{type:Function,required:!0},tournament:{type:Object,required:!0},isGroupPhase:{type:Boolean,required:!0},toggleModal:{type:Function,required:!0},match:{type:Object,required:!0}},setup(e){const a=e,p=async()=>{let P={team1Score:(m.value?m.value:0)+(s.value?s.value:0),team1Player1Score:m.value,team1Player2Score:s.value,team2Score:(i.value?i.value:0)+(u.value?u.value:0),team2Player1Score:i.value,team2Player2Score:u.value};a.tournament.settings.trackPlayerShots||(P={team1Score:c.value,team2Score:y.value}),await j(a.tournament,a.match._id,P),await a.getTournament(),a.toggleModal()},v=async()=>{let P={team1Score:(m.value?m.value:0)+(s.value?s.value:0),team1Player1Score:m.value,team1Player2Score:s.value,team2Score:(i.value?i.value:0)+(u.value?u.value:0),team2Player1Score:i.value,team2Player2Score:u.value};a.tournament.settings.trackPlayerShots||(P={team1Score:c.value,team2Score:y.value}),await N(a.tournament,a.match._id,P),await a.getTournament(),a.toggleModal()};let c=d(),m=d(),s=d(),y=d(),i=d(),u=d();E(()=>{a.match.result&&(c.value=a.match.result.team1Score,m.value=a.match.result.team1Player1Score,s.value=a.match.result.team1Player2Score,y.value=a.match.result.team2Score,i.value=a.match.result.team2Player1Score,u.value=a.match.result.team2Player2Score)});const G=()=>{c=d(),m=d(),s=d(),y=d(),i=d(),u=d()};return(P,n)=>(h(),M(D,null,{title:k(()=>[I("Ergebnis eintragen")]),template:k(()=>[t("div",_,[e.tournament.settings.trackPlayerShots?(h(),S("div",A,[t("div",F,r(e.match.team1.name),1),t("div",K,r((l(m)?l(m):0)+(l(s)?l(s):0)),1),t("div",z,r((l(i)?l(i):0)+(l(u)?l(u):0)),1),t("div",H,r(e.match.team2.name),1)])):(h(),S("div",L,[t("div",J,r(e.match.team1.name),1),b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":n[0]||(n[0]=o=>x(c)?c.value=o:c=o),placeholder:"0"},null,512),[[f,l(c)]]),b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":n[1]||(n[1]=o=>x(y)?y.value=o:y=o),placeholder:"0"},null,512),[[f,l(y)]]),t("div",Q,r(e.match.team2.name),1)])),e.tournament.settings.trackPlayerShots?(h(),S("div",W,[t("div",null,[t("div",X,[t("div",Y,r(e.match.team1.players[0]),1),b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":n[2]||(n[2]=o=>x(m)?m.value=o:m=o),placeholder:"0"},null,512),[[f,l(m)]])]),t("div",Z,[t("div",ee,r(e.match.team1.players[1]),1),b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":n[3]||(n[3]=o=>x(s)?s.value=o:s=o),placeholder:"0"},null,512),[[f,l(s)]])])]),t("div",null,[t("div",te,[b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":n[4]||(n[4]=o=>x(i)?i.value=o:i=o),placeholder:"0"},null,512),[[f,l(i)]]),t("div",ae,r(e.match.team2.players[0]),1)]),t("div",le,[b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":n[5]||(n[5]=o=>x(u)?u.value=o:u=o),placeholder:"0"},null,512),[[f,l(u)]]),t("div",se,r(e.match.team2.players[1]),1)])])])):g("",!0)])]),cancle:k(()=>[t("div",{onClick:n[6]||(n[6]=o=>{G(),e.toggleModal()})},"Abbrechen")]),confirm:k(()=>[t("div",{onClick:n[7]||(n[7]=o=>{e.isGroupPhase?p():v()})},r(e.match.result?"Bearbeiten":"Eintragen"),1)]),_:1}))}}),oe=V(me,[["__scopeId","data-v-d77e64f2"]]),re={class:"mt-team"},ne={class:"mt-team-name"},ce={key:0,class:"mt-team-score"},ie={key:0},ue={class:"mt-team-player"},de={class:"mt-team-player-name"},he={class:"mt-team-player-score"},ve={class:"mt-team-player"},ye={class:"mt-team-player-name"},Se={class:"mt-team-player-score"},pe=B({__name:"MatchElementTeam",props:{match:{type:Object,required:!0},playersVisible:{type:Boolean,required:!0},isTeam2:{type:Boolean,required:!0}},setup(e){const a=e;let p=a.isTeam2?a.match.team2:a.match.team1,v,c,m;return a.match.result&&(v=a.match.result.team1Score,c=a.match.result.team1Player1Score,m=a.match.result.team1Player2Score,a.isTeam2&&(v=a.match.result.team2Score,c=a.match.result.team2Player1Score,m=a.match.result.team2Player2Score)),(s,y)=>(h(),S("div",{class:w(["MatchElementTeam",{"mt-team-loose":e.match.result&&(e.isTeam2?e.match.result.team1Score>e.match.result.team2Score:e.match.result.team2Score>e.match.result.team1Score),"mt-team-second":e.isTeam2}])},[t("div",re,[t("div",ne,r(l(p)?l(p).name:(e.isTeam2,"TBD")),1),l(v)!=null?(h(),S("div",ce,r(l(v)),1)):g("",!0)]),l(p)&&e.playersVisible?(h(),S("div",ie,[t("div",ue,[t("div",de,r(l(p).players[0]),1),t("div",he,r(l(c)),1)]),t("div",ve,[t("div",ye,r(l(p).players[1]),1),t("div",Se,r(l(m)),1)])])):g("",!0)],2))}}),$=V(pe,[["__scopeId","data-v-2b02bc27"]]),q=e=>(R("data-v-e155eca7"),e=e(),U(),e),ge={class:"Match",ref:"matchHTMLElement"},Pe={key:0,class:"mt-handle"},be=q(()=>t("div",{style:{"margin-bottom":"5px"}},null,-1)),fe=q(()=>t("div",null,null,-1)),xe=[be,fe],ke={key:1,class:"mt-index"},Te={key:2,class:"mt-vs"},Me=B({__name:"MatchElement",props:{getTournament:{type:Function,required:!0},tournament:{type:Object,required:!0},match:{type:Object,required:!0},isGroupPhase:{type:Boolean,required:!0},isBackend:{type:Boolean,required:!0},matchIndex:{type:Number}},setup(e){let a=d(!1);const p=()=>{a.value=!a.value};let v=d(!1),c=()=>{v.value=!v.value};return(m,s)=>(h(),S("div",ge,[(h(),M(O,{to:"body"},[T(C,{name:"fade"},{default:k(()=>[l(a)?(h(),M(oe,{key:0,tournament:e.tournament,getTournament:e.getTournament,toggleModal:p,match:e.match,isGroupPhase:e.isGroupPhase},null,8,["tournament","getTournament","match","isGroupPhase"])):g("",!0)]),_:1})])),e.isBackend&&e.isGroupPhase?(h(),S("div",Pe,xe)):g("",!0),e.matchIndex!=null?(h(),S("div",ke,[t("div",null,r(e.matchIndex+1+"."),1)])):g("",!0),t("div",{class:"mt-teams",onClick:s[0]||(s[0]=y=>l(c)())},[T($,{match:e.match,isTeam2:!1,playersVisible:l(v)},null,8,["match","playersVisible"]),T($,{match:e.match,isTeam2:!0,playersVisible:l(v)},null,8,["match","playersVisible"])]),!e.match.result&&!e.isBackend||!e.match.team1||!e.match.team2?(h(),S("div",Te,"vs.")):g("",!0),e.isBackend&&e.match.team1&&e.match.team2?(h(),S("div",{key:3,class:"bp-button mt-button",onClick:s[1]||(s[1]=y=>p())},r(e.match.result?"Bearbeiten":"Eintragen"),1)):g("",!0)],512))}}),qe=V(Me,[["__scopeId","data-v-e155eca7"]]);export{qe as M};
