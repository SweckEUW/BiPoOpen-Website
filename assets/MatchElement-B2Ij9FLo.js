import{d as I,r as y,q as C,o as l,A as G,w as b,f as R,a as t,c as s,t as a,u as d,j as g,B as k,C as P,l as v,_ as E,y as z,b as N,T as U,E as L,F as w,k as B,n as $,D as W,p as H,g as D}from"./index-CXEQOig3.js";import{y as F,z as j}from"./tournamentUtilFunctions-BkmhfxOC.js";import{M as A}from"./Modal-C2E2jOOV.js";const K={class:"rt-modal-container"},O={key:0,class:"rt-modal-main"},q={class:"rt-modal-team"},J={class:"rt-modal-result"},Q={class:"rt-modal-result"},X={class:"rt-modal-team"},Y={key:1,class:"rt-modal-main"},Z={class:"rt-modal-team"},p={class:"rt-modal-team"},_={key:2,class:"rt-modal-players"},ee={style:{display:"flex","margin-bottom":"10px"}},te={class:"rt-modal-player",style:{"text-align":"right"}},ae={style:{display:"flex"}},le={class:"rt-modal-player",style:{"text-align":"right"}},me={style:{display:"flex","margin-bottom":"10px"}},se={class:"rt-modal-player"},ne={style:{display:"flex"}},ce={class:"rt-modal-player"},oe=I({__name:"ModalSetGameResult",props:["getTournament","tournament","toggleModal","match","isGroupPhase"],setup(e){const c=e,f=async()=>{let M={team1Score:(o.value?o.value:0)+(r.value?r.value:0),team1Player1Score:o.value,team1Player2Score:r.value,team2Score:(m.value?m.value:0)+(h.value?h.value:0),team2Player1Score:m.value,team2Player2Score:h.value};await F(c.tournament,c.match._id,M),await c.getTournament(),c.toggleModal()},x=async()=>{let M={team1Score:(o.value?o.value:0)+(r.value?r.value:0),team1Player1Score:o.value,team1Player2Score:r.value,team2Score:(m.value?m.value:0)+(h.value?h.value:0),team2Player1Score:m.value,team2Player2Score:h.value};await j(c.tournament,c.match._id,M),await c.getTournament(),c.toggleModal()};let S=y(),o=y(),r=y(),u=y(),m=y(),h=y();C(()=>{c.match.result&&(S.value=c.match.result.team1Score,o.value=c.match.result.team1Player1Score,r.value=c.match.result.team1Player2Score,u.value=c.match.result.team2Score,m.value=c.match.result.team2Player1Score,h.value=c.match.result.team2Player2Score)});const V=()=>{S=y(),o=y(),r=y(),u=y(),m=y(),h=y()};return(M,i)=>(l(),G(A,null,{title:b(()=>[R("Ergebnis eintragen")]),template:b(()=>[t("div",K,[e.tournament.settings.trackPlayerShots?(l(),s("div",O,[t("div",q,a(e.match.team1.name),1),t("div",J,a((d(o)?d(o):0)+(d(r)?d(r):0)),1),t("div",Q,a((d(m)?d(m):0)+(d(h)?d(h):0)),1),t("div",X,a(e.match.team2.name),1)])):(l(),s("div",Y,[t("div",Z,a(e.match.team1.name),1),g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[0]||(i[0]=n=>P(S)?S.value=n:S=n),placeholder:"0"},null,512),[[k,d(S)]]),g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[1]||(i[1]=n=>P(u)?u.value=n:u=n),placeholder:"0"},null,512),[[k,d(u)]]),t("div",p,a(e.match.team2.name),1)])),e.tournament.settings.trackPlayerShots?(l(),s("div",_,[t("div",null,[t("div",ee,[t("div",te,a(e.match.team1.players[0]),1),g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[2]||(i[2]=n=>P(o)?o.value=n:o=n),placeholder:"0"},null,512),[[k,d(o)]])]),t("div",ae,[t("div",le,a(e.match.team1.players[1]),1),g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[3]||(i[3]=n=>P(r)?r.value=n:r=n),placeholder:"0"},null,512),[[k,d(r)]])])]),t("div",null,[t("div",me,[g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[4]||(i[4]=n=>P(m)?m.value=n:m=n),placeholder:"0"},null,512),[[k,d(m)]]),t("div",se,a(e.match.team2.players[0]),1)]),t("div",ne,[g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[5]||(i[5]=n=>P(h)?h.value=n:h=n),placeholder:"0"},null,512),[[k,d(h)]]),t("div",ce,a(e.match.team2.players[1]),1)])])])):v("",!0)])]),cancle:b(()=>[t("div",{onClick:i[6]||(i[6]=n=>{V(),e.toggleModal()})},"Abbrechen")]),confirm:b(()=>[t("div",{onClick:i[7]||(i[7]=n=>{e.isGroupPhase?f():x()})},"Eintragen")]),_:1}))}}),re=E(oe,[["__scopeId","data-v-f3c5d5cf"]]),T=e=>(H("data-v-e011d4ba"),e=e(),D(),e),ue={key:0,class:"mt-handle"},ie=T(()=>t("div",{style:{"margin-bottom":"5px"}},null,-1)),de=T(()=>t("div",null,null,-1)),he=[ie,de],ve={key:1,class:"mt-index"},ye={key:0,class:"mt-team-placeholder"},Se={key:1},ge={class:"mt-team-name"},ke={key:2,class:"mt-vs"},Pe={key:0,class:"mt-result-team"},fe=T(()=>t("span",null,a(" - "),-1)),xe={key:1,class:"mt-result-player"},be=T(()=>t("span",null,a(" - "),-1)),Te={key:2,class:"mt-result-player"},Me=T(()=>t("span",null,a(" - "),-1)),$e={key:0,class:"mt-team-placeholder"},Ge={key:1},we={class:"mt-team-name"},Be=I({__name:"MatchElement",props:["match","stageIndex","matchIndex","isBackend","tournament","getTournament","isGroupPhase"],setup(e){const c=e;let f=y(!1);const x=()=>{f.value=!f.value};let S=y(null);const o=()=>{if(window.innerWidth<500){let r=S.value.getElementsByClassName("mt-team-name");for(let u of r)u.innerText.length>16&&(u.style.fontSize="13px"),u.innerText.length>20&&(u.style.fontSize="12px")}};return z(()=>c.tournament,()=>{o()}),C(()=>{o()}),(r,u)=>(l(),s("div",{class:"Match",ref_key:"matchHTMLElement",ref:S},[(l(),G(L,{to:"body"},[N(U,{name:"fade"},{default:b(()=>[d(f)?(l(),G(re,{key:0,tournament:e.tournament,getTournament:e.getTournament,toggleModal:x,match:e.match,isGroupPhase:e.isGroupPhase},null,8,["tournament","getTournament","match","isGroupPhase"])):v("",!0)]),_:1})])),e.isBackend&&e.isGroupPhase?(l(),s("div",ue,he)):v("",!0),e.matchIndex!=null?(l(),s("div",ve,[t("div",null,a(e.matchIndex+1),1)])):v("",!0),t("div",{class:$(["mt-team mt-team-first",{"mt-result-team1Win":e.match.result&&e.match.result.team1Score>e.match.result.team2Score,"mt-result-team1Loose":e.match.result&&e.match.result.team1Score<e.match.result.team2Score}])},[e.stageIndex==0||!e.match.team1?(l(),s("div",ye,a(e.match.placeHolderTeam1),1)):v("",!0),e.match.team1?(l(),s("div",Se,[t("div",ge,a(e.match.team1.name),1),(l(!0),s(w,null,B(e.match.team1.players,m=>(l(),s("div",{class:"mt-team-players",key:m},a(m),1))),128))])):v("",!0)],2),!e.match.result&&!e.isBackend||!e.match.team1||!e.match.team2?(l(),s("div",ke,"vs.")):v("",!0),e.isBackend&&!e.match.result&&e.match.team1&&e.match.team2?(l(),s("div",{key:3,class:"bp-button mt-button",onClick:u[0]||(u[0]=m=>x())},"Eintragen")):v("",!0),e.match.result?(l(),s("div",{key:4,class:$(["mt-result",{"mt-result-team1Win":e.match.result&&e.match.result.team1Score>e.match.result.team2Score,"mt-result-team2Win":e.match.result&&e.match.result.team1Score<e.match.result.team2Score}]),onClick:u[1]||(u[1]=m=>e.isBackend?x():""),style:W({justifyContent:e.tournament.settings.trackPlayerShots?"":"center",cursor:e.isBackend?"pointer":""})},[e.tournament.settings.trackTeamShots?(l(),s("div",Pe,[t("span",null,a(e.match.result.team1Score),1),fe,t("span",null,a(e.match.result.team2Score),1)])):v("",!0),e.tournament.settings.trackPlayerShots?(l(),s("div",xe,[t("span",null,a(e.match.result.team1Player1Score),1),be,t("span",null,a(e.match.result.team2Player1Score),1)])):v("",!0),e.tournament.settings.trackPlayerShots?(l(),s("div",Te,[t("span",null,a(e.match.result.team1Player2Score),1),Me,t("span",null,a(e.match.result.team2Player2Score),1)])):v("",!0)],6)):v("",!0),t("div",{class:$(["mt-team mt-team-second",{"mt-result-team2Win":e.match.result&&e.match.result.team2Score>e.match.result.team1Score,"mt-result-team2Loose":e.match.result&&e.match.result.team2Score<e.match.result.team1Score}])},[e.stageIndex==0||!e.match.team2?(l(),s("div",$e,a(e.match.placeHolderTeam2),1)):v("",!0),e.match.team2?(l(),s("div",Ge,[t("div",we,a(e.match.team2.name),1),(l(!0),s(w,null,B(e.match.team2.players,m=>(l(),s("div",{class:"mt-team-players",key:m},a(m),1))),128))])):v("",!0)],2)],512))}}),Ve=E(Be,[["__scopeId","data-v-e011d4ba"]]);export{Ve as M};
