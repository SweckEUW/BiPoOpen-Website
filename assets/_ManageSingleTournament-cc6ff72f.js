import{d as U,i as T,a as i,c as p,b as e,e as C,w as d,T as E,F as B,r as M,u as o,q as V,g as A,k as x,s as G,x as S,y as I,t as v,p as z,h as F,_ as O,o as j,z as q}from"./index-30abbb0a.js";import{f as H,h as K,r as J,c as Q,b as W,i as X,s as Y,j as P,k as R,l as Z,g as ee}from"./tournamentUtilFunctions-f20b76d9.js";import{M as D}from"./Modal-b68cc58f.js";import{a as te,S as ae}from"./Schedule-8af2498b.js";import"./MatchElement-1f9ceaba.js";const w=m=>(z("data-v-3a44efaa"),m=m(),F(),m),ne={class:"ParticipantsTab"},le=w(()=>e("div",null,"Teamname",-1)),se=w(()=>e("div",null,"Spieler 1",-1)),oe=w(()=>e("div",null,"Spieler 2",-1)),re=w(()=>e("div",null,"Teamname",-1)),ue=w(()=>e("div",null,"Spieler 1",-1)),ie=w(()=>e("div",null,"Spieler 2",-1)),de={class:"table table-hover"},me=w(()=>e("thead",null,[e("tr",null,[e("th",null,"#"),e("th",null,"Teamname"),e("th",null,"Spieler")])],-1)),pe=["onClick"],ce=U({__name:"TeamsTab",props:["getTournament","tournament"],setup(m){const t=m,$=()=>{r.value="",s.value="",l.value=""};let c=T(!1);const y=()=>{c.value||$(),c.value=!c.value};let g=T(!1);const h=u=>{u&&(r.value=u.name,s.value=u.players[0],l.value=u.players[1],b.value=u),g.value=!g.value};let r=T(""),s=T(""),l=T("");const _=async()=>{let u={name:r.value,players:[s.value,l.value]};await H(t.tournament._id,u)&&(await t.getTournament(),y())};let b=T();const f=async()=>{let u={name:r.value,players:[s.value,l.value],_id:b.value._id};await K(t.tournament._id,u)&&(await t.getTournament(),h())},k=async()=>{await J(t.tournament._id,b.value._id)&&(t.getTournament(),h())};return(u,a)=>(i(),p("div",ne,[e("div",{class:"bp-button",onClick:a[0]||(a[0]=n=>y())},"Team hinzufügen"),C(E,{name:"fade"},{default:d(()=>[o(c)?(i(),V(D,{key:0},{title:d(()=>[A("Team hinzufügen")]),template:d(()=>[le,x(e("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=n=>S(r)?r.value=n:r=n)},null,512),[[G,o(r)]]),se,x(e("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=n=>S(s)?s.value=n:s=n)},null,512),[[G,o(s)]]),oe,x(e("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=n=>S(l)?l.value=n:l=n)},null,512),[[G,o(l)]])]),cancle:d(()=>[e("div",{onClick:a[4]||(a[4]=n=>y())},"Abbrechen")]),confirm:d(()=>[e("div",{onClick:a[5]||(a[5]=n=>_())},"Hinzufügen")]),_:1})):I("",!0)]),_:1}),C(E,{name:"fade"},{default:d(()=>[o(g)?(i(),V(D,{key:0},{title:d(()=>[A("Team Bearbeiten")]),template:d(()=>[re,x(e("input",{type:"text","onUpdate:modelValue":a[6]||(a[6]=n=>S(r)?r.value=n:r=n)},null,512),[[G,o(r)]]),ue,x(e("input",{type:"text","onUpdate:modelValue":a[7]||(a[7]=n=>S(s)?s.value=n:s=n)},null,512),[[G,o(s)]]),ie,x(e("input",{type:"text","onUpdate:modelValue":a[8]||(a[8]=n=>S(l)?l.value=n:l=n)},null,512),[[G,o(l)]]),e("button",{onClick:a[9]||(a[9]=n=>k())},"Team löschen")]),cancle:d(()=>[e("div",{onClick:a[10]||(a[10]=n=>h())},"Abbrechen")]),confirm:d(()=>[e("div",{onClick:a[11]||(a[11]=n=>f())},"Bearbeiten")]),_:1})):I("",!0)]),_:1}),e("table",de,[me,e("tbody",null,[(i(!0),p(B,null,M(m.tournament.teams,(n,L)=>(i(),p("tr",{onClick:N=>h(n),key:n.name},[e("td",null,v(L+1),1),e("td",null,v(n.name),1),e("td",null,[(i(!0),p(B,null,M(n.players,N=>(i(),p("span",{style:{"margin-right":"15px"},key:N},v(N),1))),128))])],8,pe))),128))])])]))}});const be=O(ce,[["__scopeId","data-v-3a44efaa"]]),ve=m=>(z("data-v-10fa6f17"),m=m(),F(),m),ge={class:"LayoutTab"},_e={style:{"text-align":"center","white-space":"break-spaces"}},fe=["id"],Te=ve(()=>e("thead",null,[e("tr",null,[e("th",null,"#"),e("th",null,"Teamname"),e("th",null,"Spieler")])],-1)),ye=U({__name:"GroupsTab",props:["getTournament","tournament"],setup(m){const t=m,$=async()=>{var b;let s=[],l=t.tournament.groupPhase.settings.fixedGroupAmmount;for(let f=0;f<l;f++){let k=[],u=(b=document.getElementById("Group-"+f))==null?void 0:b.getElementsByTagName("tbody")[0].getElementsByTagName("tr");for(let a=0;a<u.length;a++)k.push({teamID:X(t.tournament,u[a].getElementsByTagName("td")[1].innerText)._id});s.push({teams:k})}await Y(t.tournament._id,s)&&(await t.getTournament(),await P(t.tournament),await t.getTournament(),await R(t.tournament),await t.getTournament(),c(),r())},c=()=>{setTimeout(()=>{let s=t.tournament.groupPhase.settings.fixedGroupAmmount;for(let l=0;l<s;l++){let b=document.getElementById("Group-"+l).getElementsByTagName("tbody")[0];new te(b,{animation:150,group:"shared"})}},0)};j(()=>{t.tournament.groupPhase.groups&&c()});const y=async()=>{await Z(t.tournament),await t.getTournament(),await P(t.tournament),await t.getTournament(),await R(t.tournament),await t.getTournament(),r()};let g=T(!1),h=T(!1);const r=s=>{h.value=!h.value,s!=null&&(g.value=s)};return(s,l)=>(i(),p("div",ge,[C(E,{name:"fade"},{default:d(()=>[o(h)?(i(),V(D,{key:0},{title:d(()=>[A(v(o(g)?"Gruppen auslosen":"Gruppen umsortieren"),1)]),template:d(()=>[e("p",_e,v(o(g)?`Sicher das die Gruppen ausgelost werden sollen?
Dadurch wird der Spielplan neu generiert und der alte gelöscht!`:`Sicher das die Gruppen umsortiert werden sollen?
Dadurch wird der Spielplan neu generiert und der alte gelöscht!`),1)]),cancle:d(()=>[e("div",{onClick:l[0]||(l[0]=_=>r())},"Abbrechen")]),confirm:d(()=>[e("div",{onClick:l[1]||(l[1]=_=>o(g)?y():$())},v(o(g)?"Auslosen":"Umsortieren"),1)]),_:1})):I("",!0)]),_:1}),e("div",{class:"bp-button",style:{"margin-bottom":"20px"},onClick:l[2]||(l[2]=_=>r(!0))},"Gruppen auslosen"),e("div",{class:"bp-button",onClick:l[3]||(l[3]=_=>r(!1))},"Gruppen umsortieren"),(i(!0),p(B,null,M(o(W)(m.tournament),(_,b)=>(i(),p("table",{class:"table table-hover caption-top",key:b,id:"Group-"+b},[e("caption",null,v("Gruppe "+o(Q)(b+1)),1),Te,e("tbody",null,[(i(!0),p(B,null,M(_.teams,(f,k)=>(i(),p("tr",{key:f},[e("td",null,v(k+1),1),e("td",null,v(f.name),1),e("td",null,[(i(!0),p(B,null,M(f.players,u=>(i(),p("span",{style:{"margin-right":"15px"},key:u},v(u),1))),128))])]))),128))])],8,fe))),128))]))}});const he=O(ye,[["__scopeId","data-v-10fa6f17"]]),we={key:0,class:"ManageTournament"},ke=e("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home-tab-pane",type:"button",role:"tab","aria-controls":"home-tab-pane","aria-selected":"true"},"Teams")]),e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile-tab-pane",type:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":"false"},"Gruppen")]),e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link",id:"result-tab","data-bs-toggle":"tab","data-bs-target":"#result-tab-pane",type:"button",role:"tab","aria-controls":"result-tab-pane","aria-selected":"false"},"Spielplan")])],-1),xe={class:"tab-content"},Ge={class:"tab-pane fade show active",id:"home-tab-pane",role:"tabpanel","aria-labelledby":"home-tab",tabindex:"0"},Se={class:"tab-pane fade",id:"profile-tab-pane",role:"tabpanel","aria-labelledby":"profile-tab",tabindex:"0"},Ce={class:"tab-pane fade",id:"result-tab-pane",role:"tabpanel","aria-labelledby":"result-tab",tabindex:"0"},Ee=U({__name:"_ManageSingleTournament",setup(m){let t=T();const $=q(),c=async()=>{let y=$.params.id.replaceAll("-"," ");t.value=await ee(y)};return c(),(y,g)=>o(t)?(i(),p("div",we,[e("h1",null,v("Turnier: "+o(t).name),1),ke,e("div",xe,[e("div",Ge,[C(be,{getTournament:c,tournament:o(t)},null,8,["tournament"])]),e("div",Se,[C(he,{getTournament:c,tournament:o(t)},null,8,["tournament"])]),e("div",Ce,[C(ae,{getTournament:c,tournament:o(t),isBackend:!0},null,8,["tournament"])])])])):I("",!0)}});export{Ee as default};
