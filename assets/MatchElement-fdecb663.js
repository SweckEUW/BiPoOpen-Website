import{d as I,g as v,m as B,o as l,x as C,w as M,e as R,a as t,c,t as a,u as d,i as g,y as k,z as x,q as S,_ as E,n as z,b as N,T as U,F as G,k as w,A as b,B as H,p as F,f as L}from"./index-4d51d300.js";import{q as W,t as q}from"./tournamentUtilFunctions-def12c95.js";import{M as A}from"./Modal-ffb87595.js";const D={class:"rt-modal-container"},K={key:0,class:"rt-modal-main"},O={class:"rt-modal-team"},j={class:"rt-modal-result"},J={class:"rt-modal-result"},Q={class:"rt-modal-team"},X={key:1,class:"rt-modal-main"},Y={class:"rt-modal-team"},Z={class:"rt-modal-team"},p={key:2,class:"rt-modal-players"},_={style:{display:"flex","margin-bottom":"10px"}},ee={class:"rt-modal-player",style:{"text-align":"right"}},te={style:{display:"flex"}},ae={class:"rt-modal-player",style:{"text-align":"right"}},le={style:{display:"flex","margin-bottom":"10px"}},se={class:"rt-modal-player"},me={style:{display:"flex"}},ne={class:"rt-modal-player"},oe=I({__name:"ModalSetGameResult",props:["getTournament","tournament","toggleModal","match","isGroupPhase"],setup(e){const u=e,P=async()=>{let $={team1Score:y.value?y.value:(r.value?r.value:0)+(n.value?n.value:0),team1Player1Score:r.value,team1Player2Score:n.value,team2Score:s.value?s.value:(n.value?m.value:0)+(h.value?h.value:0),team2Player1Score:m.value,team2Player2Score:h.value};await W(u.tournament,u.match._id,$),await u.getTournament(),u.toggleModal()},f=async()=>{let $={team1Score:y.value?y.value:(r.value?r.value:0)+(n.value?n.value:0),team1Player1Score:r.value,team1Player2Score:n.value,team2Score:s.value?s.value:(n.value?m.value:0)+(h.value?h.value:0),team2Player1Score:m.value,team2Player2Score:h.value};await q(u.tournament,u.match._id,$),await u.getTournament(),u.toggleModal()};let y=v(),r=v(),n=v(),s=v(),m=v(),h=v();B(()=>{u.match&&u.match.result&&(y.value=u.match.result.team1Score,r.value=u.match.result.team1Player1Score,n.value=u.match.result.team1Player2Score,s.value=u.match.result.team2Score,m.value=u.match.result.team2Player1Score,h.value=u.match.result.team2Player2Score)});const V=()=>{y=v(),r=v(),n=v(),s=v(),m=v(),h=v()};return($,i)=>(l(),C(A,null,{title:M(()=>[R("Ergebnis eintragen")]),template:M(()=>[t("div",D,[e.tournament.settings.trackPlayerShots?(l(),c("div",K,[t("div",O,a(e.match.team1.name),1),t("div",j,a((d(r)?d(r):0)+(d(n)?d(n):0)),1),t("div",J,a((d(m)?d(m):0)+(d(h)?d(h):0)),1),t("div",Q,a(e.match.team2.name),1)])):(l(),c("div",X,[t("div",Y,a(e.match.team1.name),1),g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[0]||(i[0]=o=>x(y)?y.value=o:y=o),placeholder:"0"},null,512),[[k,d(y)]]),g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[1]||(i[1]=o=>x(s)?s.value=o:s=o),placeholder:"0"},null,512),[[k,d(s)]]),t("div",Z,a(e.match.team2.name),1)])),e.tournament.settings.trackPlayerShots?(l(),c("div",p,[t("div",null,[t("div",_,[t("div",ee,a(e.match.team1.players[0]),1),g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[2]||(i[2]=o=>x(r)?r.value=o:r=o),placeholder:"0"},null,512),[[k,d(r)]])]),t("div",te,[t("div",ae,a(e.match.team1.players[1]),1),g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[3]||(i[3]=o=>x(n)?n.value=o:n=o),placeholder:"0"},null,512),[[k,d(n)]])])]),t("div",null,[t("div",le,[g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[4]||(i[4]=o=>x(m)?m.value=o:m=o),placeholder:"0"},null,512),[[k,d(m)]]),t("div",se,a(e.match.team2.players[0]),1)]),t("div",me,[g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[5]||(i[5]=o=>x(h)?h.value=o:h=o),placeholder:"0"},null,512),[[k,d(h)]]),t("div",ne,a(e.match.team2.players[1]),1)])])])):S("",!0)])]),cancle:M(()=>[t("div",{onClick:i[6]||(i[6]=o=>{V(),e.toggleModal()})},"Abbrechen")]),confirm:M(()=>[t("div",{onClick:i[7]||(i[7]=o=>{e.isGroupPhase?P():f()})},"Eintragen")]),_:1}))}});const ce=E(oe,[["__scopeId","data-v-44e45282"]]),T=e=>(F("data-v-79d10d26"),e=e(),L(),e),ue={key:0,class:"mt-handle"},re=T(()=>t("div",{style:{"margin-bottom":"5px"}},null,-1)),ie=T(()=>t("div",null,null,-1)),de=[re,ie],he={key:1,class:"mt-index"},ve={key:0,class:"mt-team-placeholder"},ye={key:1},Se={class:"mt-team-name"},ge={key:2,class:"mt-vs"},ke={class:"mt-result-team"},xe=T(()=>t("span",null,a(" - "),-1)),Pe={key:0,class:"mt-result-player"},fe=T(()=>t("span",null,a(" - "),-1)),Me={key:1,class:"mt-result-player"},Te=T(()=>t("span",null,a(" - "),-1)),$e={key:0,class:"mt-team-placeholder"},be={key:1},Ge={class:"mt-team-name"},we=I({__name:"MatchElement",props:["match","stageIndex","matchIndex","isBackend","tournament","getTournament","isGroupPhase"],setup(e){const u=e;let P=v(!1);const f=()=>{P.value=!P.value};let y=v(null);const r=()=>{if(window.innerWidth<500){let n=y.value.getElementsByClassName("mt-team-name");for(let s of n)s.innerText.length>16&&(s.style.fontSize="13px"),s.innerText.length>20&&(s.style.fontSize="12px")}};return z(()=>u.tournament,()=>{r()}),B(()=>{r()}),(n,s)=>(l(),c("div",{class:"Match",ref_key:"matchHTMLElement",ref:y},[N(U,{name:"fade"},{default:M(()=>[d(P)?(l(),C(ce,{key:0,tournament:e.tournament,getTournament:e.getTournament,toggleModal:f,match:e.match,isGroupPhase:e.isGroupPhase},null,8,["tournament","getTournament","match","isGroupPhase"])):S("",!0)]),_:1}),e.isBackend&&e.isGroupPhase?(l(),c("div",ue,de)):S("",!0),e.matchIndex!=null?(l(),c("div",he,[t("div",null,a(e.matchIndex+1),1)])):S("",!0),t("div",{class:"mt-team mt-team-first",style:b({color:e.match.result&&e.match.result.team1Score<e.match.result.team2Score?"var(--loose-gray)":""})},[e.stageIndex==0||!e.match.team1?(l(),c("div",ve,a(e.match.placeHolderTeam1),1)):S("",!0),e.match.team1?(l(),c("div",ye,[t("div",Se,a(e.match.team1.name),1),(l(!0),c(G,null,w(e.match.team1.players,m=>(l(),c("div",{class:"mt-team-players",key:m},a(m),1))),128))])):S("",!0)],4),!e.match.result&&!e.isBackend||!e.match.team1||!e.match.team2?(l(),c("div",ge,"vs.")):S("",!0),e.isBackend&&!e.match.result&&e.match.team1&&e.match.team2?(l(),c("div",{key:3,class:"bp-button mt-button",onClick:s[0]||(s[0]=m=>f())},"Eintragen")):S("",!0),e.match.result?(l(),c("div",{key:4,class:H(["mt-result",{"mt-result-team1Win":e.match.result&&e.match.result.team1Score>e.match.result.team2Score,"mt-result-team2Win":e.match.result&&e.match.result.team1Score<e.match.result.team2Score}]),onClick:s[1]||(s[1]=m=>e.isBackend?f():""),style:b({justifyContent:e.tournament.settings.trackPlayerShots?"":"center"})},[t("div",ke,[t("span",null,a(e.match.result.team1Score),1),xe,t("span",null,a(e.match.result.team2Score),1)]),e.tournament.settings.trackPlayerShots?(l(),c("div",Pe,[t("span",null,a(e.match.result.team1Player1Score),1),fe,t("span",null,a(e.match.result.team2Player1Score),1)])):S("",!0),e.tournament.settings.trackPlayerShots?(l(),c("div",Me,[t("span",null,a(e.match.result.team1Player2Score),1),Te,t("span",null,a(e.match.result.team2Player2Score),1)])):S("",!0)],6)):S("",!0),t("div",{class:"mt-team mt-team-second",style:b({color:e.match.result&&e.match.result.team1Score>e.match.result.team2Score?"var(--loose-gray)":""})},[e.stageIndex==0||!e.match.team2?(l(),c("div",$e,a(e.match.placeHolderTeam2),1)):S("",!0),e.match.team2?(l(),c("div",be,[t("div",Ge,a(e.match.team2.name),1),(l(!0),c(G,null,w(e.match.team2.players,m=>(l(),c("div",{class:"mt-team-players",key:m},a(m),1))),128))])):S("",!0)],4)],512))}});const Ee=E(we,[["__scopeId","data-v-79d10d26"]]);export{Ee as M};
