import{d as V,r as u,v as E,o as d,k as M,w as x,g as I,a as t,c as S,t as r,u as l,y as b,G as g,m as f,b as P,_ as $,q as w,e as k,T as C,A as O,p as R,h as U}from"./index-o_HnO9G4.js";import{A as j,B as N}from"./tournamentUtilFunctions-DAG85oeN.js";import{M as _}from"./Modal-A-1F_zAl.js";const A={class:"rt-modal-container"},F={key:0,class:"rt-modal-main"},D={class:"rt-modal-team"},K={class:"rt-modal-result"},z={class:"rt-modal-result"},H={class:"rt-modal-team"},L={key:1,class:"rt-modal-main"},J={class:"rt-modal-team"},Q={class:"rt-modal-team"},W={key:2,class:"rt-modal-players"},X={style:{display:"flex","margin-bottom":"10px"}},Y={class:"rt-modal-player",style:{"text-align":"right"}},Z={style:{display:"flex"}},ee={class:"rt-modal-player",style:{"text-align":"right"}},te={style:{display:"flex","margin-bottom":"10px"}},ae={class:"rt-modal-player"},le={style:{display:"flex"}},se={class:"rt-modal-player"},me=V({__name:"ModalSetGameResult",props:{getTournament:{type:Function,required:!0},tournament:{type:Object,required:!0},isGroupPhase:{type:Boolean,required:!0},toggleModal:{type:Function,required:!0},match:{type:Object,required:!0}},setup(e){const a=e,y=async()=>{let T={team1Score:(m.value?m.value:0)+(s.value?s.value:0),team1Player1Score:m.value,team1Player2Score:s.value,team2Score:(c.value?c.value:0)+(i.value?i.value:0),team2Player1Score:c.value,team2Player2Score:i.value};await j(a.tournament,a.match._id,T),await a.getTournament(),a.toggleModal()},v=async()=>{let T={team1Score:(m.value?m.value:0)+(s.value?s.value:0),team1Player1Score:m.value,team1Player2Score:s.value,team2Score:(c.value?c.value:0)+(i.value?i.value:0),team2Player1Score:c.value,team2Player2Score:i.value};await N(a.tournament,a.match._id,T),await a.getTournament(),a.toggleModal()};let h=u(),m=u(),s=u(),p=u(),c=u(),i=u();E(()=>{a.match.result&&(h.value=a.match.result.team1Score,m.value=a.match.result.team1Player1Score,s.value=a.match.result.team1Player2Score,p.value=a.match.result.team2Score,c.value=a.match.result.team2Player1Score,i.value=a.match.result.team2Player2Score)});const G=()=>{h=u(),m=u(),s=u(),p=u(),c=u(),i=u()};return(T,n)=>(d(),M(_,null,{title:x(()=>[I("Ergebnis eintragen")]),template:x(()=>[t("div",A,[e.tournament.settings.trackPlayerShots?(d(),S("div",F,[t("div",D,r(e.match.team1.name),1),t("div",K,r((l(m)?l(m):0)+(l(s)?l(s):0)),1),t("div",z,r((l(c)?l(c):0)+(l(i)?l(i):0)),1),t("div",H,r(e.match.team2.name),1)])):(d(),S("div",L,[t("div",J,r(e.match.team1.name),1),b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":n[0]||(n[0]=o=>f(h)?h.value=o:h=o),placeholder:"0"},null,512),[[g,l(h)]]),b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":n[1]||(n[1]=o=>f(p)?p.value=o:p=o),placeholder:"0"},null,512),[[g,l(p)]]),t("div",Q,r(e.match.team2.name),1)])),e.tournament.settings.trackPlayerShots?(d(),S("div",W,[t("div",null,[t("div",X,[t("div",Y,r(e.match.team1.players[0]),1),b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":n[2]||(n[2]=o=>f(m)?m.value=o:m=o),placeholder:"0"},null,512),[[g,l(m)]])]),t("div",Z,[t("div",ee,r(e.match.team1.players[1]),1),b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":n[3]||(n[3]=o=>f(s)?s.value=o:s=o),placeholder:"0"},null,512),[[g,l(s)]])])]),t("div",null,[t("div",te,[b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":n[4]||(n[4]=o=>f(c)?c.value=o:c=o),placeholder:"0"},null,512),[[g,l(c)]]),t("div",ae,r(e.match.team2.players[0]),1)]),t("div",le,[b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":n[5]||(n[5]=o=>f(i)?i.value=o:i=o),placeholder:"0"},null,512),[[g,l(i)]]),t("div",se,r(e.match.team2.players[1]),1)])])])):P("",!0)])]),cancle:x(()=>[t("div",{onClick:n[6]||(n[6]=o=>{G(),e.toggleModal()})},"Abbrechen")]),confirm:x(()=>[t("div",{onClick:n[7]||(n[7]=o=>{e.isGroupPhase?y():v()})},r(e.match.result?"Bearbeiten":"Eintragen"),1)]),_:1}))}}),oe=$(me,[["__scopeId","data-v-790aefe0"]]),re={class:"mt-team"},ne={class:"mt-team-name"},ce={key:0,class:"mt-team-score"},ie={key:0},ue={class:"mt-team-player"},de={class:"mt-team-player-name"},he={class:"mt-team-player-score"},ye={class:"mt-team-player"},ve={class:"mt-team-player-name"},Se={class:"mt-team-player-score"},pe=V({__name:"MatchElementTeam",props:{match:{type:Object,required:!0},playersVisible:{type:Boolean,required:!0},isTeam2:{type:Boolean,required:!0}},setup(e){const a=e;let y=a.match.team1;a.isTeam2&&(y=a.match.team2);let v,h,m;return a.match.result&&(v=a.match.result.team1Score,h=a.match.result.team1Player1Score,m=a.match.result.team1Player2Score,a.isTeam2&&(v=a.match.result.team2Score,h=a.match.result.team2Player1Score,m=a.match.result.team2Player2Score)),(s,p)=>(d(),S("div",{class:w(["MatchElementTeam",{"mt-team-loose":e.match.result&&(e.isTeam2?e.match.result.team1Score>e.match.result.team2Score:e.match.result.team2Score>e.match.result.team1Score),"mt-team-second":e.isTeam2}])},[t("div",re,[t("div",ne,r(l(y)?l(y).name:e.isTeam2?"Placerholder Team 2":"Placeholder Team 1"),1),l(v)!=null?(d(),S("div",ce,r(l(v)),1)):P("",!0)]),l(y)&&e.playersVisible?(d(),S("div",ie,[t("div",ue,[t("div",de,r(l(y).players[0]),1),t("div",he,r(l(h)),1)]),t("div",ye,[t("div",ve,r(l(y).players[1]),1),t("div",Se,r(l(m)),1)])])):P("",!0)],2))}}),B=$(pe,[["__scopeId","data-v-1b153f2c"]]),q=e=>(R("data-v-e155eca7"),e=e(),U(),e),Pe={class:"Match",ref:"matchHTMLElement"},be={key:0,class:"mt-handle"},ge=q(()=>t("div",{style:{"margin-bottom":"5px"}},null,-1)),fe=q(()=>t("div",null,null,-1)),xe=[ge,fe],Te={key:1,class:"mt-index"},ke={key:2,class:"mt-vs"},Me=V({__name:"MatchElement",props:{getTournament:{type:Function,required:!0},tournament:{type:Object,required:!0},match:{type:Object,required:!0},isGroupPhase:{type:Boolean,required:!0},isBackend:{type:Boolean,required:!0},matchIndex:{type:Number}},setup(e){let a=u(!1);const y=()=>{a.value=!a.value};let v=u(!1),h=()=>{v.value=!v.value};return(m,s)=>(d(),S("div",Pe,[(d(),M(O,{to:"body"},[k(C,{name:"fade"},{default:x(()=>[l(a)?(d(),M(oe,{key:0,tournament:e.tournament,getTournament:e.getTournament,toggleModal:y,match:e.match,isGroupPhase:e.isGroupPhase},null,8,["tournament","getTournament","match","isGroupPhase"])):P("",!0)]),_:1})])),e.isBackend&&e.isGroupPhase?(d(),S("div",be,xe)):P("",!0),e.matchIndex!=null?(d(),S("div",Te,[t("div",null,r(e.matchIndex+1+"."),1)])):P("",!0),t("div",{class:"mt-teams",onClick:s[0]||(s[0]=p=>l(h)())},[k(B,{match:e.match,isTeam2:!1,playersVisible:l(v)},null,8,["match","playersVisible"]),k(B,{match:e.match,isTeam2:!0,playersVisible:l(v)},null,8,["match","playersVisible"])]),!e.match.result&&!e.isBackend||!e.match.team1||!e.match.team2?(d(),S("div",ke,"vs.")):P("",!0),e.isBackend&&e.match.team1&&e.match.team2?(d(),S("div",{key:3,class:"bp-button mt-button",onClick:s[1]||(s[1]=p=>y())},r(e.match.result?"Bearbeiten":"Eintragen"),1)):P("",!0)],512))}}),qe=$(Me,[["__scopeId","data-v-e155eca7"]]);export{qe as M};
