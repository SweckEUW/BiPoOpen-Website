import{d as G,i as h,o as w,a as n,q as I,w as f,g as E,b as t,t as a,u as r,k as S,s as k,x as P,_ as B,m as C,c as d,e as R,y as v,T as V,F as T,r as $,B as b,A as N,p as z,h as H}from"./index-387b0b0e.js";import{o as U,p as F}from"./tournamentUtilFunctions-4b907266.js";import{M as L}from"./Modal-f0a2ad66.js";const W={class:"rt-modal-container"},A={class:"rt-modal-main"},D={class:"rt-modal-team"},K={class:"rt-modal-result"},O={class:"rt-modal-result"},q={class:"rt-modal-team"},j={class:"rt-modal-players"},J={style:{display:"flex","margin-bottom":"10px"}},Q={class:"rt-modal-player",style:{"text-align":"right"}},X={style:{display:"flex"}},Y={class:"rt-modal-player",style:{"text-align":"right"}},Z={style:{display:"flex","margin-bottom":"10px"}},p={class:"rt-modal-player"},_={style:{display:"flex"}},ee={class:"rt-modal-player"},te=G({__name:"ModalSetGameResult",props:["getTournament","tournament","toggleModal","match","isGroupPhase"],setup(e){const m=e,y=async()=>{await U(m.tournament,m.match._id,c.value,o.value,l.value,s.value),await m.getTournament(),m.toggleModal()},g=async()=>{await F(m.tournament,m.match._id,c.value,o.value,l.value,s.value),await m.getTournament(),m.toggleModal()},x=()=>{c=h(),o=h(),l=h(),s=h()};let c=h(),o=h(),l=h(),s=h();return w(()=>{m.match&&m.match.result&&(c.value=m.match.result.team1Player1Score,o.value=m.match.result.team1Player2Score,l.value=m.match.result.team2Player1Score,s.value=m.match.result.team2Player2Score)}),(xe,u)=>(n(),I(L,null,{title:f(()=>[E("Ergebnis eintragen")]),template:f(()=>[t("div",W,[t("div",A,[t("div",D,a(e.match.team1.name),1),t("div",K,a((r(c)?r(c):0)+(r(o)?r(o):0)),1),t("div",O,a((r(l)?r(l):0)+(r(s)?r(s):0)),1),t("div",q,a(e.match.team2.name),1)]),t("div",j,[t("div",null,[t("div",J,[t("div",Q,a(e.match.team1.players[0]),1),S(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":u[0]||(u[0]=i=>P(c)?c.value=i:c=i),placeholder:"0"},null,512),[[k,r(c)]])]),t("div",X,[t("div",Y,a(e.match.team1.players[1]),1),S(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":u[1]||(u[1]=i=>P(o)?o.value=i:o=i),placeholder:"0"},null,512),[[k,r(o)]])])]),t("div",null,[t("div",Z,[S(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":u[2]||(u[2]=i=>P(l)?l.value=i:l=i),placeholder:"0"},null,512),[[k,r(l)]]),t("div",p,a(e.match.team2.players[0]),1)]),t("div",_,[S(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":u[3]||(u[3]=i=>P(s)?s.value=i:s=i),placeholder:"0"},null,512),[[k,r(s)]]),t("div",ee,a(e.match.team2.players[1]),1)])])])])]),cancle:f(()=>[t("div",{onClick:u[4]||(u[4]=i=>{x(),e.toggleModal()})},"Abbrechen")]),confirm:f(()=>[t("div",{onClick:u[5]||(u[5]=i=>{e.isGroupPhase?y():g()})},"Eintragen")]),_:1}))}});const ae=B(te,[["__scopeId","data-v-74735cdf"]]),M=e=>(z("data-v-9f92f273"),e=e(),H(),e),le={key:0,class:"mt-index"},se={key:0,class:"mt-team-placeholder"},me={key:1},ne={class:"mt-team-name"},ce={key:1,class:"mt-vs"},oe={class:"mt-result-team"},ie=M(()=>t("span",null,a(" - "),-1)),de={class:"mt-result-player"},re=M(()=>t("span",null,a(" - "),-1)),ue={class:"mt-result-player"},he=M(()=>t("span",null,a(" - "),-1)),ve={key:0,class:"mt-team-placeholder"},ye={key:1},ge={class:"mt-team-name"},fe=G({__name:"MatchElement",props:["match","stageIndex","matchIndex","isBackend","tournament","getTournament","isGroupPhase"],setup(e){const m=e;let y=h(!1);const g=()=>{y.value=!y.value};let x=h(null);const c=()=>{if(window.innerWidth<500){let o=x.value.getElementsByClassName("mt-team-name");for(let l of o)l.innerText.length>16&&(l.style.fontSize="13px"),l.innerText.length>20&&(l.style.fontSize="12px")}};return C(()=>m.tournament,()=>{c()}),w(()=>{c()}),(o,l)=>(n(),d("div",{class:"Match",ref_key:"matchHTMLElement",ref:x},[R(V,{name:"fade"},{default:f(()=>[r(y)?(n(),I(ae,{key:0,tournament:e.tournament,getTournament:e.getTournament,toggleModal:g,match:e.match,isGroupPhase:e.isGroupPhase},null,8,["tournament","getTournament","match","isGroupPhase"])):v("",!0)]),_:1}),e.matchIndex!=null?(n(),d("div",le,[t("div",null,a(e.matchIndex+1),1)])):v("",!0),t("div",{class:"mt-team mt-team-first",style:b({color:e.match.result&&e.match.result.team1Score<e.match.result.team2Score?"var(--loose-gray)":""})},[e.stageIndex==0||!e.match.team1?(n(),d("div",se,a(e.match.placeHolderTeam1),1)):v("",!0),e.match.team1?(n(),d("div",me,[t("div",ne,a(e.match.team1.name),1),(n(!0),d(T,null,$(e.match.team1.players,s=>(n(),d("div",{class:"mt-team-players",key:s},a(s),1))),128))])):v("",!0)],4),!e.match.result&&!e.isBackend||!e.match.team1||!e.match.team2?(n(),d("div",ce,"vs.")):v("",!0),e.isBackend&&!e.match.result&&e.match.team1&&e.match.team2?(n(),d("div",{key:2,class:"bp-button mt-button",onClick:l[0]||(l[0]=s=>g())},"Eintragen")):v("",!0),e.match.result?(n(),d("div",{key:3,class:N(["mt-result",{"mt-result-team1Win":e.match.result&&e.match.result.team1Score>e.match.result.team2Score,"mt-result-team2Win":e.match.result&&e.match.result.team1Score<e.match.result.team2Score}]),onClick:l[1]||(l[1]=s=>e.isBackend?g():"")},[t("div",oe,[t("span",null,a(e.match.result.team1Score),1),ie,t("span",null,a(e.match.result.team2Score),1)]),t("div",de,[t("span",null,a(e.match.result.team1Player1Score),1),re,t("span",null,a(e.match.result.team2Player1Score),1)]),t("div",ue,[t("span",null,a(e.match.result.team1Player2Score),1),he,t("span",null,a(e.match.result.team2Player2Score),1)])],2)):v("",!0),t("div",{class:"mt-team mt-team-second",style:b({color:e.match.result&&e.match.result.team1Score>e.match.result.team2Score?"var(--loose-gray)":""})},[e.stageIndex==0||!e.match.team2?(n(),d("div",ve,a(e.match.placeHolderTeam2),1)):v("",!0),e.match.team2?(n(),d("div",ye,[t("div",ge,a(e.match.team2.name),1),(n(!0),d(T,null,$(e.match.team2.players,s=>(n(),d("div",{class:"mt-team-players",key:s},a(s),1))),128))])):v("",!0)],4)],512))}});const Me=B(fe,[["__scopeId","data-v-9f92f273"]]);export{Me as M};
