import{p as an,q as on,m as gt,t as rn,u as ln,v as sn,w as un}from"./tournamentUtilFunctions-jXmW7i5U.js";import{d as pe,r as G,k as wt,o as S,s as Ye,w as Ae,e as cn,a as h,c as E,t as w,u as y,q as ge,A as ve,z as be,f as $,_ as it,n as Gt,b as _e,T as dn,x as hn,p as fn,h as mn,F as se,l as De,B as pn}from"./index-DF5vjM7M.js";import{M as gn}from"./Modal-CnRPPpQ1.js";import{S as Ft,P as $t}from"./pagination-DClv5t0w.js";/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Pt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),a.push.apply(a,n)}return a}function Z(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?Pt(Object(a),!0).forEach(function(n){vn(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Pt(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function Ke(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ke=function(e){return typeof e}:Ke=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(t)}function vn(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function te(){return te=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},te.apply(this,arguments)}function bn(t,e){if(t==null)return{};var a={},n=Object.keys(t),o,i;for(i=0;i<n.length;i++)o=n[i],!(e.indexOf(o)>=0)&&(a[o]=t[o]);return a}function yn(t,e){if(t==null)return{};var a=bn(t,e),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var Sn="1.15.2";function ee(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var ne=ee(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),qe=ee(/Edge/i),Ot=ee(/firefox/i),Ge=ee(/safari/i)&&!ee(/chrome/i)&&!ee(/android/i),Rt=ee(/iP(ad|od|hone)/i),Xt=ee(/chrome/i)&&ee(/android/i),Yt={capture:!1,passive:!1};function D(t,e,a){t.addEventListener(e,a,!ne&&Yt)}function T(t,e,a){t.removeEventListener(e,a,!ne&&Yt)}function et(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function wn(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function W(t,e,a,n){if(t){a=a||document;do{if(e!=null&&(e[0]===">"?t.parentNode===a&&et(t,e):et(t,e))||n&&t===a)return t;if(t===a)break}while(t=wn(t))}return null}var Ct=/\s+/g;function Y(t,e,a){if(t&&e)if(t.classList)t.classList[a?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(Ct," ").replace(" "+e+" "," ");t.className=(n+(a?" "+e:"")).replace(Ct," ")}}function g(t,e,a){var n=t&&t.style;if(n){if(a===void 0)return document.defaultView&&document.defaultView.getComputedStyle?a=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(a=t.currentStyle),e===void 0?a:a[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=a+(typeof a=="string"?"":"px")}}function Te(t,e){var a="";if(typeof t=="string")a=t;else do{var n=g(t,"transform");n&&n!=="none"&&(a=n+" "+a)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(a)}function qt(t,e,a){if(t){var n=t.getElementsByTagName(e),o=0,i=n.length;if(a)for(;o<i;o++)a(n[o],o);return n}return[]}function U(){var t=document.scrollingElement;return t||document.documentElement}function I(t,e,a,n,o){if(!(!t.getBoundingClientRect&&t!==window)){var i,r,l,s,u,f,d;if(t!==window&&t.parentNode&&t!==U()?(i=t.getBoundingClientRect(),r=i.top,l=i.left,s=i.bottom,u=i.right,f=i.height,d=i.width):(r=0,l=0,s=window.innerHeight,u=window.innerWidth,f=window.innerHeight,d=window.innerWidth),(e||a)&&t!==window&&(o=o||t.parentNode,!ne))do if(o&&o.getBoundingClientRect&&(g(o,"transform")!=="none"||a&&g(o,"position")!=="static")){var m=o.getBoundingClientRect();r-=m.top+parseInt(g(o,"border-top-width")),l-=m.left+parseInt(g(o,"border-left-width")),s=r+i.height,u=l+i.width;break}while(o=o.parentNode);if(n&&t!==window){var p=Te(o||t),_=p&&p.a,P=p&&p.d;p&&(r/=P,l/=_,d/=_,f/=P,s=r+f,u=l+d)}return{top:r,left:l,bottom:s,right:u,width:d,height:f}}}function kt(t,e,a){for(var n=le(t,!0),o=I(t)[e];n;){var i=I(n)[a],r=void 0;if(r=o>=i,!r)return n;if(n===U())break;n=le(n,!1)}return!1}function Pe(t,e,a,n){for(var o=0,i=0,r=t.children;i<r.length;){if(r[i].style.display!=="none"&&r[i]!==v.ghost&&(n||r[i]!==v.dragged)&&W(r[i],a.draggable,t,!1)){if(o===e)return r[i];o++}i++}return null}function Et(t,e){for(var a=t.lastElementChild;a&&(a===v.ghost||g(a,"display")==="none"||e&&!et(a,e));)a=a.previousElementSibling;return a||null}function H(t,e){var a=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==v.clone&&(!e||et(t,e))&&a++;return a}function xt(t){var e=0,a=0,n=U();if(t)do{var o=Te(t),i=o.a,r=o.d;e+=t.scrollLeft*i,a+=t.scrollTop*r}while(t!==n&&(t=t.parentNode));return[e,a]}function En(t,e){for(var a in t)if(t.hasOwnProperty(a)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[a][n])return Number(a)}return-1}function le(t,e){if(!t||!t.getBoundingClientRect)return U();var a=t,n=!1;do if(a.clientWidth<a.scrollWidth||a.clientHeight<a.scrollHeight){var o=g(a);if(a.clientWidth<a.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||a.clientHeight<a.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!a.getBoundingClientRect||a===document.body)return U();if(n||e)return a;n=!0}}while(a=a.parentNode);return U()}function _n(t,e){if(t&&e)for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}function lt(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Fe;function jt(t,e){return function(){if(!Fe){var a=arguments,n=this;a.length===1?t.call(n,a[0]):t.apply(n,a),Fe=setTimeout(function(){Fe=void 0},e)}}}function Tn(){clearTimeout(Fe),Fe=void 0}function Ht(t,e,a){t.scrollLeft+=e,t.scrollTop+=a}function zt(t){var e=window.Polymer,a=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):a?a(t).clone(!0)[0]:t.cloneNode(!0)}function Lt(t,e,a){var n={};return Array.from(t.children).forEach(function(o){var i,r,l,s;if(!(!W(o,e.draggable,t,!1)||o.animated||o===a)){var u=I(o);n.left=Math.min((i=n.left)!==null&&i!==void 0?i:1/0,u.left),n.top=Math.min((r=n.top)!==null&&r!==void 0?r:1/0,u.top),n.right=Math.max((l=n.right)!==null&&l!==void 0?l:-1/0,u.right),n.bottom=Math.max((s=n.bottom)!==null&&s!==void 0?s:-1/0,u.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var j="Sortable"+new Date().getTime();function Dn(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(o){if(!(g(o,"display")==="none"||o===v.ghost)){t.push({target:o,rect:I(o)});var i=Z({},t[t.length-1].rect);if(o.thisAnimationDuration){var r=Te(o,!0);r&&(i.top-=r.f,i.left-=r.e)}o.fromRect=i}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(En(t,{target:n}),1)},animateAll:function(n){var o=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var i=!1,r=0;t.forEach(function(l){var s=0,u=l.target,f=u.fromRect,d=I(u),m=u.prevFromRect,p=u.prevToRect,_=l.rect,P=Te(u,!0);P&&(d.top-=P.f,d.left-=P.e),u.toRect=d,u.thisAnimationDuration&&lt(m,d)&&!lt(f,d)&&(_.top-d.top)/(_.left-d.left)===(f.top-d.top)/(f.left-d.left)&&(s=On(_,m,p,o.options)),lt(d,f)||(u.prevFromRect=f,u.prevToRect=d,s||(s=o.options.animation),o.animate(u,_,d,s)),s&&(i=!0,r=Math.max(r,s),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},s),u.thisAnimationDuration=s)}),clearTimeout(e),i?e=setTimeout(function(){typeof n=="function"&&n()},r):typeof n=="function"&&n(),t=[]},animate:function(n,o,i,r){if(r){g(n,"transition",""),g(n,"transform","");var l=Te(this.el),s=l&&l.a,u=l&&l.d,f=(o.left-i.left)/(s||1),d=(o.top-i.top)/(u||1);n.animatingX=!!f,n.animatingY=!!d,g(n,"transform","translate3d("+f+"px,"+d+"px,0)"),this.forRepaintDummy=Pn(n),g(n,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),g(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){g(n,"transition",""),g(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},r)}}}}function Pn(t){return t.offsetWidth}function On(t,e,a,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-a.top,2)+Math.pow(e.left-a.left,2))*n.animation}var ye=[],st={initializeByDefault:!0},je={mount:function(e){for(var a in st)st.hasOwnProperty(a)&&!(a in e)&&(e[a]=st[a]);ye.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ye.push(e)},pluginEvent:function(e,a,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var i=e+"Global";ye.forEach(function(r){a[r.pluginName]&&(a[r.pluginName][i]&&a[r.pluginName][i](Z({sortable:a},n)),a.options[r.pluginName]&&a[r.pluginName][e]&&a[r.pluginName][e](Z({sortable:a},n)))})},initializePlugins:function(e,a,n,o){ye.forEach(function(l){var s=l.pluginName;if(!(!e.options[s]&&!l.initializeByDefault)){var u=new l(e,a,e.options);u.sortable=e,u.options=e.options,e[s]=u,te(n,u.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var r=this.modifyOption(e,i,e.options[i]);typeof r<"u"&&(e.options[i]=r)}},getEventProperties:function(e,a){var n={};return ye.forEach(function(o){typeof o.eventProperties=="function"&&te(n,o.eventProperties.call(a[o.pluginName],e))}),n},modifyOption:function(e,a,n){var o;return ye.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[a]=="function"&&(o=i.optionListeners[a].call(e[i.pluginName],n))}),o}};function Cn(t){var e=t.sortable,a=t.rootEl,n=t.name,o=t.targetEl,i=t.cloneEl,r=t.toEl,l=t.fromEl,s=t.oldIndex,u=t.newIndex,f=t.oldDraggableIndex,d=t.newDraggableIndex,m=t.originalEvent,p=t.putSortable,_=t.extraEventProperties;if(e=e||a&&a[j],!!e){var P,z=e.options,Q="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!ne&&!qe?P=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(P=document.createEvent("Event"),P.initEvent(n,!0,!0)),P.to=r||a,P.from=l||a,P.item=o||a,P.clone=i,P.oldIndex=s,P.newIndex=u,P.oldDraggableIndex=f,P.newDraggableIndex=d,P.originalEvent=m,P.pullMode=p?p.lastPutMode:void 0;var N=Z(Z({},_),je.getEventProperties(n,e));for(var L in N)P[L]=N[L];a&&a.dispatchEvent(P),z[Q]&&z[Q].call(e,P)}}var kn=["evt"],F=function(e,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.evt,i=yn(n,kn);je.pluginEvent.bind(v)(e,a,Z({dragEl:c,parentEl:k,ghostEl:b,rootEl:O,nextEl:me,lastDownEl:Ue,cloneEl:C,cloneHidden:re,dragStarted:Me,putSortable:A,activeSortable:v.active,originalEvent:o,oldIndex:Ee,oldDraggableIndex:$e,newIndex:q,newDraggableIndex:ie,hideGhostForTarget:Ut,unhideGhostForTarget:Zt,cloneNowHidden:function(){re=!0},cloneNowShown:function(){re=!1},dispatchSortableEvent:function(l){B({sortable:a,name:l,originalEvent:o})}},i))};function B(t){Cn(Z({putSortable:A,cloneEl:C,targetEl:c,rootEl:O,oldIndex:Ee,oldDraggableIndex:$e,newIndex:q,newDraggableIndex:ie},t))}var c,k,b,O,me,Ue,C,re,Ee,q,$e,ie,ze,A,we=!1,tt=!1,nt=[],he,V,ut,ct,It,At,Me,Se,Re,Xe=!1,Le=!1,Ze,M,dt=[],vt=!1,at=[],rt=typeof document<"u",Ve=Rt,Mt=qe||ne?"cssFloat":"float",xn=rt&&!Xt&&!Rt&&"draggable"in document.createElement("div"),Vt=function(){if(rt){if(ne)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Wt=function(e,a){var n=g(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=Pe(e,0,a),r=Pe(e,1,a),l=i&&g(i),s=r&&g(r),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+I(i).width,f=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+I(r).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&l.float&&l.float!=="none"){var d=l.float==="left"?"left":"right";return r&&(s.clear==="both"||s.clear===d)?"vertical":"horizontal"}return i&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=o&&n[Mt]==="none"||r&&n[Mt]==="none"&&u+f>o)?"vertical":"horizontal"},In=function(e,a,n){var o=n?e.left:e.top,i=n?e.right:e.bottom,r=n?e.width:e.height,l=n?a.left:a.top,s=n?a.right:a.bottom,u=n?a.width:a.height;return o===l||i===s||o+r/2===l+u/2},An=function(e,a){var n;return nt.some(function(o){var i=o[j].options.emptyInsertThreshold;if(!(!i||Et(o))){var r=I(o),l=e>=r.left-i&&e<=r.right+i,s=a>=r.top-i&&a<=r.bottom+i;if(l&&s)return n=o}}),n},Kt=function(e){function a(i,r){return function(l,s,u,f){var d=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(i==null&&(r||d))return!0;if(i==null||i===!1)return!1;if(r&&i==="clone")return i;if(typeof i=="function")return a(i(l,s,u,f),r)(l,s,u,f);var m=(r?l:s).options.group.name;return i===!0||typeof i=="string"&&i===m||i.join&&i.indexOf(m)>-1}}var n={},o=e.group;(!o||Ke(o)!="object")&&(o={name:o}),n.name=o.name,n.checkPull=a(o.pull,!0),n.checkPut=a(o.put),n.revertClone=o.revertClone,e.group=n},Ut=function(){!Vt&&b&&g(b,"display","none")},Zt=function(){!Vt&&b&&g(b,"display","")};rt&&!Xt&&document.addEventListener("click",function(t){if(tt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),tt=!1,!1},!0);var fe=function(e){if(c){e=e.touches?e.touches[0]:e;var a=An(e.clientX,e.clientY);if(a){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=a,n.preventDefault=void 0,n.stopPropagation=void 0,a[j]._onDragOver(n)}}},Mn=function(e){c&&c.parentNode[j]._isOutsideThisEl(e.target)};function v(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=te({},e),t[j]=this;var a={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Wt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,l){r.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:v.supportPointer!==!1&&"PointerEvent"in window&&!Ge,emptyInsertThreshold:5};je.initializePlugins(this,t,a);for(var n in a)!(n in e)&&(e[n]=a[n]);Kt(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:xn,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?D(t,"pointerdown",this._onTapStart):(D(t,"mousedown",this._onTapStart),D(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(D(t,"dragover",this),D(t,"dragenter",this)),nt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),te(this,Dn())}v.prototype={constructor:v,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Se=null)},_getDirection:function(e,a){return typeof this.options.direction=="function"?this.options.direction.call(this,e,a,c):this.options.direction},_onTapStart:function(e){if(e.cancelable){var a=this,n=this.el,o=this.options,i=o.preventOnFilter,r=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(l||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,f=o.filter;if(Yn(n),!c&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||o.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Ge&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=W(s,o.draggable,n,!1),!(s&&s.animated)&&Ue!==s)){if(Ee=H(s),$e=H(s,o.draggable),typeof f=="function"){if(f.call(this,e,s,this)){B({sortable:a,rootEl:u,name:"filter",targetEl:s,toEl:n,fromEl:n}),F("filter",a,{evt:e}),i&&e.cancelable&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(d){if(d=W(u,d.trim(),n,!1),d)return B({sortable:a,rootEl:d,name:"filter",targetEl:s,fromEl:n,toEl:n}),F("filter",a,{evt:e}),!0}),f)){i&&e.cancelable&&e.preventDefault();return}o.handle&&!W(u,o.handle,n,!1)||this._prepareDragStart(e,l,s)}}},_prepareDragStart:function(e,a,n){var o=this,i=o.el,r=o.options,l=i.ownerDocument,s;if(n&&!c&&n.parentNode===i){var u=I(n);if(O=i,c=n,k=c.parentNode,me=c.nextSibling,Ue=n,ze=r.group,v.dragged=c,he={target:c,clientX:(a||e).clientX,clientY:(a||e).clientY},It=he.clientX-u.left,At=he.clientY-u.top,this._lastX=(a||e).clientX,this._lastY=(a||e).clientY,c.style["will-change"]="all",s=function(){if(F("delayEnded",o,{evt:e}),v.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Ot&&o.nativeDraggable&&(c.draggable=!0),o._triggerDragStart(e,a),B({sortable:o,name:"choose",originalEvent:e}),Y(c,r.chosenClass,!0)},r.ignore.split(",").forEach(function(f){qt(c,f.trim(),ht)}),D(l,"dragover",fe),D(l,"mousemove",fe),D(l,"touchmove",fe),D(l,"mouseup",o._onDrop),D(l,"touchend",o._onDrop),D(l,"touchcancel",o._onDrop),Ot&&this.nativeDraggable&&(this.options.touchStartThreshold=4,c.draggable=!0),F("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||a)&&(!this.nativeDraggable||!(qe||ne))){if(v.eventCanceled){this._onDrop();return}D(l,"mouseup",o._disableDelayedDrag),D(l,"touchend",o._disableDelayedDrag),D(l,"touchcancel",o._disableDelayedDrag),D(l,"mousemove",o._delayedDragTouchMoveHandler),D(l,"touchmove",o._delayedDragTouchMoveHandler),r.supportPointer&&D(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(s,r.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var a=e.touches?e.touches[0]:e;Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){c&&ht(c),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;T(e,"mouseup",this._disableDelayedDrag),T(e,"touchend",this._disableDelayedDrag),T(e,"touchcancel",this._disableDelayedDrag),T(e,"mousemove",this._delayedDragTouchMoveHandler),T(e,"touchmove",this._delayedDragTouchMoveHandler),T(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,a){a=a||e.pointerType=="touch"&&e,!this.nativeDraggable||a?this.options.supportPointer?D(document,"pointermove",this._onTouchMove):a?D(document,"touchmove",this._onTouchMove):D(document,"mousemove",this._onTouchMove):(D(c,"dragend",this),D(O,"dragstart",this._onDragStart));try{document.selection?Qe(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,a){if(we=!1,O&&c){F("dragStarted",this,{evt:a}),this.nativeDraggable&&D(document,"dragover",Mn);var n=this.options;!e&&Y(c,n.dragClass,!1),Y(c,n.ghostClass,!0),v.active=this,e&&this._appendGhost(),B({sortable:this,name:"start",originalEvent:a})}else this._nulling()},_emulateDragOver:function(){if(V){this._lastX=V.clientX,this._lastY=V.clientY,Ut();for(var e=document.elementFromPoint(V.clientX,V.clientY),a=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(V.clientX,V.clientY),e!==a);)a=e;if(c.parentNode[j]._isOutsideThisEl(e),a)do{if(a[j]){var n=void 0;if(n=a[j]._onDragOver({clientX:V.clientX,clientY:V.clientY,target:e,rootEl:a}),n&&!this.options.dragoverBubble)break}e=a}while(a=a.parentNode);Zt()}},_onTouchMove:function(e){if(he){var a=this.options,n=a.fallbackTolerance,o=a.fallbackOffset,i=e.touches?e.touches[0]:e,r=b&&Te(b,!0),l=b&&r&&r.a,s=b&&r&&r.d,u=Ve&&M&&xt(M),f=(i.clientX-he.clientX+o.x)/(l||1)+(u?u[0]-dt[0]:0)/(l||1),d=(i.clientY-he.clientY+o.y)/(s||1)+(u?u[1]-dt[1]:0)/(s||1);if(!v.active&&!we){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(b){r?(r.e+=f-(ut||0),r.f+=d-(ct||0)):r={a:1,b:0,c:0,d:1,e:f,f:d};var m="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");g(b,"webkitTransform",m),g(b,"mozTransform",m),g(b,"msTransform",m),g(b,"transform",m),ut=f,ct=d,V=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!b){var e=this.options.fallbackOnBody?document.body:O,a=I(c,!0,Ve,!0,e),n=this.options;if(Ve){for(M=e;g(M,"position")==="static"&&g(M,"transform")==="none"&&M!==document;)M=M.parentNode;M!==document.body&&M!==document.documentElement?(M===document&&(M=U()),a.top+=M.scrollTop,a.left+=M.scrollLeft):M=U(),dt=xt(M)}b=c.cloneNode(!0),Y(b,n.ghostClass,!1),Y(b,n.fallbackClass,!0),Y(b,n.dragClass,!0),g(b,"transition",""),g(b,"transform",""),g(b,"box-sizing","border-box"),g(b,"margin",0),g(b,"top",a.top),g(b,"left",a.left),g(b,"width",a.width),g(b,"height",a.height),g(b,"opacity","0.8"),g(b,"position",Ve?"absolute":"fixed"),g(b,"zIndex","100000"),g(b,"pointerEvents","none"),v.ghost=b,e.appendChild(b),g(b,"transform-origin",It/parseInt(b.style.width)*100+"% "+At/parseInt(b.style.height)*100+"%")}},_onDragStart:function(e,a){var n=this,o=e.dataTransfer,i=n.options;if(F("dragStart",this,{evt:e}),v.eventCanceled){this._onDrop();return}F("setupClone",this),v.eventCanceled||(C=zt(c),C.removeAttribute("id"),C.draggable=!1,C.style["will-change"]="",this._hideClone(),Y(C,this.options.chosenClass,!1),v.clone=C),n.cloneId=Qe(function(){F("clone",n),!v.eventCanceled&&(n.options.removeCloneOnHide||O.insertBefore(C,c),n._hideClone(),B({sortable:n,name:"clone"}))}),!a&&Y(c,i.dragClass,!0),a?(tt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(T(document,"mouseup",n._onDrop),T(document,"touchend",n._onDrop),T(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(n,o,c)),D(document,"drop",n),g(c,"transform","translateZ(0)")),we=!0,n._dragStartId=Qe(n._dragStarted.bind(n,a,e)),D(document,"selectstart",n),Me=!0,Ge&&g(document.body,"user-select","none")},_onDragOver:function(e){var a=this.el,n=e.target,o,i,r,l=this.options,s=l.group,u=v.active,f=ze===s,d=l.sort,m=A||u,p,_=this,P=!1;if(vt)return;function z(Ie,tn){F(Ie,_,Z({evt:e,isOwner:f,axis:p?"vertical":"horizontal",revert:r,dragRect:o,targetRect:i,canSort:d,fromSortable:m,target:n,completed:N,onMove:function(Dt,nn){return We(O,a,c,o,Dt,I(Dt),e,nn)},changed:L},tn))}function Q(){z("dragOverAnimationCapture"),_.captureAnimationState(),_!==m&&m.captureAnimationState()}function N(Ie){return z("dragOverCompleted",{insertion:Ie}),Ie&&(f?u._hideClone():u._showClone(_),_!==m&&(Y(c,A?A.options.ghostClass:u.options.ghostClass,!1),Y(c,l.ghostClass,!0)),A!==_&&_!==v.active?A=_:_===v.active&&A&&(A=null),m===_&&(_._ignoreWhileAnimating=n),_.animateAll(function(){z("dragOverAnimationComplete"),_._ignoreWhileAnimating=null}),_!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(n===c&&!c.animated||n===a&&!n.animated)&&(Se=null),!l.dragoverBubble&&!e.rootEl&&n!==document&&(c.parentNode[j]._isOutsideThisEl(e.target),!Ie&&fe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),P=!0}function L(){q=H(c),ie=H(c,l.draggable),B({sortable:_,name:"change",toEl:a,newIndex:q,newDraggableIndex:ie,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=W(n,l.draggable,a,!0),z("dragOver"),v.eventCanceled)return P;if(c.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||_._ignoreWhileAnimating===n)return N(!1);if(tt=!1,u&&!l.disabled&&(f?d||(r=k!==O):A===this||(this.lastPutMode=ze.checkPull(this,u,c,e))&&s.checkPut(this,u,c,e))){if(p=this._getDirection(e,n)==="vertical",o=I(c),z("dragOverValid"),v.eventCanceled)return P;if(r)return k=O,Q(),this._hideClone(),z("revert"),v.eventCanceled||(me?O.insertBefore(c,me):O.appendChild(c)),N(!0);var R=Et(a,l.draggable);if(!R||Fn(e,p,this)&&!R.animated){if(R===c)return N(!1);if(R&&a===e.target&&(n=R),n&&(i=I(n)),We(O,a,c,o,n,i,e,!!n)!==!1)return Q(),R&&R.nextSibling?a.insertBefore(c,R.nextSibling):a.appendChild(c),k=a,L(),N(!0)}else if(R&&Gn(e,p,this)){var ue=Pe(a,0,l,!0);if(ue===c)return N(!1);if(n=ue,i=I(n),We(O,a,c,o,n,i,e,!1)!==!1)return Q(),a.insertBefore(c,ue),k=a,L(),N(!0)}else if(n.parentNode===a){i=I(n);var K=0,ce,Oe=c.parentNode!==a,X=!In(c.animated&&c.toRect||o,n.animated&&n.toRect||i,p),Ce=p?"top":"left",ae=kt(n,"top","top")||kt(c,"top","top"),ke=ae?ae.scrollTop:void 0;Se!==n&&(ce=i[Ce],Xe=!1,Le=!X&&l.invertSwap||Oe),K=$n(e,n,i,p,X?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,Le,Se===n);var J;if(K!==0){var de=H(c);do de-=K,J=k.children[de];while(J&&(g(J,"display")==="none"||J===b))}if(K===0||J===n)return N(!1);Se=n,Re=K;var xe=n.nextElementSibling,oe=!1;oe=K===1;var He=We(O,a,c,o,n,i,e,oe);if(He!==!1)return(He===1||He===-1)&&(oe=He===1),vt=!0,setTimeout(Bn,30),Q(),oe&&!xe?a.appendChild(c):n.parentNode.insertBefore(c,oe?xe:n),ae&&Ht(ae,0,ke-ae.scrollTop),k=c.parentNode,ce!==void 0&&!Le&&(Ze=Math.abs(ce-I(n)[Ce])),L(),N(!0)}if(a.contains(c))return N(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){T(document,"mousemove",this._onTouchMove),T(document,"touchmove",this._onTouchMove),T(document,"pointermove",this._onTouchMove),T(document,"dragover",fe),T(document,"mousemove",fe),T(document,"touchmove",fe)},_offUpEvents:function(){var e=this.el.ownerDocument;T(e,"mouseup",this._onDrop),T(e,"touchend",this._onDrop),T(e,"pointerup",this._onDrop),T(e,"touchcancel",this._onDrop),T(document,"selectstart",this)},_onDrop:function(e){var a=this.el,n=this.options;if(q=H(c),ie=H(c,n.draggable),F("drop",this,{evt:e}),k=c&&c.parentNode,q=H(c),ie=H(c,n.draggable),v.eventCanceled){this._nulling();return}we=!1,Le=!1,Xe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),bt(this.cloneId),bt(this._dragStartId),this.nativeDraggable&&(T(document,"drop",this),T(a,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ge&&g(document.body,"user-select",""),g(c,"transform",""),e&&(Me&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),b&&b.parentNode&&b.parentNode.removeChild(b),(O===k||A&&A.lastPutMode!=="clone")&&C&&C.parentNode&&C.parentNode.removeChild(C),c&&(this.nativeDraggable&&T(c,"dragend",this),ht(c),c.style["will-change"]="",Me&&!we&&Y(c,A?A.options.ghostClass:this.options.ghostClass,!1),Y(c,this.options.chosenClass,!1),B({sortable:this,name:"unchoose",toEl:k,newIndex:null,newDraggableIndex:null,originalEvent:e}),O!==k?(q>=0&&(B({rootEl:k,name:"add",toEl:k,fromEl:O,originalEvent:e}),B({sortable:this,name:"remove",toEl:k,originalEvent:e}),B({rootEl:k,name:"sort",toEl:k,fromEl:O,originalEvent:e}),B({sortable:this,name:"sort",toEl:k,originalEvent:e})),A&&A.save()):q!==Ee&&q>=0&&(B({sortable:this,name:"update",toEl:k,originalEvent:e}),B({sortable:this,name:"sort",toEl:k,originalEvent:e})),v.active&&((q==null||q===-1)&&(q=Ee,ie=$e),B({sortable:this,name:"end",toEl:k,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){F("nulling",this),O=c=k=b=me=C=Ue=re=he=V=Me=q=ie=Ee=$e=Se=Re=A=ze=v.dragged=v.ghost=v.clone=v.active=null,at.forEach(function(e){e.checked=!0}),at.length=ut=ct=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":c&&(this._onDragOver(e),Nn(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],a,n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)a=n[o],W(a,r.draggable,this.el,!1)&&e.push(a.getAttribute(r.dataIdAttr)||Xn(a));return e},sort:function(e,a){var n={},o=this.el;this.toArray().forEach(function(i,r){var l=o.children[r];W(l,this.options.draggable,o,!1)&&(n[i]=l)},this),a&&this.captureAnimationState(),e.forEach(function(i){n[i]&&(o.removeChild(n[i]),o.appendChild(n[i]))}),a&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,a){return W(e,a||this.options.draggable,this.el,!1)},option:function(e,a){var n=this.options;if(a===void 0)return n[e];var o=je.modifyOption(this,e,a);typeof o<"u"?n[e]=o:n[e]=a,e==="group"&&Kt(n)},destroy:function(){F("destroy",this);var e=this.el;e[j]=null,T(e,"mousedown",this._onTapStart),T(e,"touchstart",this._onTapStart),T(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(T(e,"dragover",this),T(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),nt.splice(nt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!re){if(F("hideClone",this),v.eventCanceled)return;g(C,"display","none"),this.options.removeCloneOnHide&&C.parentNode&&C.parentNode.removeChild(C),re=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(re){if(F("showClone",this),v.eventCanceled)return;c.parentNode==O&&!this.options.group.revertClone?O.insertBefore(C,c):me?O.insertBefore(C,me):O.appendChild(C),this.options.group.revertClone&&this.animate(c,C),g(C,"display",""),re=!1}}};function Nn(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function We(t,e,a,n,o,i,r,l){var s,u=t[j],f=u.options.onMove,d;return window.CustomEvent&&!ne&&!qe?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=t,s.dragged=a,s.draggedRect=n,s.related=o||e,s.relatedRect=i||I(e),s.willInsertAfter=l,s.originalEvent=r,t.dispatchEvent(s),f&&(d=f.call(u,s,r)),d}function ht(t){t.draggable=!1}function Bn(){vt=!1}function Gn(t,e,a){var n=I(Pe(a.el,0,a.options,!0)),o=Lt(a.el,a.options,b),i=10;return e?t.clientX<o.left-i||t.clientY<n.top&&t.clientX<n.right:t.clientY<o.top-i||t.clientY<n.bottom&&t.clientX<n.left}function Fn(t,e,a){var n=I(Et(a.el,a.options.draggable)),o=Lt(a.el,a.options,b),i=10;return e?t.clientX>o.right+i||t.clientY>n.bottom&&t.clientX>n.left:t.clientY>o.bottom+i||t.clientX>n.right&&t.clientY>n.top}function $n(t,e,a,n,o,i,r,l){var s=n?t.clientY:t.clientX,u=n?a.height:a.width,f=n?a.top:a.left,d=n?a.bottom:a.right,m=!1;if(!r){if(l&&Ze<u*o){if(!Xe&&(Re===1?s>f+u*i/2:s<d-u*i/2)&&(Xe=!0),Xe)m=!0;else if(Re===1?s<f+Ze:s>d-Ze)return-Re}else if(s>f+u*(1-o)/2&&s<d-u*(1-o)/2)return Rn(e)}return m=m||r,m&&(s<f+u*i/2||s>d-u*i/2)?s>f+u/2?1:-1:0}function Rn(t){return H(c)<H(t)?1:-1}function Xn(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,a=e.length,n=0;a--;)n+=e.charCodeAt(a);return n.toString(36)}function Yn(t){at.length=0;for(var e=t.getElementsByTagName("input"),a=e.length;a--;){var n=e[a];n.checked&&at.push(n)}}function Qe(t){return setTimeout(t,0)}function bt(t){return clearTimeout(t)}rt&&D(document,"touchmove",function(t){(v.active||we)&&t.cancelable&&t.preventDefault()});v.utils={on:D,off:T,css:g,find:qt,is:function(e,a){return!!W(e,a,e,!1)},extend:_n,throttle:jt,closest:W,toggleClass:Y,clone:zt,index:H,nextTick:Qe,cancelNextTick:bt,detectDirection:Wt,getChild:Pe};v.get=function(t){return t[j]};v.mount=function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(v.utils=Z(Z({},v.utils),n.utils)),je.mount(n)})};v.create=function(t,e){return new v(t,e)};v.version=Sn;var x=[],Ne,yt,St=!1,ft,mt,ot,Be;function qn(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(a){var n=a.originalEvent;this.sortable.nativeDraggable?D(document,"dragover",this._handleAutoScroll):this.options.supportPointer?D(document,"pointermove",this._handleFallbackAutoScroll):n.touches?D(document,"touchmove",this._handleFallbackAutoScroll):D(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(a){var n=a.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?T(document,"dragover",this._handleAutoScroll):(T(document,"pointermove",this._handleFallbackAutoScroll),T(document,"touchmove",this._handleFallbackAutoScroll),T(document,"mousemove",this._handleFallbackAutoScroll)),Nt(),Je(),Tn()},nulling:function(){ot=yt=Ne=St=Be=ft=mt=null,x.length=0},_handleFallbackAutoScroll:function(a){this._handleAutoScroll(a,!0)},_handleAutoScroll:function(a,n){var o=this,i=(a.touches?a.touches[0]:a).clientX,r=(a.touches?a.touches[0]:a).clientY,l=document.elementFromPoint(i,r);if(ot=a,n||this.options.forceAutoScrollFallback||qe||ne||Ge){pt(a,this.options,l,n);var s=le(l,!0);St&&(!Be||i!==ft||r!==mt)&&(Be&&Nt(),Be=setInterval(function(){var u=le(document.elementFromPoint(i,r),!0);u!==s&&(s=u,Je()),pt(a,o.options,u,n)},10),ft=i,mt=r)}else{if(!this.options.bubbleScroll||le(l,!0)===U()){Je();return}pt(a,this.options,le(l,!1),!1)}}},te(t,{pluginName:"scroll",initializeByDefault:!0})}function Je(){x.forEach(function(t){clearInterval(t.pid)}),x=[]}function Nt(){clearInterval(Be)}var pt=jt(function(t,e,a,n){if(e.scroll){var o=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,r=e.scrollSensitivity,l=e.scrollSpeed,s=U(),u=!1,f;yt!==a&&(yt=a,Je(),Ne=e.scroll,f=e.scrollFn,Ne===!0&&(Ne=le(a,!0)));var d=0,m=Ne;do{var p=m,_=I(p),P=_.top,z=_.bottom,Q=_.left,N=_.right,L=_.width,R=_.height,ue=void 0,K=void 0,ce=p.scrollWidth,Oe=p.scrollHeight,X=g(p),Ce=p.scrollLeft,ae=p.scrollTop;p===s?(ue=L<ce&&(X.overflowX==="auto"||X.overflowX==="scroll"||X.overflowX==="visible"),K=R<Oe&&(X.overflowY==="auto"||X.overflowY==="scroll"||X.overflowY==="visible")):(ue=L<ce&&(X.overflowX==="auto"||X.overflowX==="scroll"),K=R<Oe&&(X.overflowY==="auto"||X.overflowY==="scroll"));var ke=ue&&(Math.abs(N-o)<=r&&Ce+L<ce)-(Math.abs(Q-o)<=r&&!!Ce),J=K&&(Math.abs(z-i)<=r&&ae+R<Oe)-(Math.abs(P-i)<=r&&!!ae);if(!x[d])for(var de=0;de<=d;de++)x[de]||(x[de]={});(x[d].vx!=ke||x[d].vy!=J||x[d].el!==p)&&(x[d].el=p,x[d].vx=ke,x[d].vy=J,clearInterval(x[d].pid),(ke!=0||J!=0)&&(u=!0,x[d].pid=setInterval((function(){n&&this.layer===0&&v.active._onTouchMove(ot);var xe=x[this.layer].vy?x[this.layer].vy*l:0,oe=x[this.layer].vx?x[this.layer].vx*l:0;typeof f=="function"&&f.call(v.dragged.parentNode[j],oe,xe,t,ot,x[this.layer].el)!=="continue"||Ht(x[this.layer].el,oe,xe)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&m!==s&&(m=le(m,!1)));St=u}},30),Qt=function(e){var a=e.originalEvent,n=e.putSortable,o=e.dragEl,i=e.activeSortable,r=e.dispatchSortableEvent,l=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(a){var u=n||i;l();var f=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,d=document.elementFromPoint(f.clientX,f.clientY);s(),u&&!u.el.contains(d)&&(r("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function _t(){}_t.prototype={startIndex:null,dragStart:function(e){var a=e.oldDraggableIndex;this.startIndex=a},onSpill:function(e){var a=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=Pe(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(a,o):this.sortable.el.appendChild(a),this.sortable.animateAll(),n&&n.animateAll()},drop:Qt};te(_t,{pluginName:"revertOnSpill"});function Tt(){}Tt.prototype={onSpill:function(e){var a=e.dragEl,n=e.putSortable,o=n||this.sortable;o.captureAnimationState(),a.parentNode&&a.parentNode.removeChild(a),o.animateAll()},drop:Qt};te(Tt,{pluginName:"removeOnSpill"});v.mount(new qn);v.mount(Tt,_t);const jn={class:"rt-modal-container"},Hn={key:0,class:"rt-modal-main"},zn={class:"rt-modal-team"},Ln={class:"rt-modal-result"},Vn={class:"rt-modal-result"},Wn={class:"rt-modal-team"},Kn={key:1,class:"rt-modal-main"},Un={class:"rt-modal-team"},Zn={class:"rt-modal-team"},Qn={key:2,class:"rt-modal-players"},Jn={style:{display:"flex","margin-bottom":"10px"}},ea={class:"rt-modal-player",style:{"text-align":"right"}},ta={style:{display:"flex"}},na={class:"rt-modal-player",style:{"text-align":"right"}},aa={style:{display:"flex","margin-bottom":"10px"}},oa={class:"rt-modal-player"},ia={style:{display:"flex"}},ra={class:"rt-modal-player"},la=pe({__name:"ModalSetGameResult",props:{getTournament:{type:Function,required:!0},tournament:{type:Object,required:!0},isGroupPhase:{type:Boolean,required:!0},toggleModal:{type:Function,required:!0},match:{type:Object,required:!0}},setup(t){const e=t,a=async()=>{let d={team1Score:(i.value?i.value:0)+(r.value?r.value:0),team1Player1Score:i.value,team1Player2Score:r.value,team2Score:(s.value?s.value:0)+(u.value?u.value:0),team2Player1Score:s.value,team2Player2Score:u.value};e.tournament.settings.trackPlayerShots||(d={team1Score:o.value,team2Score:l.value}),await an(e.tournament,e.match._id,d),await e.getTournament(),e.toggleModal()},n=async()=>{let d={team1Score:(i.value?i.value:0)+(r.value?r.value:0),team1Player1Score:i.value,team1Player2Score:r.value,team2Score:(s.value?s.value:0)+(u.value?u.value:0),team2Player1Score:s.value,team2Player2Score:u.value};e.tournament.settings.trackPlayerShots||(d={team1Score:o.value,team2Score:l.value}),await on(e.tournament,e.match._id,d),await e.getTournament(),e.toggleModal()};let o=G(),i=G(),r=G(),l=G(),s=G(),u=G();wt(()=>{e.match.result&&(o.value=e.match.result.team1Score,i.value=e.match.result.team1Player1Score,r.value=e.match.result.team1Player2Score,l.value=e.match.result.team2Score,s.value=e.match.result.team2Player1Score,u.value=e.match.result.team2Player2Score)});const f=()=>{o=G(),i=G(),r=G(),l=G(),s=G(),u=G()};return(d,m)=>(S(),Ye(gn,null,{title:Ae(()=>[cn("Ergebnis eintragen")]),template:Ae(()=>[h("div",jn,[t.tournament.settings.trackPlayerShots?(S(),E("div",Hn,[h("div",zn,w(t.match.team1.name),1),h("div",Ln,w((y(i)?y(i):0)+(y(r)?y(r):0)),1),h("div",Vn,w((y(s)?y(s):0)+(y(u)?y(u):0)),1),h("div",Wn,w(t.match.team2.name),1)])):(S(),E("div",Kn,[h("div",Un,w(t.match.team1.name),1),ge(h("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":m[0]||(m[0]=p=>ve(o)?o.value=p:o=p),placeholder:"0"},null,512),[[be,y(o)]]),ge(h("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":m[1]||(m[1]=p=>ve(l)?l.value=p:l=p),placeholder:"0"},null,512),[[be,y(l)]]),h("div",Zn,w(t.match.team2.name),1)])),t.tournament.settings.trackPlayerShots?(S(),E("div",Qn,[h("div",null,[h("div",Jn,[h("div",ea,w(t.match.team1.players[0]),1),ge(h("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":m[2]||(m[2]=p=>ve(i)?i.value=p:i=p),placeholder:"0"},null,512),[[be,y(i)]])]),h("div",ta,[h("div",na,w(t.match.team1.players[1]),1),ge(h("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":m[3]||(m[3]=p=>ve(r)?r.value=p:r=p),placeholder:"0"},null,512),[[be,y(r)]])])]),h("div",null,[h("div",aa,[ge(h("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":m[4]||(m[4]=p=>ve(s)?s.value=p:s=p),placeholder:"0"},null,512),[[be,y(s)]]),h("div",oa,w(t.match.team2.players[0]),1)]),h("div",ia,[ge(h("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":m[5]||(m[5]=p=>ve(u)?u.value=p:u=p),placeholder:"0"},null,512),[[be,y(u)]]),h("div",ra,w(t.match.team2.players[1]),1)])])])):$("",!0)])]),cancle:Ae(()=>[h("div",{onClick:m[6]||(m[6]=p=>{f(),t.toggleModal()})},"Abbrechen")]),confirm:Ae(()=>[h("div",{onClick:m[7]||(m[7]=p=>{t.isGroupPhase?a():n()})},w(t.match.result?"Bearbeiten":"Eintragen"),1)]),_:1}))}}),sa=it(la,[["__scopeId","data-v-d77e64f2"]]),ua={class:"mt-team"},ca={class:"mt-team-name"},da={key:0,class:"mt-team-score"},ha={key:0},fa={class:"mt-team-player"},ma={class:"mt-team-player-name"},pa={class:"mt-team-player-score"},ga={class:"mt-team-player"},va={class:"mt-team-player-name"},ba={class:"mt-team-player-score"},ya=pe({__name:"MatchElementTeam",props:{match:{type:Object,required:!0},playersVisible:{type:Boolean,required:!0},isTeam2:{type:Boolean,required:!0}},setup(t){const e=t;let a=e.isTeam2?e.match.team2:e.match.team1,n,o,i;return e.match.result&&(n=e.match.result.team1Score,o=e.match.result.team1Player1Score,i=e.match.result.team1Player2Score,e.isTeam2&&(n=e.match.result.team2Score,o=e.match.result.team2Player1Score,i=e.match.result.team2Player2Score)),(r,l)=>(S(),E("div",{class:Gt(["MatchElementTeam",{"mt-team-loose":t.match.result&&(t.isTeam2?t.match.result.team1Score>t.match.result.team2Score:t.match.result.team2Score>t.match.result.team1Score),"mt-team-second":t.isTeam2}])},[h("div",ua,[h("div",ca,w(y(a)?y(a).name:(t.isTeam2,"TBD")),1),y(n)!=null?(S(),E("div",da,w(y(n)),1)):$("",!0)]),y(a)&&t.playersVisible?(S(),E("div",ha,[h("div",fa,[h("div",ma,w(y(a).players[0]),1),h("div",pa,w(y(o)),1)]),h("div",ga,[h("div",va,w(y(a).players[1]),1),h("div",ba,w(y(i)),1)])])):$("",!0)],2))}}),Bt=it(ya,[["__scopeId","data-v-2b02bc27"]]),Jt=t=>(fn("data-v-e155eca7"),t=t(),mn(),t),Sa={class:"Match",ref:"matchHTMLElement"},wa={key:0,class:"mt-handle"},Ea=Jt(()=>h("div",{style:{"margin-bottom":"5px"}},null,-1)),_a=Jt(()=>h("div",null,null,-1)),Ta=[Ea,_a],Da={key:1,class:"mt-index"},Pa={key:2,class:"mt-vs"},Oa=pe({__name:"MatchElement",props:{getTournament:{type:Function,required:!0},tournament:{type:Object,required:!0},match:{type:Object,required:!0},isGroupPhase:{type:Boolean,required:!0},isBackend:{type:Boolean,required:!0},matchIndex:{type:Number}},setup(t){let e=G(!1);const a=()=>{e.value=!e.value};let n=G(!1),o=()=>{n.value=!n.value};return(i,r)=>(S(),E("div",Sa,[(S(),Ye(hn,{to:"body"},[_e(dn,{name:"fade"},{default:Ae(()=>[y(e)?(S(),Ye(sa,{key:0,tournament:t.tournament,getTournament:t.getTournament,toggleModal:a,match:t.match,isGroupPhase:t.isGroupPhase},null,8,["tournament","getTournament","match","isGroupPhase"])):$("",!0)]),_:1})])),t.isBackend&&t.isGroupPhase?(S(),E("div",wa,Ta)):$("",!0),t.matchIndex!=null?(S(),E("div",Da,[h("div",null,w(t.matchIndex+1+"."),1)])):$("",!0),h("div",{class:"mt-teams",onClick:r[0]||(r[0]=l=>y(o)())},[_e(Bt,{match:t.match,isTeam2:!1,playersVisible:y(n)},null,8,["match","playersVisible"]),_e(Bt,{match:t.match,isTeam2:!0,playersVisible:y(n)},null,8,["match","playersVisible"])]),!t.match.result&&!t.isBackend||!t.match.team1||!t.match.team2?(S(),E("div",Pa,"vs.")):$("",!0),t.isBackend&&t.match.team1&&t.match.team2?(S(),E("div",{key:3,class:"bp-button mt-button",onClick:r[1]||(r[1]=l=>a())},w(t.match.result?"Bearbeiten":"Eintragen"),1)):$("",!0)],512))}}),en=it(Oa,[["__scopeId","data-v-e155eca7"]]),Ca={class:"GameStandingsGroups"},ka={class:"table table-hover caption-top"},xa=h("th",null,"Teamname",-1),Ia=h("th",null,"Spieler",-1),Aa={key:0},Ma={key:1},Na={key:0},Ba={key:1},Ga=pe({__name:"StandingsGroups",props:{tournament:{type:Object,required:!0},group:{type:Object,required:!0}},setup(t){let e=G(window.screen.width);return window.addEventListener("resize",()=>{e.value=window.screen.width}),(a,n)=>(S(),E("div",Ca,[h("table",ka,[h("thead",null,[h("tr",null,[h("th",null,w(y(e)>900?"Platz":"Pl."),1),xa,Ia,h("th",null,w(y(e)>900?"Siege":"Sieg."),1),h("th",null,w(y(e)>900?"Spiele":"Spie."),1),t.tournament.settings.trackTeamShots?(S(),E("th",Aa,w(y(e)>900?"Trefferverhältnis":"Trfv."),1)):$("",!0),t.tournament.settings.trackTeamShots&&y(e)>360?(S(),E("th",Ma,w(y(e)>900?"Trefferdifferenz":"Trfd."),1)):$("",!0)])]),h("tbody",null,[(S(!0),E(se,null,De(t.group.teams,(o,i)=>(S(),E("tr",{key:o.name},[h("td",null,w(i+1),1),h("td",null,w(o.name),1),h("td",null,[(S(!0),E(se,null,De(o.players,r=>(S(),E("span",{key:r},w(y(e)>900?r:r.split(" ")[0]),1))),128))]),h("td",null,w(o.wins),1),h("td",null,w(o.games),1),t.tournament.settings.trackTeamShots?(S(),E("td",Na,w(o.score),1)):$("",!0),t.tournament.settings.trackTeamShots&&y(e)>360?(S(),E("td",Ba,w(o.scoreDifference),1)):$("",!0)]))),128))])])]))}}),Fa=h("div",{class:"swiper-pagination",id:"GameScheduleGroupsSwiper-Pagination"},null,-1),$a={class:"GameScheduleGroups swiper-container",id:"GameScheduleGroupsSwiper"},Ra={class:"swiper-wrapper"},Xa=["id"],Ya={class:"rt-caption"},qa=h("div",{class:"rt-caption"},"Spiele",-1),ja={class:"rt-matches"},Ha=pe({__name:"ScheduleGroups",props:{getTournament:{type:Function,required:!0},tournament:{type:Object,required:!0},isBackend:{type:Boolean,required:!0}},setup(t){const e=t,a=async o=>{let r=o.target.parentElement.getElementsByClassName("rt-caption")[0].innerText.split(" ")[1].toLowerCase().charCodeAt(0)-97,l=e.tournament.groupPhase.matches,s=l[r],u=s.splice(o.oldIndex,1);s.splice(o.newIndex,0,u[0]),await sn(e.tournament._id,l)&&(await e.getTournament(),n())},n=()=>{setTimeout(()=>{let o=e.tournament.settings.fixedGroupAmmount;for(let i=0;i<o;i++){let r=document.getElementById("Match-Table-"+i).getElementsByClassName("rt-matches")[0];new v(r,{animation:100,group:"_"+i,onEnd:a,filter:".Modal",preventOnFilter:!1,handle:".mt-handle"})}},0)};return pn(()=>e.tournament,()=>{e.tournament.groupPhase.groups&&e.isBackend&&n()}),wt(()=>{e.tournament&&e.tournament.groupPhase.groups&&e.isBackend&&n(),new Ft("#GameScheduleGroupsSwiper",{modules:[$t],initialSlide:0,allowTouchMove:!e.isBackend,spaceBetween:50,speed:500,pagination:{el:"#GameScheduleGroupsSwiper-Pagination",clickable:!0,renderBullet:(o,i)=>'<span class="'+i+'">'+gt(o+1)+"</span>"}})}),(o,i)=>(S(),E(se,null,[Fa,h("div",$a,[h("div",Ra,[(S(!0),E(se,null,De(y(ln)(t.tournament),(r,l)=>(S(),E("div",{class:"rt-table swiper-slide",key:l,id:"Match-Table-"+l},[h("div",Ya,w("Gruppe "+y(gt)(l+1)),1),_e(Ga,{tournament:t.tournament,group:r},null,8,["tournament","group"]),qa,h("div",ja,[(S(!0),E(se,null,De(y(rn)(t.tournament)[l],(s,u)=>(S(),Ye(en,{key:s._id,match:s,matchIndex:u,getTournament:t.getTournament,tournament:t.tournament,isGroupPhase:!0,isBackend:t.isBackend},null,8,["match","matchIndex","getTournament","tournament","isBackend"]))),128))])],8,Xa))),128))])])],64))}}),za=h("div",{class:"swiper-pagination",id:"GameScheduleKOSwiper-Pagination"},null,-1),La={class:"GameScheduleKO swiper-container",id:"GameScheduleKOSwiper"},Va={class:"swiper-wrapper"},Wa={key:0,class:"gsk-match-name"},Ka={key:1,class:"gsk-match-table"},Ua=pe({__name:"ScheduleKO",props:{getTournament:{type:Function,required:!0},tournament:{type:Object,required:!0},isBackend:{type:Boolean,required:!0}},setup(t){const e=t,a=n=>{let o=e.tournament.koPhase.matches.length-1;if(o-n==3)return"Achtelfinale";if(o-n==2)return"Viertelfinale";if(o-n==1)return"Halbfinale";if(o-n==0)return"Finale"};return wt(()=>{new Ft("#GameScheduleKOSwiper",{modules:[$t],initialSlide:0,spaceBetween:50,speed:500,pagination:{el:"#GameScheduleKOSwiper-Pagination",clickable:!0,renderBullet:(n,o)=>'<span class="'+o+'">'+a(n)+"</span>"}})}),(n,o)=>(S(),E(se,null,[za,h("div",La,[h("div",Va,[(S(!0),E(se,null,De(y(un)(t.tournament),(i,r)=>(S(),E("div",{key:r,class:"gsk-stages swiper-slide"},[h("div",{class:Gt(["gsk-stage",{"gsk-stage1":r==0,"gsk-finale":r==t.tournament.koPhase.matches.length-1}])},[(S(!0),E(se,null,De(i,(l,s)=>(S(),E("div",{class:"gsk-match",key:s},[r==t.tournament.koPhase.matches.length-1?(S(),E("div",Wa,w(s==0?"Finale":"Spiel um Platz 3"),1)):$("",!0),r!=t.tournament.koPhase.matches.length-1?(S(),E("div",Ka,w("Tisch "+y(gt)(s+1)),1)):$("",!0),(S(),Ye(en,{match:l,key:l._id,getTournament:t.getTournament,tournament:t.tournament,isGroupPhase:!1,isBackend:t.isBackend},null,8,["match","getTournament","tournament","isBackend"]))]))),128))],2)]))),128))])])],64))}}),Za={class:"Schedule"},Qa={key:0,style:{"text-align":"center","font-size":"18px",color:"var(--main-color)"}},Ja={key:1},eo={class:"nav nav-tabs justify-content-center"},to={class:"nav-item"},no=["data-bs-target"],ao={class:"nav-item"},oo=["data-bs-target"],io={class:"tab-content"},ro=["id"],lo=["id"],so=pe({__name:"Schedule",props:{getTournament:{type:Function,required:!0},tournament:{type:Object,required:!0},isBackend:{type:Boolean,required:!0}},setup(t){return(e,a)=>(S(),E("div",Za,[t.tournament.groupPhase.groups.length==0?(S(),E("div",Qa," Der Spielplan ist noch nicht verfügbar ")):(S(),E("div",Ja,[h("ul",eo,[h("li",to,[h("button",{class:"nav-link active","data-bs-toggle":"tab","data-bs-target":"#GameScheduleGroups"+t.tournament._id},"Gruppenphase",8,no)]),h("li",ao,[h("button",{class:"nav-link","data-bs-toggle":"tab","data-bs-target":"#GameScheduleKO"+t.tournament._id},"K.o.Phase",8,oo)])]),h("div",io,[h("div",{class:"tab-pane fade show active",id:"GameScheduleGroups"+t.tournament._id},[_e(Ha,{getTournament:t.getTournament,tournament:t.tournament,isBackend:t.isBackend},null,8,["getTournament","tournament","isBackend"])],8,ro),h("div",{class:"tab-pane fade",id:"GameScheduleKO"+t.tournament._id},[_e(Ua,{getTournament:t.getTournament,tournament:t.tournament,isBackend:t.isBackend},null,8,["getTournament","tournament","isBackend"])],8,lo)])]))]))}}),po=it(so,[["__scopeId","data-v-622c4ff1"]]);export{po as S,v as a};
