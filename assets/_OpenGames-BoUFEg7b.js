import{d as x,r as f,j as N,k as M,w as $,b as e,c as d,F as S,l as G,h as A,o as l,u as c,n as L,m as T,p as D,g as P,_ as B,q,t as r,a as C,s as O,v as z,x as I,i as W,e as y,T as F,y as j}from"./index-BCStTFdT.js";import{g as H,a as U,b as E,c as V}from"./OpenGamesUtilFunctions-CeWZvto3.js";import{M as R}from"./Modal-CX_xLx9D.js";import{L as J}from"./Loadingscreen-Bq6MQJCV.js";import{S as K,P as Q}from"./pagination-BggEmHhs.js";import{M as X}from"./MatchElement-DVlFMFYD.js";import"./tournamentMatchFunctions-ttmkJZAU.js";const Y=v=>(D("data-v-7c010029"),v=v(),P(),v),Z={class:"rt-modal"},ee=["id"],te={class:"rt-modal-team"},ae={id:"openGameNames"},se=["value"],ne=Y(()=>e("input",{class:"rt-modal-input-number",type:"number",placeholder:"0"},null,-1)),le={class:"rt-modal-buttons"},ie=["onClick"],oe=x({__name:"ModalAddOpenGame",props:{toggleModalAddGame:{type:Function,required:!0},getOpenGames:{type:Function,required:!0}},setup(v){let g=f(1),s=f(1),u=f([]);N(async()=>{u.value=await H()});const _=v,b=async()=>{let p={_id:"placeholder",team1:{_id:"placeholder",players:[]},team2:{_id:"placeholder",players:[]},time:new Date().getTime()};for(let a=1;a<3;a++){let o=document.getElementById("addOpenGameModal-team-"+a).getElementsByClassName("rt-modal-team");for(let t=0;t<o.length;t++){let i=o[t].getElementsByClassName("rt-modal-input-player")[0].value.trim(),k=parseFloat(o[t].getElementsByClassName("rt-modal-input-number")[0].value.trim()),n={_id:"placeholder",name:i,score:k};a==1?p.team1.players.push(n):p.team2.players.push(n)}}await U(p)&&(await _.getOpenGames(),_.toggleModalAddGame())};return(p,m)=>(l(),M(R,null,{title:$(()=>[A("Ergebnis eintragen")]),template:$(()=>[e("div",Z,[(l(),d(S,null,G(2,a=>e("div",{id:"addOpenGameModal-team-"+a,class:"rt-modal-container"},[(l(!0),d(S,null,G(a==1?c(g):c(s),h=>(l(),d("div",te,[e("input",{list:"openGameNames",class:"rt-modal-input-player",type:"string",placeholder:"Spielername",style:L({textAlign:a==1?"right":"left",order:a==1?1:3})},null,4),e("datalist",ae,[(l(!0),d(S,null,G(c(u),o=>(l(),d("option",{value:o},null,8,se))),256))]),ne]))),256)),e("div",le,[e("div",{onClick:h=>a==1?T(g)?g.value++:g++:T(s)?s.value++:s++},"+",8,ie)])],8,ee)),64))])]),cancle:$(()=>[e("div",{onClick:m[0]||(m[0]=a=>{v.toggleModalAddGame()})},"Abbrechen")]),confirm:$(()=>[e("div",{onClick:m[1]||(m[1]=a=>b())},"Eintragen")]),_:1}))}}),re=B(oe,[["__scopeId","data-v-7c010029"]]),de=e("div",{style:{padding:"15px 0px","text-align":"center",color:"var(--main-color)","font-weight":"bold","font-size":"14px"}}," Damit ein Spieler in den Statistiken erscheint, muss er gegen mindestens 4 verschiedene Teams gespielt haben ",-1),ce={style:{padding:"15px 0px","text-align":"center",color:"var(--main-color)","font-weight":"bold","font-size":"14px"}},me=e("div",{class:"swiper-pagination",id:"OpenGamesStatisticsSwiper-Pagination"},null,-1),ue={class:"OpenGamesStatistics swiper-container",id:"OpenGamesStatisticsSwiper"},pe={class:"swiper-wrapper"},ve={class:"table table-hover caption-top"},ge={style:{height:"auto"}},_e={key:0,class:"ogs-explain"},he=e("div",null,"*Pl. = Platz",-1),fe=e("div",null,"*Spi. = Spiele",-1),we=e("div",null,"*Sieg. = Siege",-1),Se=e("div",null,"*Trfq. = Trefferquote",-1),Ge=e("div",null,"*Siegwahr. = Siegwahrscheinlichkeit",-1),be=[he,fe,we,Se,Ge],Oe=x({__name:"OpenGamesStatistics",props:{openGames:{type:Object,required:!0}},setup(v){const g=v;let s=f("averageWins"),u=f(!1),_=f(window.screen.width);window.addEventListener("resize",()=>{_.value=window.screen.width});const b=q(()=>{let o=E(g.openGames,!0),t=E(g.openGames,!1),i=[o,t];return i.forEach(k=>{k.sort((n,w)=>s.value=="name"?u.value?n[s.value].localeCompare(w[s.value]):w[s.value].localeCompare(n[s.value]):w[s.value]==n[s.value]?u.value?w.placement-n.placement:n.placement-w.placement:u.value?n[s.value]-w[s.value]:w[s.value]-n[s.value])}),i}),p=o=>{s.value==o?u.value=!u.value:u.value=!1,s.value=o},m=o=>{if(o==s.value)return u.value?"ogs-arrow ogs-arrow-up":"ogs-arrow ogs-arrow-down"},a=f([]);N(async()=>{new K("#OpenGamesStatisticsSwiper",{modules:[Q],initialSlide:0,spaceBetween:50,speed:500,pagination:{el:"#OpenGamesStatisticsSwiper-Pagination",clickable:!0,renderBullet:(t,i)=>'<span class="'+i+'">'+(t==0?"1 vs. 1":"2 vs. 2")+"</span>"}}),(await V()).forEach(t=>{t.team1.players.forEach(i=>{i.score==0&&a.value.push({...i,time:t.time})}),t.team2.players.forEach(i=>{i.score==0&&a.value.push({...i,time:t.time})})})});let h=o=>{let t=new Date(o),i=t.getHours()+":"+(t.getMinutes()<10?"0":"")+t.getMinutes();return t.toLocaleDateString("de-DE")+"  -  "+i+" Uhr"};return(o,t)=>(l(),d(S,null,[de,e("div",ce,[A(r("Nackte Meile Tracker:")+" "),(l(!0),d(S,null,G(a.value,i=>(l(),d("div",null,r(i.name)+" - "+r(c(h)(i.time)),1))),256))]),me,e("div",ue,[e("div",pe,[(l(!0),d(S,null,G(b.value,(i,k)=>(l(),d("div",{class:"rt-table swiper-slide",key:k},[e("table",ve,[e("thead",null,[e("tr",ge,[e("th",{onClick:t[0]||(t[0]=n=>p("placement")),class:O(m("placement"))},r(c(_)>900?"Platz":"Pl."),3),e("th",{onClick:t[1]||(t[1]=n=>p("name")),class:O(m("name"))},r("Name"),2),e("th",{onClick:t[2]||(t[2]=n=>p("wins")),class:O(m("wins"))},r(c(_)>900?"Siege":"Sieg."),3),e("th",{onClick:t[3]||(t[3]=n=>p("ammountOfMatches")),class:O(m("ammountOfMatches"))},r(c(_)>900?"Spiele":"Spi."),3),e("th",{onClick:t[4]||(t[4]=n=>p("averageScore")),class:O(m("averageScore"))},r(c(_)>900?"Trefferquote":"Trfq."),3),e("th",{onClick:t[5]||(t[5]=n=>p("averageWins")),class:O(m("averageWins"))},r(c(_)>900?"Siegwahrscheinlichkeit":"Siegwahr."),3)])]),e("tbody",null,[(l(!0),d(S,null,G(i,(n,w)=>(l(),d("tr",{key:w},[e("td",null,r(n.placement+1),1),e("td",null,r(n.name.replace(" ",`
`)),1),e("td",null,r(n.wins),1),e("td",null,r(n.ammountOfMatches),1),e("td",null,r(n.averageScore),1),e("td",null,r(n.averageWins+"%"),1)]))),128))])]),c(_)<900?(l(),d("div",_e,be)):C("",!0)]))),128))])])],64))}}),ke=v=>(D("data-v-dc1cc767"),v=v(),P(),v),$e={class:"OpenGames"},Me=ke(()=>e("h1",{class:"bp-title"},"Offene Spiele",-1)),ye=W('<ul class="nav nav-tabs justify-content-center" data-v-dc1cc767><li class="nav-item" data-v-dc1cc767><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#OpenGamesMain" data-v-dc1cc767>Vergangene Spiele</button></li><li class="nav-item" data-v-dc1cc767><button class="nav-link" data-bs-toggle="tab" data-bs-target="#OpenGamesStats" data-v-dc1cc767>Statistiken</button></li></ul>',1),Ce={class:"tab-content",id:"OpenGamesStatisticsContainer"},xe={class:"tab-pane fade show active",id:"OpenGamesMain"},Te={class:"og-time"},Ee={class:"tab-pane fade",id:"OpenGamesStats"},Ne=x({__name:"_OpenGames",setup(v){let g=f([]),s=f(!0),u=f(!1),_=m=>{let a=new Date(m),h=a.getHours()+":"+(a.getMinutes()<10?"0":"")+a.getMinutes();return a.toLocaleDateString("de-DE")+"  -  "+h+" Uhr"};const b=async()=>{g.value=await V(),g.value=g.value.reverse(),s.value=!1};b();const p=()=>{u.value=!u.value};return(m,a)=>(l(),d("div",$e,[Me,c(s)?(l(),M(J,{key:0})):C("",!0),z(e("div",null,[e("div",{class:"bp-button",onClick:a[0]||(a[0]=h=>p())},"Spiel eintragen"),(l(),M(j,{to:"body"},[y(F,{name:"fade"},{default:$(()=>[c(u)?(l(),M(re,{key:0,toggleModalAddGame:p,getOpenGames:b})):C("",!0)]),_:1})])),ye,e("div",Ce,[e("div",xe,[(l(!0),d(S,null,G(c(g),h=>(l(),d("div",{key:h.time,style:{"margin-top":"10px"}},[e("div",Te,r(c(_)(h.time)),1),y(X,{match:h},null,8,["match"])]))),128))]),e("div",Ee,[y(Oe,{openGames:c(g)},null,8,["openGames"])])])],512),[[I,!c(s)]])]))}}),ze=B(Ne,[["__scopeId","data-v-dc1cc767"]]);export{ze as default};
