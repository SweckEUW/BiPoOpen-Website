import{d as V,r as d,s as E,o as u,m as M,w as p,g as w,a as t,c as S,t as n,u as l,j as b,B as f,C as x,e as P,_ as $,n as C,b as k,T as R,D as U,p as N,h as D}from"./index-C_ziGoWE.js";import{y as H,z}from"./tournamentUtilFunctions-B90K6tPc.js";import{M as K}from"./Modal-Bi63RFYa.js";const O={class:"rt-modal-container"},j={key:0,class:"rt-modal-main"},A={class:"rt-modal-team"},L={class:"rt-modal-result"},q={class:"rt-modal-result"},F={class:"rt-modal-team"},J={key:1,class:"rt-modal-main"},Q={class:"rt-modal-team"},W={class:"rt-modal-team"},X={key:2,class:"rt-modal-players"},Y={style:{display:"flex","margin-bottom":"10px"}},Z={class:"rt-modal-player",style:{"text-align":"right"}},_={style:{display:"flex"}},ee={class:"rt-modal-player",style:{"text-align":"right"}},te={style:{display:"flex","margin-bottom":"10px"}},ae={class:"rt-modal-player"},le={style:{display:"flex"}},se={class:"rt-modal-player"},me=V({__name:"ModalSetGameResult",props:["getTournament","tournament","toggleModal","match","isGroupPhase"],setup(e){const a=e,v=async()=>{let T={team1Score:(m.value?m.value:0)+(s.value?s.value:0),team1Player1Score:m.value,team1Player2Score:s.value,team2Score:(r.value?r.value:0)+(i.value?i.value:0),team2Player1Score:r.value,team2Player2Score:i.value};await H(a.tournament,a.match._id,T),await a.getTournament(),a.toggleModal()},y=async()=>{let T={team1Score:(m.value?m.value:0)+(s.value?s.value:0),team1Player1Score:m.value,team1Player2Score:s.value,team2Score:(r.value?r.value:0)+(i.value?i.value:0),team2Player1Score:r.value,team2Player2Score:i.value};await z(a.tournament,a.match._id,T),await a.getTournament(),a.toggleModal()};let h=d(),m=d(),s=d(),g=d(),r=d(),i=d();E(()=>{a.match.result&&(h.value=a.match.result.team1Score,m.value=a.match.result.team1Player1Score,s.value=a.match.result.team1Player2Score,g.value=a.match.result.team2Score,r.value=a.match.result.team2Player1Score,i.value=a.match.result.team2Player2Score)});const I=()=>{h=d(),m=d(),s=d(),g=d(),r=d(),i=d()};return(T,c)=>(u(),M(K,null,{title:p(()=>[w("Ergebnis eintragen")]),template:p(()=>[t("div",O,[e.tournament.settings.trackPlayerShots?(u(),S("div",j,[t("div",A,n(e.match.team1.name),1),t("div",L,n((l(m)?l(m):0)+(l(s)?l(s):0)),1),t("div",q,n((l(r)?l(r):0)+(l(i)?l(i):0)),1),t("div",F,n(e.match.team2.name),1)])):(u(),S("div",J,[t("div",Q,n(e.match.team1.name),1),b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":c[0]||(c[0]=o=>x(h)?h.value=o:h=o),placeholder:"0"},null,512),[[f,l(h)]]),b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":c[1]||(c[1]=o=>x(g)?g.value=o:g=o),placeholder:"0"},null,512),[[f,l(g)]]),t("div",W,n(e.match.team2.name),1)])),e.tournament.settings.trackPlayerShots?(u(),S("div",X,[t("div",null,[t("div",Y,[t("div",Z,n(e.match.team1.players[0]),1),b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":c[2]||(c[2]=o=>x(m)?m.value=o:m=o),placeholder:"0"},null,512),[[f,l(m)]])]),t("div",_,[t("div",ee,n(e.match.team1.players[1]),1),b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":c[3]||(c[3]=o=>x(s)?s.value=o:s=o),placeholder:"0"},null,512),[[f,l(s)]])])]),t("div",null,[t("div",te,[b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":c[4]||(c[4]=o=>x(r)?r.value=o:r=o),placeholder:"0"},null,512),[[f,l(r)]]),t("div",ae,n(e.match.team2.players[0]),1)]),t("div",le,[b(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":c[5]||(c[5]=o=>x(i)?i.value=o:i=o),placeholder:"0"},null,512),[[f,l(i)]]),t("div",se,n(e.match.team2.players[1]),1)])])])):P("",!0)])]),cancle:p(()=>[t("div",{onClick:c[6]||(c[6]=o=>{I(),e.toggleModal()})},"Abbrechen")]),confirm:p(()=>[t("div",{onClick:c[7]||(c[7]=o=>{e.isGroupPhase?v():y()})},n(e.match.result?"Bearbeiten":"Eintragen"),1)]),_:1}))}}),oe=$(me,[["__scopeId","data-v-4e0516d0"]]),ne={class:"mt-team"},ce={class:"mt-team-name"},re={key:0,class:"mt-team-score"},ie={key:0},de={class:"mt-team-player"},ue={class:"mt-team-player-name"},he={class:"mt-team-player-score"},ve={class:"mt-team-player"},ye={class:"mt-team-player-name"},Se={class:"mt-team-player-score"},ge=V({__name:"MatchElementTeam",props:["match","isTeam2","playersVisible"],setup(e){const a=e;let v=a.match.team1;a.isTeam2&&(v=a.match.team2);let y,h,m;return a.match.result&&(y=a.match.result.team1Score,h=a.match.result.team1Player1Score,m=a.match.result.team1Player2Score,a.isTeam2&&(y=a.match.result.team2Score,h=a.match.result.team2Player1Score,m=a.match.result.team2Player2Score)),(s,g)=>(u(),S("div",{class:C(["MatchElementTeam",{"mt-team-loose":e.match.result&&(e.isTeam2?e.match.result.team1Score>e.match.result.team2Score:e.match.result.team2Score>e.match.result.team1Score),"mt-team-second":e.isTeam2}])},[t("div",ne,[t("div",ce,n(l(v)?l(v).name:e.isTeam2?e.match.placeHolderTeam2:e.match.placeHolderTeam1),1),l(y)!=null?(u(),S("div",re,n(l(y)),1)):P("",!0)]),l(v)&&e.playersVisible?(u(),S("div",ie,[t("div",de,[t("div",ue,n(l(v).players[0]),1),t("div",he,n(l(h)),1)]),t("div",ve,[t("div",ye,n(l(v).players[1]),1),t("div",Se,n(l(m)),1)])])):P("",!0)],2))}}),G=$(ge,[["__scopeId","data-v-c5418c8e"]]),B=e=>(N("data-v-55e29b6f"),e=e(),D(),e),Pe={class:"Match",ref:"matchHTMLElement"},be={key:0,class:"mt-handle"},fe=B(()=>t("div",{style:{"margin-bottom":"5px"}},null,-1)),xe=B(()=>t("div",null,null,-1)),pe=[fe,xe],Te={key:1,class:"mt-index"},ke={key:2,class:"mt-vs"},Me=V({__name:"MatchElement",props:["match","stageIndex","matchIndex","isBackend","tournament","getTournament","isGroupPhase"],setup(e){let a=d(!1);const v=()=>{a.value=!a.value};let y=d(!1),h=()=>{y.value=!y.value};return(m,s)=>(u(),S("div",Pe,[(u(),M(U,{to:"body"},[k(R,{name:"fade"},{default:p(()=>[l(a)?(u(),M(oe,{key:0,tournament:e.tournament,getTournament:e.getTournament,toggleModal:v,match:e.match,isGroupPhase:e.isGroupPhase},null,8,["tournament","getTournament","match","isGroupPhase"])):P("",!0)]),_:1})])),e.isBackend&&e.isGroupPhase?(u(),S("div",be,pe)):P("",!0),e.matchIndex!=null?(u(),S("div",Te,[t("div",null,n(e.matchIndex+1+"."),1)])):P("",!0),t("div",{class:"mt-teams",onClick:s[0]||(s[0]=g=>l(h)())},[k(G,{match:e.match,isTeam2:!1,playersVisible:l(y)},null,8,["match","playersVisible"]),k(G,{match:e.match,isTeam2:!0,playersVisible:l(y)},null,8,["match","playersVisible"])]),!e.match.result&&!e.isBackend||!e.match.team1||!e.match.team2?(u(),S("div",ke,"vs.")):P("",!0),e.isBackend&&e.match.team1&&e.match.team2?(u(),S("div",{key:3,class:"bp-button mt-button",onClick:s[1]||(s[1]=g=>v())},n(e.match.result?"Bearbeiten":"Eintragen"),1)):P("",!0)],512))}}),Be=$(Me,[["__scopeId","data-v-55e29b6f"]]);export{Be as M};
