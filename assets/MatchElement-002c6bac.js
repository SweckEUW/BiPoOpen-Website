import{d as I,r as v,k as C,o as s,A as G,x as M,q as R,a as t,c as n,t as a,u as d,w as g,B as f,C as k,i as y,_ as E,s as N,g as U,T as z,E as H,F as w,h as B,D as $,n as D,p as F,b as L}from"./index-09ac67fa.js";import{x as W,y as A}from"./tournamentUtilFunctions-e6c5b0a2.js";import{M as K}from"./Modal-1200542b.js";const O={class:"rt-modal-container"},j={key:0,class:"rt-modal-main"},q={class:"rt-modal-team"},J={class:"rt-modal-result"},Q={class:"rt-modal-result"},X={class:"rt-modal-team"},Y={key:1,class:"rt-modal-main"},Z={class:"rt-modal-team"},p={class:"rt-modal-team"},_={key:2,class:"rt-modal-players"},ee={style:{display:"flex","margin-bottom":"10px"}},te={class:"rt-modal-player",style:{"text-align":"right"}},ae={style:{display:"flex"}},le={class:"rt-modal-player",style:{"text-align":"right"}},se={style:{display:"flex","margin-bottom":"10px"}},me={class:"rt-modal-player"},ne={style:{display:"flex"}},oe={class:"rt-modal-player"},ce=I({__name:"ModalSetGameResult",props:["getTournament","tournament","toggleModal","match","isGroupPhase"],setup(e){const o=e,x=async()=>{let b={team1Score:(c.value?c.value:0)+(r.value?r.value:0),team1Player1Score:c.value,team1Player2Score:r.value,team2Score:(l.value?l.value:0)+(h.value?h.value:0),team2Player1Score:l.value,team2Player2Score:h.value};await W(o.tournament,o.match._id,b),await o.getTournament(),o.toggleModal()},P=async()=>{let b={team1Score:(c.value?c.value:0)+(r.value?r.value:0),team1Player1Score:c.value,team1Player2Score:r.value,team2Score:(l.value?l.value:0)+(h.value?h.value:0),team2Player1Score:l.value,team2Player2Score:h.value};await A(o.tournament,o.match._id,b),await o.getTournament(),o.toggleModal()};let S=v(),c=v(),r=v(),u=v(),l=v(),h=v();C(()=>{o.match.result&&(S.value=o.match.result.team1Score,c.value=o.match.result.team1Player1Score,r.value=o.match.result.team1Player2Score,u.value=o.match.result.team2Score,l.value=o.match.result.team2Player1Score,h.value=o.match.result.team2Player2Score)});const V=()=>{S=v(),c=v(),r=v(),u=v(),l=v(),h=v()};return(b,i)=>(s(),G(K,null,{title:M(()=>[R("Ergebnis eintragen")]),template:M(()=>[t("div",O,[e.tournament.settings.trackPlayerShots?(s(),n("div",j,[t("div",q,a(e.match.team1.name),1),t("div",J,a((d(c)?d(c):0)+(d(r)?d(r):0)),1),t("div",Q,a((d(l)?d(l):0)+(d(h)?d(h):0)),1),t("div",X,a(e.match.team2.name),1)])):(s(),n("div",Y,[t("div",Z,a(e.match.team1.name),1),g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[0]||(i[0]=m=>k(S)?S.value=m:S=m),placeholder:"0"},null,512),[[f,d(S)]]),g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[1]||(i[1]=m=>k(u)?u.value=m:u=m),placeholder:"0"},null,512),[[f,d(u)]]),t("div",p,a(e.match.team2.name),1)])),e.tournament.settings.trackPlayerShots?(s(),n("div",_,[t("div",null,[t("div",ee,[t("div",te,a(e.match.team1.players[0]),1),g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[2]||(i[2]=m=>k(c)?c.value=m:c=m),placeholder:"0"},null,512),[[f,d(c)]])]),t("div",ae,[t("div",le,a(e.match.team1.players[1]),1),g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[3]||(i[3]=m=>k(r)?r.value=m:r=m),placeholder:"0"},null,512),[[f,d(r)]])])]),t("div",null,[t("div",se,[g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[4]||(i[4]=m=>k(l)?l.value=m:l=m),placeholder:"0"},null,512),[[f,d(l)]]),t("div",me,a(e.match.team2.players[0]),1)]),t("div",ne,[g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[5]||(i[5]=m=>k(h)?h.value=m:h=m),placeholder:"0"},null,512),[[f,d(h)]]),t("div",oe,a(e.match.team2.players[1]),1)])])])):y("",!0)])]),cancle:M(()=>[t("div",{onClick:i[6]||(i[6]=m=>{V(),e.toggleModal()})},"Abbrechen")]),confirm:M(()=>[t("div",{onClick:i[7]||(i[7]=m=>{e.isGroupPhase?x():P()})},"Eintragen")]),_:1}))}});const re=E(ce,[["__scopeId","data-v-f3c5d5cf"]]),T=e=>(F("data-v-44df28e6"),e=e(),L(),e),ue={key:0,class:"mt-handle"},ie=T(()=>t("div",{style:{"margin-bottom":"5px"}},null,-1)),de=T(()=>t("div",null,null,-1)),he=[ie,de],ve={key:1,class:"mt-index"},ye={key:0,class:"mt-team-placeholder"},Se={key:1},ge={class:"mt-team-name"},fe={key:2,class:"mt-vs"},ke={class:"mt-result-team"},xe=T(()=>t("span",null,a(" - "),-1)),Pe={key:0,class:"mt-result-player"},Me=T(()=>t("span",null,a(" - "),-1)),Te={key:1,class:"mt-result-player"},be=T(()=>t("span",null,a(" - "),-1)),$e={key:0,class:"mt-team-placeholder"},Ge={key:1},we={class:"mt-team-name"},Be=I({__name:"MatchElement",props:["match","stageIndex","matchIndex","isBackend","tournament","getTournament","isGroupPhase"],setup(e){const o=e;let x=v(!1);const P=()=>{x.value=!x.value};let S=v(null);const c=()=>{if(window.innerWidth<500){let r=S.value.getElementsByClassName("mt-team-name");for(let u of r)u.innerText.length>16&&(u.style.fontSize="13px"),u.innerText.length>20&&(u.style.fontSize="12px")}};return N(()=>o.tournament,()=>{c()}),C(()=>{c()}),(r,u)=>(s(),n("div",{class:"Match",ref_key:"matchHTMLElement",ref:S},[(s(),G(H,{to:"body"},[U(z,{name:"fade"},{default:M(()=>[d(x)?(s(),G(re,{key:0,tournament:e.tournament,getTournament:e.getTournament,toggleModal:P,match:e.match,isGroupPhase:e.isGroupPhase},null,8,["tournament","getTournament","match","isGroupPhase"])):y("",!0)]),_:1})])),e.isBackend&&e.isGroupPhase?(s(),n("div",ue,he)):y("",!0),e.matchIndex!=null?(s(),n("div",ve,[t("div",null,a(e.matchIndex+1),1)])):y("",!0),t("div",{class:"mt-team mt-team-first",style:$({color:e.match.result&&e.match.result.team1Score<e.match.result.team2Score?"var(--loose-gray)":""})},[e.stageIndex==0||!e.match.team1?(s(),n("div",ye,a(e.match.placeHolderTeam1),1)):y("",!0),e.match.team1?(s(),n("div",Se,[t("div",ge,a(e.match.team1.name),1),(s(!0),n(w,null,B(e.match.team1.players,l=>(s(),n("div",{class:"mt-team-players",key:l},a(l),1))),128))])):y("",!0)],4),!e.match.result&&!e.isBackend||!e.match.team1||!e.match.team2?(s(),n("div",fe,"vs.")):y("",!0),e.isBackend&&!e.match.result&&e.match.team1&&e.match.team2?(s(),n("div",{key:3,class:"bp-button mt-button",onClick:u[0]||(u[0]=l=>P())},"Eintragen")):y("",!0),e.match.result?(s(),n("div",{key:4,class:D(["mt-result",{"mt-result-team1Win":e.match.result&&e.match.result.team1Score>e.match.result.team2Score,"mt-result-team2Win":e.match.result&&e.match.result.team1Score<e.match.result.team2Score}]),onClick:u[1]||(u[1]=l=>e.isBackend?P():""),style:$({justifyContent:e.tournament.settings.trackPlayerShots?"":"center",cursor:e.isBackend?"pointer":""})},[t("div",ke,[t("span",null,a(e.match.result.team1Score),1),xe,t("span",null,a(e.match.result.team2Score),1)]),e.tournament.settings.trackPlayerShots?(s(),n("div",Pe,[t("span",null,a(e.match.result.team1Player1Score),1),Me,t("span",null,a(e.match.result.team2Player1Score),1)])):y("",!0),e.tournament.settings.trackPlayerShots?(s(),n("div",Te,[t("span",null,a(e.match.result.team1Player2Score),1),be,t("span",null,a(e.match.result.team2Player2Score),1)])):y("",!0)],6)):y("",!0),t("div",{class:"mt-team mt-team-second",style:$({color:e.match.result&&e.match.result.team1Score>e.match.result.team2Score?"var(--loose-gray)":""})},[e.stageIndex==0||!e.match.team2?(s(),n("div",$e,a(e.match.placeHolderTeam2),1)):y("",!0),e.match.team2?(s(),n("div",Ge,[t("div",we,a(e.match.team2.name),1),(s(!0),n(w,null,B(e.match.team2.players,l=>(s(),n("div",{class:"mt-team-players",key:l},a(l),1))),128))])):y("",!0)],4)],512))}});const Ve=E(Be,[["__scopeId","data-v-44df28e6"]]);export{Ve as M};
