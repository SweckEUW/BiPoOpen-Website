import{d as S,r as B,k as _,w as p,b as m,t as d,u as t,c as n,F as g,l as k,n as b,v as x,D as R,h as G,o as a,_ as N,q as T,s as q,a as f,y as w,e as M,T as F,p as I,g as O}from"./index-C0la4iLJ.js";import{M as j}from"./Modal-CuT_Wx_f.js";import{c as V,g as $}from"./tournamentMatchFunctions-ttmkJZAU.js";const A={class:"rt-modal-container"},D={class:"rt-modal-main"},z={class:"rt-modal-team"},L={class:"rt-modal-player"},J=["onUpdate:modelValue"],P=S({__name:"ModalSetGameResult",props:{match:{type:Object,required:!0},setGameResult:{type:Function},toggleModal:{type:Function,required:!0}},setup(e){const l=e;let s=B(JSON.parse(JSON.stringify(l.match)));const v=()=>{l.setGameResult(s.value),l.toggleModal()};let o=h=>h.name?h.name:h.players.map(r=>r.name.trim()).filter(r=>r.length>0).join(" & ");return(h,r)=>(a(),_(j,null,{title:p(()=>[G("Ergebnis eintragen")]),template:p(()=>[m("div",A,[(a(!0),n(g,null,k([t(s).team1,t(s).team2],(y,c)=>(a(),n("div",D,[m("div",z,[m("div",{class:"rt-modal-team-name",style:b({textAlign:c===0?"right":"left"})},d(t(o)(y)),5),m("div",{class:"rt-modal-team-score",style:b({order:c===0?0:-1})},d(t($)(t(s),c==0)),5)]),(a(!0),n(g,null,k(y.players,i=>(a(),n("div",L,[m("div",{style:b({textAlign:c===0?"right":"left"})},d(i.name),5),x(m("input",{type:"number","onUpdate:modelValue":u=>i.score=u,placeholder:"0",style:b({order:c===0?0:-1})},null,12,J),[[R,i.score]])]))),256))]))),256))])]),cancle:p(()=>[m("div",{onClick:r[0]||(r[0]=y=>{e.toggleModal()})},"Abbrechen")]),confirm:p(()=>[m("div",{onClick:r[1]||(r[1]=y=>v())},d(t(V)(t(s))?"Bearbeiten":"Eintragen"),1)]),_:1}))}}),U=N(P,[["__scopeId","data-v-22901cff"]]),H={class:"mt-team"},K={class:"mt-team-name"},Q={key:0,class:"mt-team-score"},W={key:0},X={class:"mt-team-player"},Y={class:"mt-team-player-name"},Z={class:"mt-team-player-score"},ee=S({__name:"MatchElementTeam",props:{match:{type:Object,required:!0},playersVisible:{type:Boolean,required:!0},isTeam2:{type:Boolean,required:!0}},setup(e){const l=e;let s=l.isTeam2?l.match.team2:l.match.team1,v=T(()=>s?s.name?s.name:s.players.map(r=>r.name.trim()).filter(r=>r.length>0).join(" & "):"TBD"),o=T(()=>$(l.match,!l.isTeam2)),h=T(()=>$(l.match,l.isTeam2));return(r,y)=>(a(),n("div",{class:q(["MatchElementTeam",{"mt-team-loose":t(o)<t(h),"mt-team-second":e.isTeam2}])},[m("div",H,[m("div",K,d(t(v)),1),t(o)!=null?(a(),n("div",Q,d(t(o)),1)):f("",!0)]),t(s)&&e.playersVisible?(a(),n("div",W,[(a(!0),n(g,null,k(t(s).players,c=>(a(),n("div",X,[m("div",Y,d(c.name),1),m("div",Z,d(c.score),1)]))),256))])):f("",!0)],2))}}),E=N(ee,[["__scopeId","data-v-baf65d2f"]]),te=e=>(I("data-v-36cd2400"),e=e(),O(),e),ae={class:"Match",ref:"matchHTMLElement"},se={key:0,class:"mt-history"},le=te(()=>m("div",null,"Spiel Verlauf",-1)),re={key:0,class:"mt-vs"},ne=S({__name:"MatchElement",props:{match:{type:Object,required:!0},setGameResult:{type:Function},isBackend:{type:Boolean,default:!1}},setup(e){const l=e;let s=B(!1);const v=()=>{s.value=!s.value};let o=B(!1),h=()=>{l.match.team1.players.length!=1&&(o.value=!o.value)},r=(c,i)=>(c==0?l.match.team1:l.match.team2).players[i].name,y=c=>{switch(c){case"hit":return"Treffer";case"miss":return"Nullwurf";case"airball":return"Airball";case"bomb":return"Bombe";case"bouncer":return"Bouncer";case"trickshot":return"Trickshot";case"onfire":return"On Fire";case"ballsback":return"Treffer - Balls Back";case"lastCup":return"Letzter Becher";default:return c}};return(c,i)=>(a(),n("div",ae,[(a(),_(w,{to:"body"},[M(F,{name:"fade"},{default:p(()=>[t(s)?(a(),_(U,{key:0,toggleModal:v,match:e.match,setGameResult:e.setGameResult},null,8,["match","setGameResult"])):f("",!0)]),_:1})])),m("div",{class:"mt-teams",onClick:i[0]||(i[0]=u=>t(h)())},[M(E,{match:e.match,isTeam2:!1,playersVisible:t(o)},null,8,["match","playersVisible"]),M(E,{match:e.match,isTeam2:!0,playersVisible:t(o)},null,8,["match","playersVisible"]),e.match.turns&&e.match.turns.length>0&&t(o)?(a(),n("div",se,[le,(a(!0),n(g,null,k(e.match.turns,(u,C)=>(a(),n("div",{class:"mt-turn",style:b({"background-color":u.teamIndex==0?"var(--main-color)":"var(--secondary-color)"})},d(C+1+". "+t(r)(u.teamIndex,u.playerIndex)+" - "+t(y)(u.type)),5))),256))])):f("",!0)]),!t(V)(e.match)&&!e.isBackend||!e.match.team1||!e.match.team2?(a(),n("div",re,"vs.")):f("",!0),e.isBackend&&e.match.team1&&e.match.team2?(a(),n("div",{key:1,class:"bp-button mt-button",onClick:i[1]||(i[1]=u=>v())},d(t(V)(e.match)?"Bearbeiten":"Eintragen"),1)):f("",!0)],512))}}),ie=N(ne,[["__scopeId","data-v-36cd2400"]]);export{ie as M};
