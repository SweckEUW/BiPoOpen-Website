import{d as N,r as f,o as d,c,a as e,g as w,x as i,T as D,F as A,h as E,u as o,A as V,q as U,w as G,B as C,C as I,i as M,t as h,p as P,b as O,_ as R,k as Q,j as X}from"./index-09ac67fa.js";import{l as Y,m as Z,r as ee,s as K,c as te,n as ne,o as ae,p as se,q as j,t as H,u as le,v as oe}from"./tournamentUtilFunctions-e6c5b0a2.js";import{M as F}from"./Modal-1200542b.js";import{a as ue,S as re}from"./Schedule-52fb3d42.js";import"./pagination-1692739a.js";/* empty css                          */import"./MatchElement-002c6bac.js";const k=s=>(P("data-v-843ae1e2"),s=s(),O(),s),ie={class:"ParticipantsTab"},de=k(()=>e("div",null,"Teamname",-1)),me=k(()=>e("div",null,"Spieler 1",-1)),pe=k(()=>e("div",null,"Spieler 2",-1)),ce=k(()=>e("div",null,"Teamname",-1)),_e=k(()=>e("div",null,"Spieler 1",-1)),ge=k(()=>e("div",null,"Spieler 2",-1)),ve=k(()=>e("p",{style:{"text-align":"center"}},"Sicher das das Team gelöscht werden soll?",-1)),be={class:"table table-hover"},he=k(()=>e("thead",null,[e("tr",null,[e("th",null,"#"),e("th",null,"Teamname"),e("th",null,"Spieler")])],-1)),fe=["onClick"],ye=N({__name:"TeamsTab",props:["getTournament","tournament"],setup(s){const t=s,y=()=>{l.value="",r.value="",u.value=""};let m=f(!1);const p=()=>{m.value=!m.value};let _=f(!1);const x=()=>{_.value||y(),_.value=!_.value};let T=f(!1);const g=b=>{b&&(l.value=b.name,r.value=b.players[0],u.value=b.players[1],S.value=b),T.value=!T.value};let l=f(""),r=f(""),u=f("");const v=async()=>{let b={name:l.value.trim(),players:[r.value.trim(),u.value.trim()]};await Y(t.tournament._id,b)&&(await t.getTournament(),x())};let S=f();const $=async()=>{let b={name:l.value.trim(),players:[r.value.trim(),u.value.trim()],_id:S.value._id};await Z(t.tournament._id,b)&&(await t.getTournament(),g())},B=async()=>{await ee(t.tournament._id,S.value._id)&&(t.getTournament(),g(),p())};return(b,n)=>(d(),c("div",ie,[e("div",{class:"bp-button",onClick:n[0]||(n[0]=a=>x())},"Team hinzufügen"),w(D,{name:"fade"},{default:i(()=>[o(_)?(d(),V(F,{key:0},{title:i(()=>[U("Team hinzufügen")]),template:i(()=>[de,G(e("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=a=>I(l)?l.value=a:l=a)},null,512),[[C,o(l)]]),me,G(e("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=a=>I(r)?r.value=a:r=a)},null,512),[[C,o(r)]]),pe,G(e("input",{type:"text","onUpdate:modelValue":n[3]||(n[3]=a=>I(u)?u.value=a:u=a)},null,512),[[C,o(u)]])]),cancle:i(()=>[e("div",{onClick:n[4]||(n[4]=a=>x())},"Abbrechen")]),confirm:i(()=>[e("div",{onClick:n[5]||(n[5]=a=>v())},"Hinzufügen")]),_:1})):M("",!0)]),_:1}),w(D,{name:"fade"},{default:i(()=>[o(T)?(d(),V(F,{key:0},{title:i(()=>[U("Team Bearbeiten")]),template:i(()=>[ce,G(e("input",{type:"text","onUpdate:modelValue":n[6]||(n[6]=a=>I(l)?l.value=a:l=a)},null,512),[[C,o(l)]]),_e,G(e("input",{type:"text","onUpdate:modelValue":n[7]||(n[7]=a=>I(r)?r.value=a:r=a)},null,512),[[C,o(r)]]),ge,G(e("input",{type:"text","onUpdate:modelValue":n[8]||(n[8]=a=>I(u)?u.value=a:u=a)},null,512),[[C,o(u)]]),e("button",{onClick:n[9]||(n[9]=a=>{p()})},"Team löschen")]),cancle:i(()=>[e("div",{onClick:n[10]||(n[10]=a=>g())},"Abbrechen")]),confirm:i(()=>[e("div",{onClick:n[11]||(n[11]=a=>$())},"Bearbeiten")]),_:1})):M("",!0)]),_:1}),w(D,{name:"fade"},{default:i(()=>[o(m)?(d(),V(F,{key:0},{title:i(()=>[U("Team Löschen")]),template:i(()=>[ve]),cancle:i(()=>[e("div",{onClick:n[12]||(n[12]=a=>{p()})},"Abbrechen")]),confirm:i(()=>[e("div",{onClick:n[13]||(n[13]=a=>B())},"Löschen")]),_:1})):M("",!0)]),_:1}),e("table",be,[he,e("tbody",null,[(d(!0),c(A,null,E(s.tournament.teams,(a,J)=>(d(),c("tr",{onClick:z=>g(a),key:a.name},[e("td",null,h(J+1),1),e("td",null,h(a.name),1),e("td",null,[(d(!0),c(A,null,E(a.players,z=>(d(),c("span",{style:{"margin-right":"15px"},key:z},h(z),1))),128))])],8,fe))),128))])])]))}});const Te=R(ye,[["__scopeId","data-v-843ae1e2"]]),L=s=>(P("data-v-2b455729"),s=s(),O(),s),we={class:"ScheduleSettings"},Se=L(()=>e("h1",null,"Einstellungen",-1)),ke={class:"ss-setting"},xe=L(()=>e("div",{class:"ss-title"},"Würfe der Spieler eintragen?",-1)),$e=["checked"],Ge=L(()=>e("hr",null,null,-1)),Ce=N({__name:"ScheduleSettings",props:["getTournament","tournament"],setup(s){const t=s,y=async m=>{let p=t.tournament.settings;p.trackPlayerShots=m.srcElement.checked,await K(t.tournament._id,p)&&await t.getTournament()};return(m,p)=>(d(),c("div",we,[Se,e("div",ke,[xe,e("input",{type:"checkbox",class:"ss-input",checked:t.tournament.settings.trackPlayerShots,onInput:y},null,40,$e)]),Ge]))}});const Ie=R(Ce,[["__scopeId","data-v-2b455729"]]),q=s=>(P("data-v-9488e73b"),s=s(),O(),s),Me={class:"GroupsSettings"},Be=q(()=>e("h1",null,"Einstellungen",-1)),Ae={class:"gs-setting"},Ee=q(()=>e("div",{class:"gs-title"},"Anzahl Gruppen",-1)),Ne=["value"],De=q(()=>e("hr",null,null,-1)),Ve=N({__name:"GroupsSettings",props:["getTournament","tournament"],setup(s){const t=s,y=async m=>{let p=t.tournament.settings;p.fixedGroupAmmount=m.srcElement.value,await K(t.tournament._id,p)&&await t.getTournament()};return(m,p)=>(d(),c("div",Me,[Be,e("div",Ae,[Ee,e("input",{class:"gs-input",type:"number",value:t.tournament.settings.fixedGroupAmmount,onFocusout:y},null,40,Ne)]),De]))}});const Ue=R(Ve,[["__scopeId","data-v-9488e73b"]]),W=s=>(P("data-v-fbe9620f"),s=s(),O(),s),Fe={class:"LayoutTab"},Pe={style:{"text-align":"center","white-space":"break-spaces"}},Oe=["id"],Re=W(()=>e("thead",null,[e("tr",null,[e("th"),e("th",null,"#"),e("th",null,"Teamname"),e("th",null,"Spieler")])],-1)),ze=W(()=>e("td",{class:"lt-handle"},[e("div",{style:{"margin-bottom":"5px","margin-top":"5px"}}),e("div")],-1)),Le={key:0},qe=N({__name:"GroupsTab",props:["getTournament","tournament"],setup(s){const t=s,y=async()=>{var u;let g=[],l=t.tournament.settings.fixedGroupAmmount;for(let v=0;v<l;v++){let S=[],$=(u=document.getElementById("Group-"+v))==null?void 0:u.getElementsByTagName("tbody")[0].getElementsByTagName("tr");for(let B=0;B<$.length;B++)S.push({teamID:ae(t.tournament,$[B].getElementsByTagName("td")[2].innerText)._id});g.push({teams:S})}await se(t.tournament._id,g)&&(await t.getTournament(),await j(t.tournament),await t.getTournament(),await H(t.tournament),await t.getTournament(),m(),T())},m=()=>{setTimeout(()=>{let g=t.tournament.settings.fixedGroupAmmount;for(let l=0;l<g;l++){let u=document.getElementById("Group-"+l).getElementsByTagName("tbody")[0];new ue(u,{animation:150,group:"shared",handle:".lt-handle"})}},0)};Q(()=>{t.tournament.groupPhase.groups&&m()});const p=async()=>{await le(t.tournament),await t.getTournament(),await j(t.tournament),await t.getTournament(),await H(t.tournament),await t.getTournament(),T()};let _=f(!1),x=f(!1);const T=g=>{x.value=!x.value,g!=null&&(_.value=g)};return(g,l)=>(d(),c("div",Fe,[w(D,{name:"fade"},{default:i(()=>[o(x)?(d(),V(F,{key:0},{title:i(()=>[U(h(o(_)?"Gruppen auslosen":"Gruppen umsortieren"),1)]),template:i(()=>[e("p",Pe,h(o(_)?`Sicher das die Gruppen ausgelost werden sollen?
Dadurch wird der Spielplan neu generiert und der alte gelöscht!`:`Sicher das die Gruppen umsortiert werden sollen?
Dadurch wird der Spielplan neu generiert und der alte gelöscht!`),1)]),cancle:i(()=>[e("div",{onClick:l[0]||(l[0]=r=>T())},"Abbrechen")]),confirm:i(()=>[e("div",{onClick:l[1]||(l[1]=r=>o(_)?p():y())},h(o(_)?"Auslosen":"Umsortieren"),1)]),_:1})):M("",!0)]),_:1}),w(Ue,{tournament:s.tournament,getTournament:s.getTournament},null,8,["tournament","getTournament"]),e("div",{class:"bp-button",style:{"margin-bottom":"20px"},onClick:l[2]||(l[2]=r=>T(!0))},"Gruppen auslosen"),e("div",{class:"bp-button",onClick:l[3]||(l[3]=r=>T(!1))},"Gruppen umsortieren"),(d(!0),c(A,null,E(o(ne)(s.tournament),(r,u)=>(d(),c("table",{class:"table table-hover caption-top",key:u,id:"Group-"+u},[e("caption",null,h("Gruppe "+o(te)(u+1)),1),Re,e("tbody",null,[(d(!0),c(A,null,E(r.teams,(v,S)=>(d(),c("tr",{key:v},[ze,e("td",null,h(S+1),1),e("td",null,h(v?v.name:"Team nicht gefunden / wurde gelöscht"),1),v?(d(),c("td",Le,[(d(!0),c(A,null,E(v.players,$=>(d(),c("span",{style:{"margin-right":"15px"},key:$},h($),1))),128))])):M("",!0)]))),128))])],8,Oe))),128))]))}});const je=R(qe,[["__scopeId","data-v-fbe9620f"]]),He={key:0,class:"ManageTournament"},Ke=e("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home-tab-pane",type:"button",role:"tab","aria-controls":"home-tab-pane","aria-selected":"true"},"Teams")]),e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile-tab-pane",type:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":"false"},"Gruppen")]),e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link",id:"result-tab","data-bs-toggle":"tab","data-bs-target":"#result-tab-pane",type:"button",role:"tab","aria-controls":"result-tab-pane","aria-selected":"false"},"Spielplan")])],-1),We={class:"tab-content"},Je={class:"tab-pane fade show active",id:"home-tab-pane",role:"tabpanel","aria-labelledby":"home-tab",tabindex:"0"},Qe={class:"tab-pane fade",id:"profile-tab-pane",role:"tabpanel","aria-labelledby":"profile-tab",tabindex:"0"},Xe={class:"tab-pane fade",id:"result-tab-pane",role:"tabpanel","aria-labelledby":"result-tab",tabindex:"0"},lt=N({__name:"_ManageSingleTournament",setup(s){let t=f();const y=X(),m=async()=>{let p=y.params.id.replaceAll("-"," ");t.value=await oe(p)};return m(),(p,_)=>o(t)?(d(),c("div",He,[e("h1",null,h("Turnier: "+o(t).name),1),Ke,e("div",We,[e("div",Je,[w(Te,{getTournament:m,tournament:o(t)},null,8,["tournament"])]),e("div",Qe,[w(je,{getTournament:m,tournament:o(t)},null,8,["tournament"])]),e("div",Xe,[w(Ie,{getTournament:m,tournament:o(t)},null,8,["tournament"]),w(re,{getTournament:m,tournament:o(t),isBackend:!0},null,8,["tournament"])])])])):M("",!0)}});export{lt as default};
