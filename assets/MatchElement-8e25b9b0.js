import{d as I,r as y,k as C,o as l,A as G,x as b,q as R,a as t,c as m,t as a,u as d,w as g,B as k,C as x,i as v,_ as E,s as N,g as U,T as z,E as L,F as w,h as B,n as $,D as W,p as H,b as D}from"./index-71e6ea25.js";import{x as F,y as A}from"./tournamentUtilFunctions-c20f8ca3.js";import{M as K}from"./Modal-338be224.js";const O={class:"rt-modal-container"},j={key:0,class:"rt-modal-main"},q={class:"rt-modal-team"},J={class:"rt-modal-result"},Q={class:"rt-modal-result"},X={class:"rt-modal-team"},Y={key:1,class:"rt-modal-main"},Z={class:"rt-modal-team"},p={class:"rt-modal-team"},_={key:2,class:"rt-modal-players"},ee={style:{display:"flex","margin-bottom":"10px"}},te={class:"rt-modal-player",style:{"text-align":"right"}},ae={style:{display:"flex"}},le={class:"rt-modal-player",style:{"text-align":"right"}},se={style:{display:"flex","margin-bottom":"10px"}},me={class:"rt-modal-player"},ne={style:{display:"flex"}},ce={class:"rt-modal-player"},oe=I({__name:"ModalSetGameResult",props:["getTournament","tournament","toggleModal","match","isGroupPhase"],setup(e){const c=e,P=async()=>{let T={team1Score:(o.value?o.value:0)+(u.value?u.value:0),team1Player1Score:o.value,team1Player2Score:u.value,team2Score:(s.value?s.value:0)+(h.value?h.value:0),team2Player1Score:s.value,team2Player2Score:h.value};await F(c.tournament,c.match._id,T),await c.getTournament(),c.toggleModal()},f=async()=>{let T={team1Score:(o.value?o.value:0)+(u.value?u.value:0),team1Player1Score:o.value,team1Player2Score:u.value,team2Score:(s.value?s.value:0)+(h.value?h.value:0),team2Player1Score:s.value,team2Player2Score:h.value};await A(c.tournament,c.match._id,T),await c.getTournament(),c.toggleModal()};let S=y(),o=y(),u=y(),r=y(),s=y(),h=y();C(()=>{c.match.result&&(S.value=c.match.result.team1Score,o.value=c.match.result.team1Player1Score,u.value=c.match.result.team1Player2Score,r.value=c.match.result.team2Score,s.value=c.match.result.team2Player1Score,h.value=c.match.result.team2Player2Score)});const V=()=>{S=y(),o=y(),u=y(),r=y(),s=y(),h=y()};return(T,i)=>(l(),G(K,null,{title:b(()=>[R("Ergebnis eintragen")]),template:b(()=>[t("div",O,[e.tournament.settings.trackPlayerShots?(l(),m("div",j,[t("div",q,a(e.match.team1.name),1),t("div",J,a((d(o)?d(o):0)+(d(u)?d(u):0)),1),t("div",Q,a((d(s)?d(s):0)+(d(h)?d(h):0)),1),t("div",X,a(e.match.team2.name),1)])):(l(),m("div",Y,[t("div",Z,a(e.match.team1.name),1),g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[0]||(i[0]=n=>x(S)?S.value=n:S=n),placeholder:"0"},null,512),[[k,d(S)]]),g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[1]||(i[1]=n=>x(r)?r.value=n:r=n),placeholder:"0"},null,512),[[k,d(r)]]),t("div",p,a(e.match.team2.name),1)])),e.tournament.settings.trackPlayerShots?(l(),m("div",_,[t("div",null,[t("div",ee,[t("div",te,a(e.match.team1.players[0]),1),g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[2]||(i[2]=n=>x(o)?o.value=n:o=n),placeholder:"0"},null,512),[[k,d(o)]])]),t("div",ae,[t("div",le,a(e.match.team1.players[1]),1),g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[3]||(i[3]=n=>x(u)?u.value=n:u=n),placeholder:"0"},null,512),[[k,d(u)]])])]),t("div",null,[t("div",se,[g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[4]||(i[4]=n=>x(s)?s.value=n:s=n),placeholder:"0"},null,512),[[k,d(s)]]),t("div",me,a(e.match.team2.players[0]),1)]),t("div",ne,[g(t("input",{class:"rt-modal-input",type:"number",min:"0",max:"10","onUpdate:modelValue":i[5]||(i[5]=n=>x(h)?h.value=n:h=n),placeholder:"0"},null,512),[[k,d(h)]]),t("div",ce,a(e.match.team2.players[1]),1)])])])):v("",!0)])]),cancle:b(()=>[t("div",{onClick:i[6]||(i[6]=n=>{V(),e.toggleModal()})},"Abbrechen")]),confirm:b(()=>[t("div",{onClick:i[7]||(i[7]=n=>{e.isGroupPhase?P():f()})},"Eintragen")]),_:1}))}});const ue=E(oe,[["__scopeId","data-v-f3c5d5cf"]]),M=e=>(H("data-v-e011d4ba"),e=e(),D(),e),re={key:0,class:"mt-handle"},ie=M(()=>t("div",{style:{"margin-bottom":"5px"}},null,-1)),de=M(()=>t("div",null,null,-1)),he=[ie,de],ve={key:1,class:"mt-index"},ye={key:0,class:"mt-team-placeholder"},Se={key:1},ge={class:"mt-team-name"},ke={key:2,class:"mt-vs"},xe={key:0,class:"mt-result-team"},Pe=M(()=>t("span",null,a(" - "),-1)),fe={key:1,class:"mt-result-player"},be=M(()=>t("span",null,a(" - "),-1)),Me={key:2,class:"mt-result-player"},Te=M(()=>t("span",null,a(" - "),-1)),$e={key:0,class:"mt-team-placeholder"},Ge={key:1},we={class:"mt-team-name"},Be=I({__name:"MatchElement",props:["match","stageIndex","matchIndex","isBackend","tournament","getTournament","isGroupPhase"],setup(e){const c=e;let P=y(!1);const f=()=>{P.value=!P.value};let S=y(null);const o=()=>{if(window.innerWidth<500){let u=S.value.getElementsByClassName("mt-team-name");for(let r of u)r.innerText.length>16&&(r.style.fontSize="13px"),r.innerText.length>20&&(r.style.fontSize="12px")}};return N(()=>c.tournament,()=>{o()}),C(()=>{o()}),(u,r)=>(l(),m("div",{class:"Match",ref_key:"matchHTMLElement",ref:S},[(l(),G(L,{to:"body"},[U(z,{name:"fade"},{default:b(()=>[d(P)?(l(),G(ue,{key:0,tournament:e.tournament,getTournament:e.getTournament,toggleModal:f,match:e.match,isGroupPhase:e.isGroupPhase},null,8,["tournament","getTournament","match","isGroupPhase"])):v("",!0)]),_:1})])),e.isBackend&&e.isGroupPhase?(l(),m("div",re,he)):v("",!0),e.matchIndex!=null?(l(),m("div",ve,[t("div",null,a(e.matchIndex+1),1)])):v("",!0),t("div",{class:$(["mt-team mt-team-first",{"mt-result-team1Win":e.match.result&&e.match.result.team1Score>e.match.result.team2Score,"mt-result-team1Loose":e.match.result&&e.match.result.team1Score<e.match.result.team2Score}])},[e.stageIndex==0||!e.match.team1?(l(),m("div",ye,a(e.match.placeHolderTeam1),1)):v("",!0),e.match.team1?(l(),m("div",Se,[t("div",ge,a(e.match.team1.name),1),(l(!0),m(w,null,B(e.match.team1.players,s=>(l(),m("div",{class:"mt-team-players",key:s},a(s),1))),128))])):v("",!0)],2),!e.match.result&&!e.isBackend||!e.match.team1||!e.match.team2?(l(),m("div",ke,"vs.")):v("",!0),e.isBackend&&!e.match.result&&e.match.team1&&e.match.team2?(l(),m("div",{key:3,class:"bp-button mt-button",onClick:r[0]||(r[0]=s=>f())},"Eintragen")):v("",!0),e.match.result?(l(),m("div",{key:4,class:$(["mt-result",{"mt-result-team1Win":e.match.result&&e.match.result.team1Score>e.match.result.team2Score,"mt-result-team2Win":e.match.result&&e.match.result.team1Score<e.match.result.team2Score}]),onClick:r[1]||(r[1]=s=>e.isBackend?f():""),style:W({justifyContent:e.tournament.settings.trackPlayerShots?"":"center",cursor:e.isBackend?"pointer":""})},[e.tournament.settings.trackTeamShots?(l(),m("div",xe,[t("span",null,a(e.match.result.team1Score),1),Pe,t("span",null,a(e.match.result.team2Score),1)])):v("",!0),e.tournament.settings.trackPlayerShots?(l(),m("div",fe,[t("span",null,a(e.match.result.team1Player1Score),1),be,t("span",null,a(e.match.result.team2Player1Score),1)])):v("",!0),e.tournament.settings.trackPlayerShots?(l(),m("div",Me,[t("span",null,a(e.match.result.team1Player2Score),1),Te,t("span",null,a(e.match.result.team2Player2Score),1)])):v("",!0)],6)):v("",!0),t("div",{class:$(["mt-team mt-team-second",{"mt-result-team2Win":e.match.result&&e.match.result.team2Score>e.match.result.team1Score,"mt-result-team2Loose":e.match.result&&e.match.result.team2Score<e.match.result.team1Score}])},[e.stageIndex==0||!e.match.team2?(l(),m("div",$e,a(e.match.placeHolderTeam2),1)):v("",!0),e.match.team2?(l(),m("div",Ge,[t("div",we,a(e.match.team2.name),1),(l(!0),m(w,null,B(e.match.team2.players,s=>(l(),m("div",{class:"mt-team-players",key:s},a(s),1))),128))])):v("",!0)],2)],512))}});const Ve=E(Be,[["__scopeId","data-v-e011d4ba"]]);export{Ve as M};
