import{d as C,r as S,k as V,w as b,b as l,t as i,u as t,c as n,F as k,l as T,n as g,v as R,D as q,h as w,o as a,_ as E,q as B,s as F,a as p,y as D,e as $,T as I,p as O,g as j}from"./index-C8Sc0seR.js";import{M as A}from"./Modal-w_qtbi55.js";import{c as _,g as N}from"./tournamentMatchFunctions-ttmkJZAU.js";const z={class:"rt-modal-container"},L={class:"rt-modal-main"},J={class:"rt-modal-team"},P={class:"rt-modal-player"},U=["onUpdate:modelValue"],H=C({__name:"ModalSetGameResult",props:{match:{type:Object,required:!0},setGameResult:{type:Function},toggleModal:{type:Function,required:!0}},setup(e){const c=e;let s=S(JSON.parse(JSON.stringify(c.match)));const y=()=>{c.setGameResult(s.value),c.toggleModal()};let o=f=>f.name?f.name:f.players.map(r=>r.name.trim()).filter(r=>r.length>0).join(" & ");return(f,r)=>(a(),V(A,null,{title:b(()=>[w("Ergebnis eintragen")]),template:b(()=>[l("div",z,[(a(!0),n(k,null,T([t(s).team1,t(s).team2],(v,u)=>(a(),n("div",L,[l("div",J,[l("div",{class:"rt-modal-team-name",style:g({textAlign:u===0?"right":"left"})},i(t(o)(v)),5),l("div",{class:"rt-modal-team-score",style:g({order:u===0?0:-1})},i(t(N)(t(s),u==0)),5)]),(a(!0),n(k,null,T(v.players,m=>(a(),n("div",P,[l("div",{style:g({textAlign:u===0?"right":"left"})},i(m.name),5),R(l("input",{type:"number","onUpdate:modelValue":d=>m.score=d,placeholder:"0",style:g({order:u===0?0:-1})},null,12,U),[[q,m.score]])]))),256))]))),256))])]),cancle:b(()=>[l("div",{onClick:r[0]||(r[0]=v=>{e.toggleModal()})},"Abbrechen")]),confirm:b(()=>[l("div",{onClick:r[1]||(r[1]=v=>y())},i(t(_)(t(s))?"Bearbeiten":"Eintragen"),1)]),_:1}))}}),K=E(H,[["__scopeId","data-v-22901cff"]]),Q={class:"mt-team"},W={class:"mt-team-name"},X={key:0,class:"mt-team-score"},Y={key:0},Z={class:"mt-team-player"},ee={class:"mt-team-player-name"},te={class:"mt-team-player-score"},ae=C({__name:"MatchElementTeam",props:{match:{type:Object,required:!0},playersVisible:{type:Boolean,required:!0},isTeam2:{type:Boolean,required:!0}},setup(e){const c=e;let s=c.isTeam2?c.match.team2:c.match.team1,y=B(()=>s?s.name?s.name:s.players.map(r=>r.name.trim()).filter(r=>r.length>0).join(" & "):"TBD"),o=B(()=>N(c.match,!c.isTeam2)),f=B(()=>N(c.match,c.isTeam2));return(r,v)=>(a(),n("div",{class:F(["MatchElementTeam",{"mt-team-loose":t(o)<t(f),"mt-team-second":e.isTeam2}])},[l("div",Q,[l("div",W,i(t(y)),1),t(o)!=null?(a(),n("div",X,i(t(o)),1)):p("",!0)]),t(s)&&e.playersVisible?(a(),n("div",Y,[(a(!0),n(k,null,T(t(s).players,u=>(a(),n("div",Z,[l("div",ee,i(u.name),1),l("div",te,i(u.score),1)]))),256))])):p("",!0)],2))}}),x=E(ae,[["__scopeId","data-v-baf65d2f"]]),se=e=>(O("data-v-8483d983"),e=e(),j(),e),re={class:"Match",ref:"matchHTMLElement"},le={key:0,class:"mt-history"},ne=se(()=>l("div",null,"Spiel Verlauf",-1)),ce={key:0,class:"mt-vs"},oe=C({__name:"MatchElement",props:{match:{type:Object,required:!0},setGameResult:{type:Function},isBackend:{type:Boolean,default:!1}},setup(e){const c=e;let s=S(!1);const y=()=>{s.value=!s.value};let o=S(!1),f=()=>{o.value=!o.value},r=(m,d)=>(m==0?c.match.team1:c.match.team2).players[d].name,v=m=>{switch(m){case"hit":return"Treffer";case"miss":return"Nullwurf";case"airball":return"Airball";case"bomb":return"Bombe";case"bouncer":return"Bouncer";case"trickshot":return"Trickshot";case"onfire":return"On Fire";case"ballsback":return"Treffer - Balls Back";case"lastCup":return"Letzter Becher";default:return m}};function u(m,d){const h=d-m,M=Math.floor(h/6e4),G=Math.floor(h%6e4/1e3);return`${M}:${String(G).padStart(2,"0")} Minuten`}return(m,d)=>(a(),n("div",re,[(a(),V(D,{to:"body"},[$(I,{name:"fade"},{default:b(()=>[t(s)?(a(),V(K,{key:0,toggleModal:y,match:e.match,setGameResult:e.setGameResult},null,8,["match","setGameResult"])):p("",!0)]),_:1})])),l("div",{class:"mt-teams",onClick:d[0]||(d[0]=h=>t(f)())},[$(x,{match:e.match,isTeam2:!1,playersVisible:t(o)},null,8,["match","playersVisible"]),$(x,{match:e.match,isTeam2:!0,playersVisible:t(o)},null,8,["match","playersVisible"]),e.match.turns&&e.match.turns.length>0&&t(o)?(a(),n("div",le,[l("div",null,i("Dauer: "+u(e.match.time,e.match.endTime)),1),ne,(a(!0),n(k,null,T(e.match.turns,(h,M)=>(a(),n("div",{class:"mt-turn",style:g({"background-color":h.teamIndex==0?"var(--main-color)":"var(--secondary-color)"})},i(M+1+". "+t(r)(h.teamIndex,h.playerIndex)+" - "+t(v)(h.type)),5))),256))])):p("",!0)]),!t(_)(e.match)&&!e.isBackend||!e.match.team1||!e.match.team2?(a(),n("div",ce,"vs.")):p("",!0),e.isBackend&&e.match.team1&&e.match.team2?(a(),n("div",{key:1,class:"bp-button mt-button",onClick:d[1]||(d[1]=h=>y())},i(t(_)(e.match)?"Bearbeiten":"Eintragen"),1)):p("",!0)],512))}}),de=E(oe,[["__scopeId","data-v-8483d983"]]);export{de as M};
