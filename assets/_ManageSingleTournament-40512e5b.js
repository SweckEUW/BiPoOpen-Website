import{d as M,h as f,o as d,c as _,a as e,b as S,w as c,T as U,F as C,l as B,u,x as F,e as P,j as $,y as G,z as I,m as A,t as v,p as E,f as N,_ as V,n as q,k as J}from"./index-96cfb811.js";import{h as Q,i as X,r as Y,s as H,c as Z,b as ee,j as te,k as ne,l as j,m as L,n as ae,o as se}from"./tournamentUtilFunctions-a7bcc4cf.js";import{M as z}from"./Modal-3fba735e.js";import{a as le,S as oe}from"./Schedule-243ac81e.js";import"./MatchElement-da27f339.js";const k=a=>(E("data-v-3a44efaa"),a=a(),N(),a),ue={class:"ParticipantsTab"},re=k(()=>e("div",null,"Teamname",-1)),ie=k(()=>e("div",null,"Spieler 1",-1)),de=k(()=>e("div",null,"Spieler 2",-1)),me=k(()=>e("div",null,"Teamname",-1)),pe=k(()=>e("div",null,"Spieler 1",-1)),ce=k(()=>e("div",null,"Spieler 2",-1)),_e={class:"table table-hover"},ge=k(()=>e("thead",null,[e("tr",null,[e("th",null,"#"),e("th",null,"Teamname"),e("th",null,"Spieler")])],-1)),be=["onClick"],ve=M({__name:"TeamsTab",props:["getTournament","tournament"],setup(a){const t=a,h=()=>{i.value="",o.value="",l.value=""};let r=f(!1);const p=()=>{r.value||h(),r.value=!r.value};let g=f(!1);const w=m=>{m&&(i.value=m.name,o.value=m.players[0],l.value=m.players[1],b.value=m),g.value=!g.value};let i=f(""),o=f(""),l=f("");const y=async()=>{let m={name:i.value,players:[o.value,l.value]};await Q(t.tournament._id,m)&&(await t.getTournament(),p())};let b=f();const T=async()=>{let m={name:i.value,players:[o.value,l.value],_id:b.value._id};await X(t.tournament._id,m)&&(await t.getTournament(),w())},x=async()=>{await Y(t.tournament._id,b.value._id)&&(t.getTournament(),w())};return(m,n)=>(d(),_("div",ue,[e("div",{class:"bp-button",onClick:n[0]||(n[0]=s=>p())},"Team hinzufügen"),S(U,{name:"fade"},{default:c(()=>[u(r)?(d(),F(z,{key:0},{title:c(()=>[P("Team hinzufügen")]),template:c(()=>[re,$(e("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=s=>I(i)?i.value=s:i=s)},null,512),[[G,u(i)]]),ie,$(e("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=s=>I(o)?o.value=s:o=s)},null,512),[[G,u(o)]]),de,$(e("input",{type:"text","onUpdate:modelValue":n[3]||(n[3]=s=>I(l)?l.value=s:l=s)},null,512),[[G,u(l)]])]),cancle:c(()=>[e("div",{onClick:n[4]||(n[4]=s=>p())},"Abbrechen")]),confirm:c(()=>[e("div",{onClick:n[5]||(n[5]=s=>y())},"Hinzufügen")]),_:1})):A("",!0)]),_:1}),S(U,{name:"fade"},{default:c(()=>[u(g)?(d(),F(z,{key:0},{title:c(()=>[P("Team Bearbeiten")]),template:c(()=>[me,$(e("input",{type:"text","onUpdate:modelValue":n[6]||(n[6]=s=>I(i)?i.value=s:i=s)},null,512),[[G,u(i)]]),pe,$(e("input",{type:"text","onUpdate:modelValue":n[7]||(n[7]=s=>I(o)?o.value=s:o=s)},null,512),[[G,u(o)]]),ce,$(e("input",{type:"text","onUpdate:modelValue":n[8]||(n[8]=s=>I(l)?l.value=s:l=s)},null,512),[[G,u(l)]]),e("button",{onClick:n[9]||(n[9]=s=>x())},"Team löschen")]),cancle:c(()=>[e("div",{onClick:n[10]||(n[10]=s=>w())},"Abbrechen")]),confirm:c(()=>[e("div",{onClick:n[11]||(n[11]=s=>T())},"Bearbeiten")]),_:1})):A("",!0)]),_:1}),e("table",_e,[ge,e("tbody",null,[(d(!0),_(C,null,B(a.tournament.teams,(s,W)=>(d(),_("tr",{onClick:D=>w(s),key:s.name},[e("td",null,v(W+1),1),e("td",null,v(s.name),1),e("td",null,[(d(!0),_(C,null,B(s.players,D=>(d(),_("span",{style:{"margin-right":"15px"},key:D},v(D),1))),128))])],8,be))),128))])])]))}});const he=V(ve,[["__scopeId","data-v-3a44efaa"]]),O=a=>(E("data-v-2b455729"),a=a(),N(),a),ye={class:"ScheduleSettings"},Te=O(()=>e("h1",null,"Einstellungen",-1)),fe={class:"ss-setting"},we=O(()=>e("div",{class:"ss-title"},"Würfe der Spieler eintragen?",-1)),Se=["checked"],ke=O(()=>e("hr",null,null,-1)),xe=M({__name:"ScheduleSettings",props:["getTournament","tournament"],setup(a){const t=a,h=async r=>{let p=t.tournament.settings;p.trackPlayerShots=r.srcElement.checked,await H(t.tournament._id,p)&&await t.getTournament()};return(r,p)=>(d(),_("div",ye,[Te,e("div",fe,[we,e("input",{type:"checkbox",class:"ss-input",checked:t.tournament.settings.trackPlayerShots,onInput:h},null,40,Se)]),ke]))}});const $e=V(xe,[["__scopeId","data-v-2b455729"]]),R=a=>(E("data-v-9488e73b"),a=a(),N(),a),Ge={class:"GroupsSettings"},Ie=R(()=>e("h1",null,"Einstellungen",-1)),Ce={class:"gs-setting"},Be=R(()=>e("div",{class:"gs-title"},"Anzahl Gruppen",-1)),Me=["value"],Ae=R(()=>e("hr",null,null,-1)),Ee=M({__name:"GroupsSettings",props:["getTournament","tournament"],setup(a){const t=a,h=async r=>{let p=t.tournament.settings;p.fixedGroupAmmount=r.srcElement.value,await H(t.tournament._id,p)&&await t.getTournament()};return(r,p)=>(d(),_("div",Ge,[Ie,e("div",Ce,[Be,e("input",{class:"gs-input",type:"number",value:t.tournament.settings.fixedGroupAmmount,onFocusout:h},null,40,Me)]),Ae]))}});const Ne=V(Ee,[["__scopeId","data-v-9488e73b"]]),K=a=>(E("data-v-77e362c3"),a=a(),N(),a),Ve={class:"LayoutTab"},De={style:{"text-align":"center","white-space":"break-spaces"}},Ue=["id"],Fe=K(()=>e("thead",null,[e("tr",null,[e("th"),e("th",null,"#"),e("th",null,"Teamname"),e("th",null,"Spieler")])],-1)),Pe=K(()=>e("td",{class:"lt-handle"},[e("div",{style:{"margin-bottom":"5px","margin-top":"5px"}}),e("div")],-1)),ze=M({__name:"GroupsTab",props:["getTournament","tournament"],setup(a){const t=a,h=async()=>{var b;let o=[],l=t.tournament.settings.fixedGroupAmmount;for(let T=0;T<l;T++){let x=[],m=(b=document.getElementById("Group-"+T))==null?void 0:b.getElementsByTagName("tbody")[0].getElementsByTagName("tr");for(let n=0;n<m.length;n++)x.push({teamID:te(t.tournament,m[n].getElementsByTagName("td")[2].innerText)._id});o.push({teams:x})}await ne(t.tournament._id,o)&&(await t.getTournament(),await j(t.tournament),await t.getTournament(),await L(t.tournament),await t.getTournament(),r(),i())},r=()=>{setTimeout(()=>{let o=t.tournament.settings.fixedGroupAmmount;for(let l=0;l<o;l++){let b=document.getElementById("Group-"+l).getElementsByTagName("tbody")[0];new le(b,{animation:150,group:"shared",handle:".lt-handle"})}},0)};q(()=>{t.tournament.groupPhase.groups&&r()});const p=async()=>{await ae(t.tournament),await t.getTournament(),await j(t.tournament),await t.getTournament(),await L(t.tournament),await t.getTournament(),i()};let g=f(!1),w=f(!1);const i=o=>{w.value=!w.value,o!=null&&(g.value=o)};return(o,l)=>(d(),_("div",Ve,[S(U,{name:"fade"},{default:c(()=>[u(w)?(d(),F(z,{key:0},{title:c(()=>[P(v(u(g)?"Gruppen auslosen":"Gruppen umsortieren"),1)]),template:c(()=>[e("p",De,v(u(g)?`Sicher das die Gruppen ausgelost werden sollen?
Dadurch wird der Spielplan neu generiert und der alte gelöscht!`:`Sicher das die Gruppen umsortiert werden sollen?
Dadurch wird der Spielplan neu generiert und der alte gelöscht!`),1)]),cancle:c(()=>[e("div",{onClick:l[0]||(l[0]=y=>i())},"Abbrechen")]),confirm:c(()=>[e("div",{onClick:l[1]||(l[1]=y=>u(g)?p():h())},v(u(g)?"Auslosen":"Umsortieren"),1)]),_:1})):A("",!0)]),_:1}),S(Ne,{tournament:a.tournament,getTournament:a.getTournament},null,8,["tournament","getTournament"]),e("div",{class:"bp-button",style:{"margin-bottom":"20px"},onClick:l[2]||(l[2]=y=>i(!0))},"Gruppen auslosen"),e("div",{class:"bp-button",onClick:l[3]||(l[3]=y=>i(!1))},"Gruppen umsortieren"),(d(!0),_(C,null,B(u(ee)(a.tournament),(y,b)=>(d(),_("table",{class:"table table-hover caption-top",key:b,id:"Group-"+b},[e("caption",null,v("Gruppe "+u(Z)(b+1)),1),Fe,e("tbody",null,[(d(!0),_(C,null,B(y.teams,(T,x)=>(d(),_("tr",{key:T},[Pe,e("td",null,v(x+1),1),e("td",null,v(T.name),1),e("td",null,[(d(!0),_(C,null,B(T.players,m=>(d(),_("span",{style:{"margin-right":"15px"},key:m},v(m),1))),128))])]))),128))])],8,Ue))),128))]))}});const Oe=V(ze,[["__scopeId","data-v-77e362c3"]]),Re={key:0,class:"ManageTournament"},je=e("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home-tab-pane",type:"button",role:"tab","aria-controls":"home-tab-pane","aria-selected":"true"},"Teams")]),e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile-tab-pane",type:"button",role:"tab","aria-controls":"profile-tab-pane","aria-selected":"false"},"Gruppen")]),e("li",{class:"nav-item",role:"presentation"},[e("button",{class:"nav-link",id:"result-tab","data-bs-toggle":"tab","data-bs-target":"#result-tab-pane",type:"button",role:"tab","aria-controls":"result-tab-pane","aria-selected":"false"},"Spielplan")])],-1),Le={class:"tab-content"},He={class:"tab-pane fade show active",id:"home-tab-pane",role:"tabpanel","aria-labelledby":"home-tab",tabindex:"0"},Ke={class:"tab-pane fade",id:"profile-tab-pane",role:"tabpanel","aria-labelledby":"profile-tab",tabindex:"0"},We={class:"tab-pane fade",id:"result-tab-pane",role:"tabpanel","aria-labelledby":"result-tab",tabindex:"0"},Ze=M({__name:"_ManageSingleTournament",setup(a){let t=f();const h=J(),r=async()=>{let p=h.params.id.replaceAll("-"," ");t.value=await se(p)};return r(),(p,g)=>u(t)?(d(),_("div",Re,[e("h1",null,v("Turnier: "+u(t).name),1),je,e("div",Le,[e("div",He,[S(he,{getTournament:r,tournament:u(t)},null,8,["tournament"])]),e("div",Ke,[S(Oe,{getTournament:r,tournament:u(t)},null,8,["tournament"])]),e("div",We,[S($e,{getTournament:r,tournament:u(t)},null,8,["tournament"]),S(oe,{getTournament:r,tournament:u(t),isBackend:!0},null,8,["tournament"])])])])):A("",!0)}});export{Ze as default};
