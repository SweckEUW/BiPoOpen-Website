import{d as M,r as S,f as P,o as _,c as p,w as k,v as C,u as i,g as b,a,n as d,t as o,F as x,h as L,i as z,p as D,b as V,_ as $}from"./index-Dfb8zgmz.js";import{g as H,a as N}from"./tournamentUtilFunctions-BIG58-Zc.js";import{L as T}from"./Loadingscreen-CzMxbNkL.js";const m=f=>(D("data-v-1c85610e"),f=f(),V(),f),A={class:"HallofFame"},B=m(()=>a("h1",{class:"bp-title"},o("Hall of Fame"),-1)),U=m(()=>a("div",{class:"hof-text"},"Statistiken alle Spieler aus allen Turnieren sortiert nach der Anzahl der Siegen",-1)),R={class:"table table-hover caption-top"},j={style:{height:"auto"}},q={key:0,class:"hof-explain"},G=m(()=>a("div",null,"*Pl. = Platz",-1)),J=m(()=>a("div",null,"*Sieg. = Siege",-1)),K=m(()=>a("div",null,"*Spie. = Spiele",-1)),Q=m(()=>a("div",null,"*Siegwahr. = Siegwahrscheinlichkeit",-1)),X=[G,J,K,Q],Y=M({__name:"_HallOfFame",setup(f){let g=S([]),l=S("wins"),r=S(!1),w=["2020","2022","2023"];const W=async()=>{let n=[];for(let e=0;e<w.length;e++){let t=await H(w[e]);n.push(t)}g.value=n};W();let O=setInterval(()=>{W()},1e4);P(()=>{clearInterval(O)});let c=S(window.screen.width);window.addEventListener("resize",()=>{c.value=window.screen.width});const I=()=>{let n=[];g.value.forEach(e=>{N(e).forEach(s=>{let u=n.find(F=>F.name==s.name);u?(u.score+=s.score,u.ammountOfMatches+=s.ammountOfMatches,u.ammountOfDrunkenCups+=s.ammountOfDrunkenCups,u.averageScore+=s.averageScore,u.averageWins+=s.averageWins,u.wins+=s.wins):n.push(s)})}),n.forEach(e=>{let t=e.ammountOfMatches==0?0:e.wins/e.ammountOfMatches;t*=100,t=t.toFixed(0),e.averageWins=t}),n.sort((e,t)=>t.wins==e.wins?t.averageWins-e.averageWins:t.wins-e.wins);for(let e=0;e<n.length;e++){n[e].placement=e;let t=n.filter(s=>s.averageWins==n[e].averageWins&&s.wins==n[e].wins);t.length>1&&t.forEach(s=>{s.placement=t[0].placement})}return n},E=n=>(n.sort((e,t)=>l.value=="name"?r.value?e[l.value].localeCompare(t[l.value]):t[l.value].localeCompare(e[l.value]):t[l.value]==e[l.value]?r.value?t.placement-e.placement:e.placement-t.placement:r.value?e[l.value]-t[l.value]:t[l.value]-e[l.value]),n),v=n=>{l.value==n?r.value=!r.value:r.value=!1,l.value=n},h=n=>{if(n==l.value)return r.value?"mvp-arrow mvp-arrow-up":"mvp-arrow mvp-arrow-down"};return(n,e)=>(_(),p("div",A,[B,k(b(T,null,null,512),[[C,i(g).length!=i(w).length]]),k(a("div",null,[U,a("table",R,[a("thead",null,[a("tr",j,[a("th",{onClick:e[0]||(e[0]=t=>v("placement")),class:d(h("placement"))},o(i(c)>900?"Platz":"Pl."),3),a("th",{onClick:e[1]||(e[1]=t=>v("name")),class:d(h("name"))},o("Name"),2),a("th",{onClick:e[2]||(e[2]=t=>v("wins")),class:d(h("wins"))},o(i(c)>900?"Siege":"Sieg."),3),a("th",{onClick:e[3]||(e[3]=t=>v("ammountOfMatches")),class:d(h("ammountOfMatches"))},o(i(c)>900?"Spiele":"Spie."),3),a("th",{onClick:e[4]||(e[4]=t=>v("averageWins")),class:d(h("averageWins"))},o(i(c)>900?"Siegwahrscheinlichkeit":"Siegwahr."),3)])]),a("tbody",null,[(_(!0),p(x,null,L(E(I()),(t,s)=>(_(),p("tr",{key:s},[a("td",null,o(t.placement+1),1),a("td",null,o(t.name.replace(" ",`
`)),1),a("td",null,o(t.wins),1),a("td",null,o(t.ammountOfMatches),1),a("td",null,o(t.averageWins+"%"),1)]))),128))])]),i(c)<900?(_(),p("div",q,X)):z("",!0)],512),[[C,i(g).length==i(w).length]])]))}}),te=$(Y,[["__scopeId","data-v-1c85610e"]]);export{te as default};
